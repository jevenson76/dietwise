
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for dietwise/android/app/src/main/assets/public/assets/MealPlannerComponent-C0KOzsZx-1750787826931.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../../../index.html">All files</a> / <a href="index.html">dietwise/android/app/src/main/assets/public/assets</a> MealPlannerComponent-C0KOzsZx-1750787826931.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >import{A as w,g as _,t as D,j as e,a as k,L as S}from"./index-CCetcO3c-1750787826931.js";import{r as c}from"./stripe-vendor-B3HR4MyU-1750787826931.js";import"./react-vendor-DV_4xMyD-1750787826931.js";import"./pdf-vendor-DY8QywdO-1750787826931.js";import"./date-vendor-Ck9yc1TP-1750787826931.js";import"./ai-vendor-D-53sdHu-1750787826931.js";import"./scanner-vendor-UkOZGUfT-1750787826931.js";import"./chart-vendor-0DHGgTMd-1750787826931.js";const L=15*60*1e3,N=({mealName:s,meal:l,accentColor:r})=&gt;e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{className:`font-semibold ${r}`,children:s}),e.jsxs("p",{className:"text-sm text-text-default",children:[e.jsx("span",{className:"font-medium",children:l.name}),": ",l.description]}),l.calories&amp;&amp;e.jsxs("p",{className:"text-xs text-text-alt",children:["~",l.calories," kcal"]})]}),E=({dayPlan:s})=&gt;e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg shadow-md mb-4 border border-border-default",children:[e.jsxs("h4",{className:"text-lg font-semibold text-teal-700 dark:text-teal-400 mb-3 border-b border-slate-300 dark:border-slate-600 pb-2",children:["Day ",s.day," ",s.dailyCalories?e.jsxs("span",{className:"text-sm font-normal text-text-alt",children:["(~",s.dailyCalories," kcal)"]}):""]}),e.jsx(N,{mealName:"Breakfast",meal:s.meals.breakfast,accentColor:"text-orange-600 dark:text-orange-400"}),e.jsx(N,{mealName:"Lunch",meal:s.meals.lunch,accentColor:"text-lime-600 dark:text-lime-400"}),e.jsx(N,{mealName:"Dinner",meal:s.meals.dinner,accentColor:"text-sky-600 dark:text-sky-400"}),s.meals.snacks&amp;&amp;s.meals.snacks.length&gt;0&amp;&amp;e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-purple-600 dark:text-purple-400",children:"Snacks"}),s.meals.snacks.map((l,r)=&gt;e.jsxs("p",{className:"text-sm text-text-alt ml-2 mb-1",children:[e.jsx("span",{className:"font-medium text-text-default",children:l.name}),": ",l.description," ",l.calories?e.jsxs("span",{className:"text-xs text-text-alt",children:["(~",l.calories," kcal)"]}):""]},r))]})]}),H=({calorieTarget:s,isProfileComplete:l,apiKeyStatus:r,apiKeyMissing:i,onPlanGenerated:p})=&gt;{const[h,b]=c.useState(null),[u,f]=c.useState(!1),[y,o]=c.useState(null),[m,C]=c.useState(""),[v,g]=c.useState([]),n=c.useRef(null),P=c.useCallback(async()=&gt;{if(i){o(w);return}if(!s){o("Please complete your profile and set goals to generate a meal plan.");return}if(r==="missing"){o("API Key is not configured. This feature is unavailable.");return}f(!0),o(null),b(null),g([]);const a=`mealPlan-${s}-${m}`,x=Date.now();if(n.current&amp;&amp;n.current.key===a&amp;&amp;x-n.current.timestamp&lt;L){b(n.current.data),g(n.current.sources||[]),f(!1),p(`Cached Plan for ${s} kcal`);return}try{const t=await _(s,m);let d=[];t.sources&amp;&amp;(d=t.sources.filter(j=&gt;j.web!==void 0).map(j=&gt;({web:j.web}))),g(d),t.planData?(b(t.planData),n.current={key:a,data:t.planData,sources:d,timestamp:x},D("meal_plan_fetch_success",{calorieTarget:s,preferences:m}),p(`Plan for ${s} kcal`)):(o(t.error||"Failed to generate meal plan. Please try again."),D("meal_plan_fetch_error",{calorieTarget:s,preferences:m,error:t.error}),n.current=null)}catch(t){const d=t.message||"An unexpected error occurred while generating the plan.";o(d),n.current=null}finally{f(!1)}},[s,m,r,i,p]),A="mt-1 block w-full px-4 py-2.5 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm placeholder-slate-400 bg-bg-card text-text-default dark:placeholder-slate-500";return!l||!s?e.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-4",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2.5 text-sky-500 dark:text-sky-400"}),"7-Day Meal Plan &amp; Shopping List"]}),e.jsx("div",{className:"bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 text-sky-700 dark:text-sky-300 p-4 rounded-md text-center",role:"status",children:e.jsxs("p",{className:"font-medium",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"Complete your profile and set a weight goal to generate a personalized 7-day meal plan and shopping list."]})})]}):e.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-2",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2.5 text-sky-500 dark:text-sky-400"}),"AI 7-Day Meal Plan &amp; Shopping List"]}),e.jsxs("p",{className:"text-sm text-text-alt mb-6",children:["Enter any dietary preferences and let AI craft a plan for your ~",s," kcal target!"]}),i&amp;&amp;e.jsx(k,{type:"warning",message:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"7-Day Planner Disabled:"}),e.jsx("br",{}),w]}),className:"mb-4"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"planPreferences",className:"block text-sm font-medium text-text-alt",children:"Dietary Preferences or Foods to Include/Avoid (optional)"}),e.jsx("input",{type:"text",id:"planPreferences",value:m,onChange:a=&gt;C(a.target.value),className:A,placeholder:"e.g., vegetarian, high protein, gluten-free, no mushrooms",maxLength:250,disabled:i}),e.jsx("p",{className:"text-xs text-text-alt mt-1.5",children:'Example: "vegetarian, loves spicy food, allergic to peanuts"'})]}),e.jsx("button",{onClick:P,disabled:u||!s||r!=="ok"||i,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center","aria-busy":u,children:u?e.jsx(S,{size:"sm",color:"text-white",label:"Generating plan"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-magic fa-fw mr-2"}),"Generate Plan &amp; List"]})}),r==="missing"&amp;&amp;!i&amp;&amp;e.jsx(k,{type:"warning",message:"Gemini API Key is missing or invalid. Plan generation is disabled.",className:"mt-4"}),y&amp;&amp;e.jsx(k,{type:"error",message:y,onClose:()=&gt;o(null),className:"mt-4"}),u&amp;&amp;e.jsxs("div",{className:"mt-8 text-center","aria-live":"polite",children:[e.jsx(S,{size:"md",color:"text-teal-600 dark:text-teal-400"}),e.jsx("p",{className:"text-text-alt mt-3",children:"Generating your personalized plan... this may take a moment."})]}),h&amp;&amp;!u&amp;&amp;e.jsxs("div",{className:"mt-8 pt-6 border-t border-border-default",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 lg:gap-x-8",children:[e.jsxs("div",{className:"mb-8 md:mb-0",children:[e.jsxs("h3",{className:"text-2xl font-semibold text-text-default mb-4 pb-2 border-b-2 border-teal-500",children:[e.jsx("i",{className:"fas fa-utensils mr-2 text-teal-600 dark:text-teal-400"}),"Your 7-Day Meal Plan"]}),e.jsx("p",{className:"text-sm text-text-alt mb-4",children:"Here's a sample meal plan. Adjust portion sizes based on your specific needs and the provided calorie estimates."}),e.jsx("div",{className:"space-y-5 max-h-[100vh] overflow-y-auto pr-3 -mr-1 custom-scrollbar",children:h.dailyPlans.map(a=&gt;e.jsx(E,{dayPlan:a},a.day))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-semibold text-text-default mb-4 pb-2 border-b-2 border-orange-500",children:[e.jsx("i",{className:"fas fa-shopping-cart mr-2 text-orange-600 dark:text-orange-400"}),"Shopping List"]}),e.jsx("div",{className:"bg-orange-50 dark:bg-orange-800/30 p-4 rounded-lg shadow-md max-h-[100vh] overflow-y-auto pr-3 -mr-1 custom-scrollbar border border-orange-200 dark:border-orange-700",children:h.shoppingList.map((a,x)=&gt;e.jsxs("div",{className:"mb-4 last:mb-0",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 dark:text-orange-300 mb-2 capitalize",children:a.category}),e.jsx("ul",{className:"list-disc list-inside space-y-1.5 pl-2",children:a.items.map((t,d)=&gt;e.jsxs("li",{className:"text-sm text-text-default",children:[e.jsx("span",{className:"font-medium",children:t.name}),t.quantity&amp;&amp;e.jsxs("span",{className:"text-xs text-text-alt",children:[" - ",t.quantity]}),t.brandSuggestion&amp;&amp;e.jsxs("span",{className:"block text-xs text-text-alt italic ml-4",children:[" Suggestion: ",t.brandSuggestion]}),t.notes&amp;&amp;e.jsxs("span",{className:"block text-xs text-text-alt ml-4",children:[" Note: ",t.notes]})]},d))})]},x))})]})]}),v.length&gt;0&amp;&amp;e.jsxs("div",{className:"mt-8 p-3 bg-sky-50 dark:bg-sky-800/50 border border-sky-200 dark:border-sky-700 rounded-lg w-full text-xs",children:[e.jsx("h4",{className:"text-sm font-semibold text-sky-700 dark:text-sky-300 mb-1.5",children:"Data Sources (from Google Search):"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:v.map((a,x)=&gt;a.web.uri?e.jsx("li",{children:e.jsx("a",{href:a.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 dark:text-sky-400 hover:underline hover:text-sky-800 dark:hover:text-sky-300",children:a.web.title||a.web.uri})},x):null)})]})]})]})};export{H as default};<span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" ></span></span></span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-06-25T15:38:37.352Z
            </div>
        <script src="../../../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../../../sorter.js"></script>
        <script src="../../../../../../../../block-navigation.js"></script>
    </body>
</html>
    