
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for dietwise/ios/App/App/public/assets/ProgressTabComponent-DkLoXxgO-1750787826931.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../index.html">All files</a> / <a href="index.html">dietwise/ios/App/App/public/assets</a> ProgressTabComponent-DkLoXxgO-1750787826931.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >import{j as t,b as M,t as q,a as z}from"./index-CCetcO3c-1750787826931.js";import{r as N}from"./stripe-vendor-B3HR4MyU-1750787826931.js";import{C as B}from"./chart-vendor-0DHGgTMd-1750787826931.js";import{L as p,l as f,O as G,C as W,t as H,I as E,u as $}from"./date-vendor-Ck9yc1TP-1750787826931.js";import"./react-vendor-DV_4xMyD-1750787826931.js";import"./pdf-vendor-DY8QywdO-1750787826931.js";import"./ai-vendor-D-53sdHu-1750787826931.js";import"./scanner-vendor-UkOZGUfT-1750787826931.js";const K=({userProfile:e,actualWeightLog:o,currentTheme:C})=&gt;{const d=N.useRef(null),w=N.useRef(null);return N.useEffect(()=&gt;{var F;if(!d.current)return;w.current&amp;&amp;w.current.destroy();const u=d.current.getContext("2d");if(!u)return;const c=C==="dark",y=c?"rgb(203, 213, 225)":"rgb(71, 85, 105)",b=c?"rgba(71, 85, 105, 0.5)":"rgba(203, 213, 225, 0.5)",v=c?"rgb(241, 245, 249)":"rgb(51, 65, 85)",h=v;if(!e||e.targetWeight===null){u.clearRect(0,0,d.current.width,d.current.height),u.font="16px Inter, sans-serif",u.fillStyle=y,u.textAlign="center",u.fillText("Set a target weight in Profile to see your progress chart.",d.current.width/2,d.current.height/2);return}const x=[...o].sort((a,i)=&gt;p(a.date).getTime()-p(i.date).getTime()),k=x.map(a=&gt;({x:f(p(a.date)).getTime(),y:a.weight}));let n=[];const r=e.targetWeight;let m,s=(F=e.startWeight)!=null?F:null;if(!s&amp;&amp;x.length&gt;0?s=x[0].weight:!s&amp;&amp;e.weight&amp;&amp;(s=e.weight),x.length&gt;0?m=f(p(x[0].date)):e.profileCreationDate?m=f(p(e.profileCreationDate)):m=f(new Date),r!==null&amp;&amp;s!==null){let a,i;if(e.targetDate){const g=f(p(e.targetDate)),I=G(g,m);I&gt;0?(i=I/7,a=(r-s)/i):(i=Math.abs(r-s)/M,a=s&gt;r?-M:M,s===r&amp;&amp;(a=0))}else i=Math.abs(r-s)/M,a=s&gt;r?-M:M,s===r&amp;&amp;(a=0);(Math.abs(a)===1/0||isNaN(a))&amp;&amp;(a=0);const O=e.targetDate?Math.max(i+1,4):Math.max(i+4,8);for(let g=0;g&lt;=Math.ceil(O);g++){const I=W(m,g);let j=s+g*a;if(a&gt;0&amp;&amp;j&gt;r&amp;&amp;(j=r),a&lt;0&amp;&amp;j&lt;r&amp;&amp;(j=r),n.push({x:I.getTime(),y:parseFloat(j.toFixed(1))}),e.targetDate&amp;&amp;j===r&amp;&amp;g&gt;=i&amp;&amp;i&gt;0||g&gt;i+12&amp;&amp;!e.targetDate)break}if(e.targetDate&amp;&amp;n.length&gt;0){const g=f(p(e.targetDate)).getTime();n[n.length-1].x&lt;g?n.push({x:g,y:r}):(n=n.filter(j=&gt;j.x&lt;=g),(n.length===0||n[n.length-1].x&lt;g)&amp;&amp;n.push({x:g,y:r})),n=n.sort((j,_)=&gt;j.x-_.x)}else if(n.length===0&amp;&amp;s!==null&amp;&amp;r!==null&amp;&amp;(n.push({x:m.getTime(),y:s}),s!==r)){const g=e.targetDate?f(p(e.targetDate)):W(m,Math.ceil(i)||1);n.push({x:g.getTime(),y:r})}}let l=f(new Date).getTime(),D=l,S=l,T=!1;if(k.length&gt;0){const a=k.map(i=&gt;i.x);l=Math.min(l,...a),D=Math.max(...a),T=!0}if(n.length&gt;0){const a=n.map(i=&gt;i.x);l=T?Math.min(l,...a):Math.min(l,...a),S=Math.max(...a),T=!0}if(!T){const a=f(new Date).getTime();l=a,D=W(new Date(a),4).getTime(),S=D,r!==null&amp;&amp;(s!==null&amp;&amp;n.push({x:a,y:s}),n.push({x:W(new Date(a),4).getTime(),y:r}))}let R=Math.max(l,D,S,W(f(new Date),1).getTime());H(new Date(R),new Date(l))&lt;4&amp;&amp;(R=W(new Date(l),4).getTime());const A={type:"line",data:{datasets:[{label:"Actual Weight",data:k,borderColor:c?"rgb(20, 184, 166)":"rgb(13, 148, 136)",backgroundColor:c?"rgba(20, 184, 166, 0.2)":"rgba(13, 148, 136, 0.1)",tension:.2,fill:!1,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:c?"rgb(20, 184, 166)":"rgb(13, 148, 136)"},{label:"Projected Path",data:n,borderColor:c?"rgb(251, 146, 60)":"rgb(249, 115, 22)",borderDash:[6,3],tension:.2,fill:!1,pointRadius:3,pointHoverRadius:5,pointBackgroundColor:c?"rgb(251, 146, 60)":"rgb(249, 115, 22)"},{label:"Target Weight",data:r!==null&amp;&amp;T?[{x:l,y:r},{x:R,y:r}]:[],borderColor:c?"rgb(96, 165, 250)":"rgb(59, 130, 246)",borderDash:[10,5],borderWidth:2.5,pointRadius:0,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{type:"time",time:{unit:"day",tooltipFormat:"MMM d, yyyy",displayFormats:{day:"MMM d"}},title:{display:!0,text:"Date",font:{size:14,family:"Inter, sans-serif"},color:v},min:l,max:R,grid:{color:b},ticks:{color:y,maxTicksLimit:7,padding:10,autoSkip:!0}},y:{title:{display:!0,text:"Weight (lbs)",font:{size:14,family:"Inter, sans-serif"},color:v},beginAtZero:!1,grid:{color:b},ticks:{color:y}}},plugins:{legend:{position:"bottom",labels:{font:{family:"Inter, sans-serif"},color:h,usePointStyle:!0,boxWidth:8}},tooltip:{mode:"index",intersect:!1,backgroundColor:c?"rgba(30, 41, 59, 0.9)":"rgba(15, 23, 42, 0.85)",titleFont:{size:14,family:"Inter, sans-serif",weight:"bold"},bodyFont:{family:"Inter, sans-serif"},titleColor:c?"#f1f5f9":"#ffffff",bodyColor:c?"#e2e8f0":"#f1f5f9",padding:10,cornerRadius:6,callbacks:{title:function(a){if(a.length&gt;0){const i=new Date(a[0].parsed.x);return E(i,"EEEE, MMM d, yyyy")}return""},label:function(a){let i=a.dataset.label||"";return i&amp;&amp;(i+=": "),a.parsed.y!==null&amp;&amp;(i+=a.parsed.y.toFixed(1)+" lbs"),i}}}}}};return w.current=new B(u,A),()=&gt;{w.current&amp;&amp;(w.current.destroy(),w.current=null)}},[e,o,C]),t.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl min-h-[350px] sm:min-h-[450px]",children:[t.jsxs("h3",{className:"text-xl font-semibold text-text-default mb-4 pb-3 border-b border-border-default",children:[t.jsx("i",{className:"fas fa-chart-line mr-2.5 text-teal-600 dark:text-teal-400"}),"Weight Progress"]}),t.jsx("div",{className:"relative h-[280px] sm:h-[380px]",children:t.jsx("canvas",{ref:d,"aria-label":"Weight progress chart",role:"img"})})]})},Y=({onAddWeightEntry:e,latestWeight:o})=&gt;{const C=E(new Date,"yyyy-MM-dd"),[d,w]=N.useState(C),[u,c]=N.useState(""),[y,b]=N.useState(null),v=x=&gt;{x.preventDefault(),b(null);const k=parseFloat(u);if(isNaN(k)||k&lt;=0||k&gt;2e3){b("Please enter a valid weight (e.g., between 10 and 2000 lbs).");return}if(!d){b("Please select a date.");return}try{p(d+"T00:00:00")}catch(n){b("Invalid date format selected.");return}e({date:d,weight:k}),c("")},h="block w-full px-4 py-2.5 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm placeholder-slate-400 bg-bg-card text-text-default dark:placeholder-slate-500";return t.jsxs("div",{className:"bg-bg-card p-6 rounded-xl shadow-xl",children:[t.jsxs("h3",{className:"text-lg font-semibold text-text-default mb-4 pb-3 border-b border-border-default",children:[t.jsx("i",{className:"fas fa-weight-scale mr-2.5 text-teal-600 dark:text-teal-400"}),"Log Your Weight"]}),t.jsxs("form",{onSubmit:v,className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"logWeightDate",className:"block text-sm font-medium text-text-alt",children:"Date"}),t.jsx("input",{type:"date",id:"logWeightDate",value:d,onChange:x=&gt;w(x.target.value),className:`${h} dark:[color-scheme:dark]`,max:C,required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"logWeightLbs",className:"block text-sm font-medium text-text-alt",children:"Weight (lbs)"}),t.jsx("input",{type:"number",id:"logWeightLbs",value:u,onChange:x=&gt;c(x.target.value),className:h,placeholder:o?`e.g., ${o.toFixed(1)}`:"e.g., 150.5",step:"0.1",min:"10",max:"2000",required:!0})]})]}),y&amp;&amp;t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",role:"alert",children:y}),t.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-2.5 px-4 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:opacity-70 disabled:cursor-not-allowed",children:[t.jsx("i",{className:"fas fa-save mr-2"}),"Save Weigh-in"]})]})]})},ee=({userProfile:e,actualWeightLog:o,onAddWeightEntry:C,reminderSettings:d,onUpdateReminderSettings:w,isProfileComplete:u,currentTheme:c})=&gt;{const[y,b]=N.useState(!1),[v,h]=N.useState(null);N.useEffect(()=&gt;{if(!e.targetWeight){b(!1),h(null);return}const n=f(new Date);let r=null;if(d.lastWeighInReminderDismissedDate)try{r=f(p(d.lastWeighInReminderDismissedDate))}catch(s){}if(r&amp;&amp;E(r,"yyyy-MM-dd")===E(n,"yyyy-MM-dd"))b(!1);else{let s=null;if(o.length&gt;0)try{s=f(p(o[o.length-1].date))}catch(D){}const l=s?$(n,s)&gt;=d.weighInFrequencyDays:!!(e.targetWeight&amp;&amp;(e.weight||e.profileCreationDate)&amp;&amp;($(n,e.profileCreationDate?p(e.profileCreationDate):new Date(0))&gt;=1||e.weight));l&amp;&amp;!y&amp;&amp;q("weigh_in_reminder_shown",{frequencyDays:d.weighInFrequencyDays,lastWeighIn:s==null?void 0:s.toISOString()}),b(l)}const m=e.name?`, ${e.name}`:"";if(o.length&gt;1&amp;&amp;e.targetWeight){const s=e.startWeight||o[0].weight,l=o[o.length-1].weight,D=e.targetWeight;D&lt;s&amp;&amp;l&lt;s||D&gt;s&amp;&amp;l&gt;s?Math.abs(l-D)&lt;Math.abs(s-D)?Math.abs(l-D)&lt;=5?h(`You're so close to your goal${m}! Amazing dedication!`):h(`Great job on your progress${m}! Keep up the fantastic work.`):h(`Steady progress is key${m}. Keep pushing towards your goal!`):h(s!==l?`Every weigh-in is a data point${m}. Stay focused on your goal!`:`Consistency is important${m}. You've got this!`)}else o.length===1?h(`First weigh-in logged${m}! This is the start of your journey.`):h(`Ready to track your progress${m}? Log your first weigh-in!`)},[o,e,d.weighInFrequencyDays,d.lastWeighInReminderDismissedDate,y]);const x=()=&gt;{w({lastWeighInReminderDismissedDate:new Date().toISOString()}),b(!1)},k=o.length&gt;0?o[o.length-1].weight:e.weight;return u?e.targetWeight===null?t.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[t.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-4",children:[t.jsx("i",{className:"fas fa-chart-line mr-2.5 text-sky-500 dark:text-sky-400"}),"Progress Tracking"]}),t.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/30 border-l-4 border-orange-400 text-orange-700 dark:text-orange-300 p-4 rounded-md text-center",role:"alert",children:t.jsxs("p",{className:"font-medium",children:[t.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),"Please set a target weight in Settings to enable progress tracking."]})})]}):t.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[y&amp;&amp;t.jsx(z,{type:"info",message:`Time for your weigh-in, ${e.name||"User"}! Logging your weight regularly helps track progress towards your goal of ${e.targetWeight} lbs.`,onClose:x}),v&amp;&amp;!y&amp;&amp;t.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/50 dark:to-cyan-900/50 p-4 rounded-lg shadow-md border-l-4 border-teal-500 dark:border-teal-400",children:t.jsxs("p",{className:"text-sm font-medium text-teal-700 dark:text-teal-300 flex items-center",children:[t.jsx("i",{className:"fas fa-trophy mr-2.5 text-yellow-500 dark:text-yellow-400"})," ",v]})}),t.jsx(K,{userProfile:e,actualWeightLog:o,currentTheme:c}),t.jsx(Y,{onAddWeightEntry:C,latestWeight:k})]}):t.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[t.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-4",children:[t.jsx("i",{className:"fas fa-chart-line mr-2.5 text-sky-500 dark:text-sky-400"}),"Progress Tracking"]}),t.jsx("div",{className:"bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 text-sky-700 dark:text-sky-300 p-4 rounded-md text-center",role:"alert",children:t.jsxs("p",{className:"font-medium",children:[t.jsx("i",{className:"fas fa-info-circle mr-2"}),"Complete your profile in Settings to track your progress."]})})]})};export{ee as ProgressTabComponent};<span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" ></span></span></span>
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-06-25T15:38:36.941Z
            </div>
        <script src="../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../sorter.js"></script>
        <script src="../../../../../../block-navigation.js"></script>
    </body>
</html>
    