import{j as e,M as f}from"./index-CnwHXW3w-1751135551581.js";import{r as o}from"./stripe-vendor-DMQxTNWy-1751135551581.js";import"./react-vendor-DV_4xMyD-1751135551581.js";import"./pdf-vendor-D5gKrxgL-1751135551581.js";import"./ai-vendor-D-53sdHu-1751135551581.js";import"./scanner-vendor-UkOZGUfT-1751135551581.js";import"./date-vendor-B5WjnTJ1-1751135551581.js";import"./chart-vendor-CVkbFbFZ-1751135551581.js";const C=({isOpen:n,onClose:i,onSubmitFeedback:m})=>{const[c,s]=o.useState(0),[x,r]=o.useState(""),[u,a]=o.useState("rating"),h=t=>{s(t),t>=4?a("appstore"):t>0&&a("feedback")},d=()=>{m(c,x),a("thankyou"),setTimeout(()=>{n&&i(),s(0),r(""),a("rating")},3e3)},l=()=>{i(),setTimeout(()=>{s(0),r(""),a("rating")},300)},p=()=>{switch(u){case"rating":return e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-text-default mb-2",children:"Enjoying DietWise?"}),e.jsx("p",{className:"text-sm text-text-alt mb-4",children:"Let us know how we're doing!"}),e.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>h(t),className:`text-3xl transition-colors duration-150 ${t<=c?"text-yellow-400":"text-slate-300 dark:text-slate-600 hover:text-yellow-300"}`,"aria-label":`Rate ${t} star${t>1?"s":""}`,children:e.jsx("i",{className:"fas fa-star"})},t))}),e.jsx("button",{onClick:l,className:"text-xs text-text-alt hover:underline",children:"Maybe later"})]});case"feedback":return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-text-default mb-2",children:"Thanks for your feedback!"}),e.jsx("p",{className:"text-sm text-text-alt mb-3",children:"We're sorry to hear you're not fully satisfied. What can we do to improve your experience? (Optional)"}),e.jsx("textarea",{value:x,onChange:t=>r(t.target.value),rows:4,className:"w-full p-2 border border-border-default rounded-md bg-bg-card text-text-default placeholder-slate-400 dark:placeholder-slate-500",placeholder:"Your suggestions..."}),e.jsx("button",{onClick:d,className:"mt-4 w-full bg-teal-500 hover:bg-teal-600 text-white font-semibold py-2 px-4 rounded-lg shadow",children:"Submit Feedback"})]});case"appstore":return e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-text-default mb-2",children:"That's great to hear!"}),e.jsx("p",{className:"text-sm text-text-alt mb-4",children:"Your positive feedback helps others discover DietWise. If you have a moment, we'd love for you to share your experience."}),e.jsx("button",{onClick:d,className:"mt-4 w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg shadow",children:"Sounds Good!"}),e.jsx("button",{onClick:l,className:"mt-2 text-xs text-text-alt hover:underline",children:"No, thanks"})]});case"thankyou":return e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-check-circle text-5xl text-green-500 dark:text-green-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-text-default mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-sm text-text-alt",children:"We appreciate your feedback."})]})}};return e.jsx(f,{isOpen:n,onClose:l,title:"Rate Your Experience",children:p()})};export{C as default};
