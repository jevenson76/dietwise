const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MealPlannerComponent-DCx8mzP5-1751136307083.js","assets/stripe-vendor-0Ywx0Z1e-1751136307083.js","assets/react-vendor-DV_4xMyD-1751136307083.js","assets/pdf-vendor-CDLFj_nm-1751136307083.js","assets/ai-vendor-D-53sdHu-1751136307083.js","assets/scanner-vendor-UkOZGUfT-1751136307083.js","assets/date-vendor-B5WjnTJ1-1751136307083.js","assets/chart-vendor-Ea-cqmg3-1751136307083.js","assets/ProgressTabComponent-nVekEItK-1751136307083.js","assets/WeightLogFormComponent-CnvAa1cL-1751136307083.js","assets/MetricsCard-96_popZx-1751136307083.js","assets/UserStatusDashboard-l-wtnN4T-1751136307083.js","assets/MyLibraryComponent-BBbZNt4i-1751136307083.js","assets/ReviewPromptModal-BG_IOkw0-1751136307083.js","assets/StripeCheckout-CqgRI8Jb-1751136307083.js","assets/AdvancedAnalytics-DrKneCUo-1751136307083.js","assets/WeighInTab-BrnSUuQZ-1751136307083.js"])))=>i.map(i=>d[i]);
var Gh=Object.defineProperty;var qh=(r,c,m)=>c in r?Gh(r,c,{enumerable:!0,configurable:!0,writable:!0,value:m}):r[c]=m;var Ts=(r,c,m)=>qh(r,typeof c!="symbol"?c+"":c,m);import{r as g,R as Tc}from"./stripe-vendor-0Ywx0Z1e-1751136307083.js";import{r as Xh,a as Vh,g as Fh}from"./react-vendor-DV_4xMyD-1751136307083.js";import{E as Qh,a as Pi,_ as xl}from"./pdf-vendor-CDLFj_nm-1751136307083.js";import{G as $h}from"./ai-vendor-D-53sdHu-1751136307083.js";import{B as Ms,D as sm,a as Zh,N as Kh}from"./scanner-vendor-UkOZGUfT-1751136307083.js";import{I as Ze,d as Wh,l as Nt,N as nm,L as pt,O as _n,D as Ih,P as er,w as Cs}from"./date-vendor-B5WjnTJ1-1751136307083.js";import{C as Mm,r as Jh}from"./chart-vendor-Ea-cqmg3-1751136307083.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function m(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(u){if(u.ep)return;u.ep=!0;const x=m(u);fetch(u.href,x)}})();var yc={exports:{}},On={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Ph(){if(im)return On;im=1;var r=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function m(d,u,x){var y=null;if(x!==void 0&&(y=""+x),u.key!==void 0&&(y=""+u.key),"key"in u){x={};for(var w in u)w!=="key"&&(x[w]=u[w])}else x=u;return u=x.ref,{$$typeof:r,type:d,key:y,ref:u!==void 0?u:null,props:x}}return On.Fragment=c,On.jsx=m,On.jsxs=m,On}var rm;function eg(){return rm||(rm=1,yc.exports=Ph()),yc.exports}var s=eg(),pc={exports:{}},Rn={},vc={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function tg(){return om||(om=1,function(r){function c(L,$){var ne=L.length;L.push($);e:for(;0<ne;){var Ne=ne-1>>>1,je=L[Ne];if(0<u(je,$))L[Ne]=$,L[ne]=je,ne=Ne;else break e}}function m(L){return L.length===0?null:L[0]}function d(L){if(L.length===0)return null;var $=L[0],ne=L.pop();if(ne!==$){L[0]=ne;e:for(var Ne=0,je=L.length,Ve=je>>>1;Ne<Ve;){var Re=2*(Ne+1)-1,ge=L[Re],He=Re+1,ht=L[He];if(0>u(ge,ne))He<je&&0>u(ht,ge)?(L[Ne]=ht,L[He]=ne,Ne=He):(L[Ne]=ge,L[Re]=ne,Ne=Re);else if(He<je&&0>u(ht,ne))L[Ne]=ht,L[He]=ne,Ne=He;else break e}}return $}function u(L,$){var ne=L.sortIndex-$.sortIndex;return ne!==0?ne:L.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var y=Date,w=y.now();r.unstable_now=function(){return y.now()-w}}var j=[],R=[],h=1,k=null,E=3,H=!1,O=!1,z=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate!="undefined"?setImmediate:null;function N(L){for(var $=m(R);$!==null;){if($.callback===null)d(R);else if($.startTime<=L)d(R),$.sortIndex=$.expirationTime,c(j,$);else break;$=m(R)}}function Q(L){if(z=!1,N(L),!O)if(m(j)!==null)O=!0,V||(V=!0,me());else{var $=m(R);$!==null&&P(Q,$.startTime-L)}}var V=!1,se=-1,Z=5,re=-1;function ee(){return q?!0:!(r.unstable_now()-re<Z)}function de(){if(q=!1,V){var L=r.unstable_now();re=L;var $=!0;try{e:{O=!1,z&&(z=!1,T(se),se=-1),H=!0;var ne=E;try{t:{for(N(L),k=m(j);k!==null&&!(k.expirationTime>L&&ee());){var Ne=k.callback;if(typeof Ne=="function"){k.callback=null,E=k.priorityLevel;var je=Ne(k.expirationTime<=L);if(L=r.unstable_now(),typeof je=="function"){k.callback=je,N(L),$=!0;break t}k===m(j)&&d(j),N(L)}else d(j);k=m(j)}if(k!==null)$=!0;else{var Ve=m(R);Ve!==null&&P(Q,Ve.startTime-L),$=!1}}break e}finally{k=null,E=ne,H=!1}$=void 0}}finally{$?me():V=!1}}}var me;if(typeof B=="function")me=function(){B(de)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,le=W.port2;W.port1.onmessage=de,me=function(){le.postMessage(null)}}else me=function(){F(de,0)};function P(L,$){se=F(function(){L(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(L){switch(E){case 1:case 2:case 3:var $=3;break;default:$=E}var ne=E;E=$;try{return L()}finally{E=ne}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ne=E;E=L;try{return $()}finally{E=ne}},r.unstable_scheduleCallback=function(L,$,ne){var Ne=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ne+ne:Ne):ne=Ne,L){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ne+je,L={id:h++,callback:$,priorityLevel:L,startTime:ne,expirationTime:je,sortIndex:-1},ne>Ne?(L.sortIndex=ne,c(R,L),m(j)===null&&L===m(R)&&(z?(T(se),se=-1):z=!0,P(Q,ne-Ne))):(L.sortIndex=je,c(j,L),O||H||(O=!0,V||(V=!0,me()))),L},r.unstable_shouldYield=ee,r.unstable_wrapCallback=function(L){var $=E;return function(){var ne=E;E=$;try{return L.apply(this,arguments)}finally{E=ne}}}}(Nc)),Nc}var cm;function ag(){return cm||(cm=1,vc.exports=tg()),vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function lg(){if(um)return Rn;um=1;var r=ag(),c=Xh(),m=Vh();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function x(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w(e){if(x(e)!==e)throw Error(d(188))}function j(e){var t=e.alternate;if(!t){if(t=x(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return w(n),e;if(i===l)return w(n),t;i=i.sibling}throw Error(d(188))}if(a.return!==l.return)a=n,l=i;else{for(var o=!1,f=n.child;f;){if(f===a){o=!0,a=n,l=i;break}if(f===l){o=!0,l=n,a=i;break}f=f.sibling}if(!o){for(f=i.child;f;){if(f===a){o=!0,a=i,l=n;break}if(f===l){o=!0,l=i,a=n;break}f=f.sibling}if(!o)throw Error(d(189))}}if(a.alternate!==l)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function R(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=R(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,k=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),B=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var W=Symbol.for("react.client.reference");function le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===W?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case q:return"Profiler";case z:return"StrictMode";case Q:return"Suspense";case V:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case B:return(e.displayName||"Context")+".Provider";case T:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:le(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return le(e(t))}catch(a){}}return null}var P=Array.isArray,L=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Ne=[],je=-1;function Ve(e){return{current:e}}function Re(e){0>je||(e.current=Ne[je],Ne[je]=null,je--)}function ge(e,t){je++,Ne[je]=e.current,e.current=t}var He=Ve(null),ht=Ve(null),Tt=Ve(null),za=Ve(null);function jt(e,t){switch(ge(Tt,t),ge(ht,e),ge(He,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?_f(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=_f(t),e=Of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(He),ge(He,e)}function Mt(){Re(He),Re(ht),Re(Tt)}function Ua(e){e.memoizedState!==null&&ge(za,e);var t=He.current,a=Of(t,e.type);t!==a&&(ge(ht,e),ge(He,a))}function ha(e){ht.current===e&&(Re(He),Re(ht)),za.current===e&&(Re(za),An._currentValue=ne)}var Ae=Object.prototype.hasOwnProperty,Ha=r.unstable_scheduleCallback,Yt=r.unstable_cancelCallback,yl=r.unstable_shouldYield,pl=r.unstable_requestPaint,Se=r.unstable_now,Os=r.unstable_getCurrentPriorityLevel,Ba=r.unstable_ImmediatePriority,Ya=r.unstable_UserBlockingPriority,sa=r.unstable_NormalPriority,I=r.unstable_LowPriority,fe=r.unstable_IdlePriority,bt=r.log,gt=r.unstable_setDisableYieldValue,Ct=null,lt=null;function Dt(e){if(typeof bt=="function"&&gt(e),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(Ct,e)}catch(t){}}var Le=Math.clz32?Math.clz32:dr,Ga=Math.log,vl=Math.LN2;function dr(e){return e>>>=0,e===0?32:31-(Ga(e)/vl|0)|0}var Nl=256,Xl=4194304;function Gt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vl(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=l&134217727;return f!==0?(l=f&~i,l!==0?n=Gt(l):(o&=f,o!==0?n=Gt(o):a||(a=f&~e,a!==0&&(n=Gt(a))))):(f=l&~i,f!==0?n=Gt(f):o!==0?n=Gt(o):a||(a=l&~e,a!==0&&(n=Gt(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function jl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Rs(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var e=Nl;return Nl<<=1,(Nl&4194048)===0&&(Nl=256),e}function ut(){var e=Xl;return Xl<<=1,(Xl&62914560)===0&&(Xl=4194304),e}function ga(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hn(e,t,a,l,n,i){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,b=e.expirationTimes,M=e.hiddenUpdates;for(a=o&~a;0<a;){var Y=31-Le(a),X=1<<Y;f[Y]=0,b[Y]=-1;var C=M[Y];if(C!==null)for(M[Y]=null,Y=0;Y<C.length;Y++){var _=C[Y];_!==null&&(_.lane&=-536870913)}a&=~X}l!==0&&Bn(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Bn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Le(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Te(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Le(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function _t(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yn(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Jf(e.type))}function Fl(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var qt=Math.random().toString(36).slice(2),Fe="__reactFiber$"+qt,st="__reactProps$"+qt,ba="__reactContainer$"+qt,Us="__reactEvents$"+qt,fr="__reactListeners$"+qt,mr="__reactHandles$"+qt,Gn="__reactResources$"+qt,qa="__reactMarker$"+qt;function na(e){delete e[Fe],delete e[st],delete e[Us],delete e[fr],delete e[mr]}function ia(e){var t=e[Fe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ba]||a[Fe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Uf(e);e!==null;){if(a=e[Fe])return a;e=Uf(e)}return t}e=a,a=e.parentNode}return null}function It(e){if(e=e[Fe]||e[ba]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ra(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Xa(e){var t=e[Gn];return t||(t=e[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[qa]=!0}var qn=new Set,Xn={};function ya(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(Xn[e]=t,e=0;e<t.length;e++)qn.add(t[e])}var Vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fa={},Fn={};function hr(e){return Ae.call(Fn,e)?!0:Ae.call(Fa,e)?!1:Vn.test(e)?Fn[e]=!0:(Fa[e]=!0,!1)}function Jt(e,t,a){if(hr(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function pa(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var Ql,Qn;function Qa(e){if(Ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||"",Qn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+Qn}var $l=!1;function Zl(e,t){if(!e||$l)return"";$l=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(_){var C=_}Reflect.construct(e,[],X)}else{try{X.call()}catch(_){C=_}e.call(X.prototype)}}else{try{throw Error()}catch(_){C=_}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(_){if(_&&C&&typeof _.stack=="string")return[_.stack,C.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),o=i[0],f=i[1];if(o&&f){var b=o.split(`
`),M=f.split(`
`);for(n=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;n<M.length&&!M[n].includes("DetermineComponentFrameRoot");)n++;if(l===b.length||n===M.length)for(l=b.length-1,n=M.length-1;1<=l&&0<=n&&b[l]!==M[n];)n--;for(;1<=l&&0<=n;l--,n--)if(b[l]!==M[n]){if(l!==1||n!==1)do if(l--,n--,0>n||b[l]!==M[n]){var Y=`
`+b[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=n);break}}}finally{$l=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qa(a):""}function gr(e){switch(e.tag){case 26:case 27:case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 15:return Zl(e.type,!1);case 11:return Zl(e.type.render,!1);case 1:return Zl(e.type,!0);case 31:return Qa("Activity");default:return""}}function Kl(e){try{var t="";do t+=gr(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p(e){var t=Hs(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(o){l=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(o){l=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function D(e){e._valueTracker||(e._valueTracker=p(e))}function U(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Hs(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function K(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var te=/[\n"\\]/g;function ie(e){return e.replace(te,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ve(e,t,a,l,n,i,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ze(e,o,wt(t)):a!=null?ze(e,o,wt(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+wt(f):e.removeAttribute("name")}function Be(e,t,a,l,n,i,o,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;a=a!=null?""+wt(a):"",t=t!=null?""+wt(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}l=l!=null?l:n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=f?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function ze(e,t,a){t==="number"&&K(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function nt(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+wt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Mc(e,t,a){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+wt(a):""}function Cc(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(d(92));if(P(l)){if(1<l.length)throw Error(d(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=wt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Wl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Hm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Hm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function _c(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Dc(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Dc(e,i,t[i])}function xr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ym=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(e){return Ym.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var br=null;function yr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Il=null,Jl=null;function Oc(e){var t=It(e);if(t&&(e=t.stateNode)){var a=e[st]||null;e:switch(e=t.stateNode,t.type){case"input":if(ve(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ie(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[st]||null;if(!n)throw Error(d(90));ve(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&U(l)}break e;case"textarea":Mc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&nt(e,!!a.multiple,t,!1)}}}var pr=!1;function Rc(e,t,a){if(pr)return e(t,a);pr=!0;try{var l=e(t);return l}finally{if(pr=!1,(Il!==null||Jl!==null)&&(_i(),Il&&(t=Il,e=Jl,Jl=Il=null,Oc(t),e)))for(t=0;t<e.length;t++)Oc(e[t])}}function Bs(e,t){var a=e.stateNode;if(a===null)return null;var l=a[st]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var va=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),vr=!1;if(va)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch(e){vr=!1}var $a=null,Nr=null,Zn=null;function Lc(){if(Zn)return Zn;var e,t=Nr,a=t.length,l,n="value"in $a?$a.value:$a.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===n[i-l];l++);return Zn=n.slice(e,1<l?1-l:void 0)}function Kn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function zc(){return!1}function St(e){function t(a,l,n,i,o){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wn:zc,this.isPropagationStopped=zc,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),t}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},In=St(wl),Gs=h({},wl,{view:0,detail:0}),Gm=St(Gs),jr,wr,qs,Jn=h({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(jr=e.screenX-qs.screenX,wr=e.screenY-qs.screenY):wr=jr=0,qs=e),jr)},movementY:function(e){return"movementY"in e?e.movementY:wr}}),Uc=St(Jn),qm=h({},Jn,{dataTransfer:0}),Xm=St(qm),Vm=h({},Gs,{relatedTarget:0}),Sr=St(Vm),Fm=h({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),Qm=St(Fm),$m=h({},wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zm=St($m),Km=h({},wl,{data:0}),Hc=St(Km),Wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jm[e])?!!t[e]:!1}function Er(){return Pm}var e0=h({},Gs,{key:function(e){if(e.key){var t=Wm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return e.type==="keypress"?Kn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t0=St(e0),a0=h({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=St(a0),l0=h({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),s0=St(l0),n0=h({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=St(n0),r0=h({},Jn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o0=St(r0),c0=h({},wl,{newState:0,oldState:0}),u0=St(c0),d0=[9,13,27,32],kr=va&&"CompositionEvent"in window,Xs=null;va&&"documentMode"in document&&(Xs=document.documentMode);var f0=va&&"TextEvent"in window&&!Xs,Yc=va&&(!kr||Xs&&8<Xs&&11>=Xs),Gc=" ",qc=!1;function Xc(e,t){switch(e){case"keyup":return d0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pl=!1;function m0(e,t){switch(e){case"compositionend":return Vc(t);case"keypress":return t.which!==32?null:(qc=!0,Gc);case"textInput":return e=t.data,e===Gc&&qc?null:e;default:return null}}function h0(e,t){if(Pl)return e==="compositionend"||!kr&&Xc(e,t)?(e=Lc(),Zn=Nr=$a=null,Pl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yc&&t.locale!=="ko"?null:t.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g0[e.type]:t==="textarea"}function Qc(e,t,a,l){Il?Jl?Jl.push(l):Jl=[l]:Il=l,t=Hi(t,"onChange"),0<t.length&&(a=new In("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Vs=null,Fs=null;function x0(e){Af(e,0)}function Pn(e){var t=ra(e);if(U(t))return e}function $c(e,t){if(e==="change")return t}var Zc=!1;if(va){var Ar;if(va){var Tr="oninput"in document;if(!Tr){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Tr=typeof Kc.oninput=="function"}Ar=Tr}else Ar=!1;Zc=Ar&&(!document.documentMode||9<document.documentMode)}function Wc(){Vs&&(Vs.detachEvent("onpropertychange",Ic),Fs=Vs=null)}function Ic(e){if(e.propertyName==="value"&&Pn(Fs)){var t=[];Qc(t,Fs,e,yr(e)),Rc(x0,t)}}function b0(e,t,a){e==="focusin"?(Wc(),Vs=t,Fs=a,Vs.attachEvent("onpropertychange",Ic)):e==="focusout"&&Wc()}function y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pn(Fs)}function p0(e,t){if(e==="click")return Pn(t)}function v0(e,t){if(e==="input"||e==="change")return Pn(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:N0;function Qs(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ae.call(t,n)||!Ot(e[n],t[n]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var a=Jc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jc(a)}}function eu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=K(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch(l){a=!1}if(a)e=t.contentWindow;else break;t=K(e.document)}return t}function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var j0=va&&"documentMode"in document&&11>=document.documentMode,es=null,Cr=null,$s=null,Dr=!1;function au(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Dr||es==null||es!==K(l)||(l=es,"selectionStart"in l&&Mr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Qs($s,l)||($s=l,l=Hi(Cr,"onSelect"),0<l.length&&(t=new In("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=es)))}function Sl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ts={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},_r={},lu={};va&&(lu=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function El(e){if(_r[e])return _r[e];if(!ts[e])return e;var t=ts[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in lu)return _r[e]=t[a];return e}var su=El("animationend"),nu=El("animationiteration"),iu=El("animationstart"),w0=El("transitionrun"),S0=El("transitionstart"),E0=El("transitioncancel"),ru=El("transitionend"),ou=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function ea(e,t){ou.set(e,t),ya(t,[e])}var cu=new WeakMap;function Xt(e,t){if(typeof e=="object"&&e!==null){var a=cu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Kl(t)},cu.set(e,t),t)}return{value:e,source:t,stack:Kl(t)}}var Vt=[],as=0,Rr=0;function ei(){for(var e=as,t=Rr=as=0;t<e;){var a=Vt[t];Vt[t++]=null;var l=Vt[t];Vt[t++]=null;var n=Vt[t];Vt[t++]=null;var i=Vt[t];if(Vt[t++]=null,l!==null&&n!==null){var o=l.pending;o===null?n.next=n:(n.next=o.next,o.next=n),l.pending=n}i!==0&&uu(a,n,i)}}function ti(e,t,a,l){Vt[as++]=e,Vt[as++]=t,Vt[as++]=a,Vt[as++]=l,Rr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Lr(e,t,a,l){return ti(e,t,a,l),ai(e)}function ls(e,t){return ti(e,null,null,t),ai(e)}function uu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Le(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function ai(e){if(50<pn)throw pn=0,qo=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ss={};function k0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,l){return new k0(e,t,a,l)}function zr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function du(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function li(e,t,a,l,n,i){var o=0;if(l=e,typeof e=="function")zr(e)&&(o=1);else if(typeof e=="string")o=Th(e,a,He.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Rt(31,a,t,n),e.elementType=re,e.lanes=i,e;case O:return kl(a.children,n,i,t);case z:o=8,n|=24;break;case q:return e=Rt(12,a,t,n|2),e.elementType=q,e.lanes=i,e;case Q:return e=Rt(13,a,t,n),e.elementType=Q,e.lanes=i,e;case V:return e=Rt(19,a,t,n),e.elementType=V,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:case B:o=10;break e;case T:o=9;break e;case N:o=11;break e;case se:o=14;break e;case Z:o=16,l=null;break e}o=29,a=Error(d(130,e===null?"null":typeof e,"")),l=null}return t=Rt(o,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function kl(e,t,a,l){return e=Rt(7,e,l,t),e.lanes=a,e}function Ur(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function Hr(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ns=[],is=0,si=null,ni=0,Ft=[],Qt=0,Al=null,ja=1,wa="";function Tl(e,t){ns[is++]=ni,ns[is++]=si,si=e,ni=t}function fu(e,t,a){Ft[Qt++]=ja,Ft[Qt++]=wa,Ft[Qt++]=Al,Al=e;var l=ja;e=wa;var n=32-Le(l)-1;l&=~(1<<n),a+=1;var i=32-Le(t)+n;if(30<i){var o=n-n%5;i=(l&(1<<o)-1).toString(32),l>>=o,n-=o,ja=1<<32-Le(t)+n|a<<n|l,wa=i+e}else ja=1<<i|a<<n|l,wa=e}function Br(e){e.return!==null&&(Tl(e,1),fu(e,1,0))}function Yr(e){for(;e===si;)si=ns[--is],ns[is]=null,ni=ns[--is],ns[is]=null;for(;e===Al;)Al=Ft[--Qt],Ft[Qt]=null,wa=Ft[--Qt],Ft[Qt]=null,ja=Ft[--Qt],Ft[Qt]=null}var yt=null,Qe=null,ke=!1,Ml=null,oa=!1,Gr=Error(d(519));function Cl(e){var t=Error(d(418,""));throw Ws(Xt(t,e)),Gr}function mu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Fe]=e,t[st]=l,a){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(a=0;a<Nn.length;a++)ye(Nn[a],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),Be(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),D(t);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),Cc(t,l.value,l.defaultValue,l.children),D(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Df(t.textContent,a)?(l.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),l.onScroll!=null&&ye("scroll",t),l.onScrollEnd!=null&&ye("scrollend",t),l.onClick!=null&&(t.onclick=Bi),t=!0):t=!1,t||Cl(e)}function hu(e){for(yt=e.return;yt;)switch(yt.tag){case 5:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:yt=yt.return}}function Zs(e){if(e!==yt)return!1;if(!ke)return hu(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sc(e.type,e.memoizedProps)),a=!a),a&&Qe&&Cl(e),hu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Qe=aa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Qe=null}}else t===27?(t=Qe,cl(e.type)?(e=oc,oc=null,Qe=e):Qe=t):Qe=yt?aa(e.stateNode.nextSibling):null;return!0}function Ks(){Qe=yt=null,ke=!1}function gu(){var e=Ml;return e!==null&&(At===null?At=e:At.push.apply(At,e),Ml=null),e}function Ws(e){Ml===null?Ml=[e]:Ml.push(e)}var qr=Ve(null),Dl=null,Sa=null;function Za(e,t,a){ge(qr,t._currentValue),t._currentValue=a}function Ea(e){e._currentValue=qr.current,Re(qr)}function Xr(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Vr(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var o=n.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=n;for(var b=0;b<t.length;b++)if(f.context===t[b]){i.lanes|=a,f=i.alternate,f!==null&&(f.lanes|=a),Xr(i.return,a,e),l||(o=null);break e}i=f.next}}else if(n.tag===18){if(o=n.return,o===null)throw Error(d(341));o.lanes|=a,i=o.alternate,i!==null&&(i.lanes|=a),Xr(o,a,e),o=null}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===e){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}}function Is(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var o=n.alternate;if(o===null)throw Error(d(387));if(o=o.memoizedProps,o!==null){var f=n.type;Ot(n.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(n===za.current){if(o=n.alternate,o===null)throw Error(d(387));o.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(An):e=[An])}n=n.return}e!==null&&Vr(t,e,a,l),t.flags|=262144}function ii(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _l(e){Dl=e,Sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return xu(Dl,e)}function ri(e,t){return Dl===null&&_l(e),xu(e,t)}function xu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Sa===null){if(e===null)throw Error(d(308));Sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sa=Sa.next=t;return a}var A0=typeof AbortController!="undefined"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},T0=r.unstable_scheduleCallback,M0=r.unstable_NormalPriority,tt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fr(){return{controller:new A0,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&T0(M0,function(){e.controller.abort()})}var Ps=null,Qr=0,rs=0,os=null;function C0(e,t){if(Ps===null){var a=Ps=[];Qr=0,rs=Ko(),os={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qr++,t.then(bu,bu),t}function bu(){if(--Qr===0&&Ps!==null){os!==null&&(os.status="fulfilled");var e=Ps;Ps=null,rs=0,os=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function D0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var yu=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&C0(e,t),yu!==null&&yu(e,t)};var Ol=Ve(null);function $r(){var e=Ol.current;return e!==null?e:Ye.pooledCache}function oi(e,t){t===null?ge(Ol,Ol.current):ge(Ol,t.pool)}function pu(){var e=$r();return e===null?null:{parent:tt._currentValue,pool:e}}var en=Error(d(460)),vu=Error(d(474)),ci=Error(d(542)),Zr={then:function(){}};function Nu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ui(){}function ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ui,ui),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e;default:if(typeof t.status=="string")t.then(ui,ui);else{if(e=Ye,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Su(e),e}throw tn=t,en}}var tn=null;function wu(){if(tn===null)throw Error(d(459));var e=tn;return tn=null,e}function Su(e){if(e===en||e===ci)throw Error(d(483))}var Ka=!1;function Kr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Me&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=ai(e),uu(e,null,a),t}return ti(e,l,t,a),ai(e)}function an(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Te(e,a)}}function Ir(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=o:i=i.next=o,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Jr=!1;function ln(){if(Jr){var e=os;if(e!==null)throw e}}function sn(e,t,a,l){Jr=!1;var n=e.updateQueue;Ka=!1;var i=n.firstBaseUpdate,o=n.lastBaseUpdate,f=n.shared.pending;if(f!==null){n.shared.pending=null;var b=f,M=b.next;b.next=null,o===null?i=M:o.next=M,o=b;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,f=Y.lastBaseUpdate,f!==o&&(f===null?Y.firstBaseUpdate=M:f.next=M,Y.lastBaseUpdate=b))}if(i!==null){var X=n.baseState;o=0,Y=M=b=null,f=i;do{var C=f.lane&-536870913,_=C!==f.lane;if(_?(we&C)===C:(l&C)===C){C!==0&&C===rs&&(Jr=!0),Y!==null&&(Y=Y.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ue=e,oe=f;C=t;var Oe=a;switch(oe.tag){case 1:if(ue=oe.payload,typeof ue=="function"){X=ue.call(Oe,X,C);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=oe.payload,C=typeof ue=="function"?ue.call(Oe,X,C):ue,C==null)break e;X=h({},X,C);break e;case 2:Ka=!0}}C=f.callback,C!==null&&(e.flags|=64,_&&(e.flags|=8192),_=n.callbacks,_===null?n.callbacks=[C]:_.push(C))}else _={lane:C,tag:f.tag,payload:f.payload,callback:f.callback,next:null},Y===null?(M=Y=_,b=X):Y=Y.next=_,o|=C;if(f=f.next,f===null){if(f=n.shared.pending,f===null)break;_=f,f=_.next,_.next=null,n.lastBaseUpdate=_,n.shared.pending=null}}while(!0);Y===null&&(b=X),n.baseState=b,n.firstBaseUpdate=M,n.lastBaseUpdate=Y,i===null&&(n.shared.lanes=0),nl|=o,e.lanes=o,e.memoizedState=X}}function Eu(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function ku(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Eu(a[e],t)}var cs=Ve(null),di=Ve(0);function Au(e,t){e=_a,ge(di,e),ge(cs,t),_a=e|t.baseLanes}function Pr(){ge(di,_a),ge(cs,cs.current)}function eo(){_a=di.current,Re(cs),Re(di)}var Ja=0,he=null,De=null,Pe=null,fi=!1,us=!1,Rl=!1,mi=0,nn=0,ds=null,_0=0;function Ke(){throw Error(d(321))}function to(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function ao(e,t,a,l,n,i){return Ja=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?ud:dd,Rl=!1,i=a(l,n),Rl=!1,us&&(i=Mu(t,a,l,n)),Tu(e),i}function Tu(e){L.H=pi;var t=De!==null&&De.next!==null;if(Ja=0,Pe=De=he=null,fi=!1,nn=0,ds=null,t)throw Error(d(300));e===null||it||(e=e.dependencies,e!==null&&ii(e)&&(it=!0))}function Mu(e,t,a,l){he=e;var n=0;do{if(us&&(ds=null),nn=0,us=!1,25<=n)throw Error(d(301));if(n+=1,Pe=De=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}L.H=B0,i=t(a,l)}while(us);return i}function O0(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?rn(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(he.flags|=1024),t}function lo(){var e=mi!==0;return mi=0,e}function so(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function no(e){if(fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fi=!1}Ja=0,Pe=De=he=null,us=!1,nn=mi=0,ds=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function et(){if(De===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Pe===null?he.memoizedState:Pe.next;if(t!==null)Pe=t,De=e;else{if(e===null)throw he.alternate===null?Error(d(467)):Error(d(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rn(e){var t=nn;return nn+=1,ds===null&&(ds=[]),e=ju(ds,e,t),t=he,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?ud:dd),e}function hi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rn(e);if(e.$$typeof===B)return xt(e)}throw Error(d(438,String(e)))}function ro(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=he.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=io(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=ee;return t.index++,a}function ka(e,t){return typeof t=="function"?t(e):t}function gi(e){var t=et();return oo(t,De,e)}function oo(e,t,a){var l=e.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var o=n.next;n.next=i.next,i.next=o}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var f=o=null,b=null,M=t,Y=!1;do{var X=M.lane&-536870913;if(X!==M.lane?(we&X)===X:(Ja&X)===X){var C=M.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),X===rs&&(Y=!0);else if((Ja&C)===C){M=M.next,C===rs&&(Y=!0);continue}else X={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(f=b=X,o=i):b=b.next=X,he.lanes|=C,nl|=C;X=M.action,Rl&&a(i,X),i=M.hasEagerState?M.eagerState:a(i,X)}else C={lane:X,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},b===null?(f=b=C,o=i):b=b.next=C,he.lanes|=X,nl|=X;M=M.next}while(M!==null&&M!==t);if(b===null?o=i:b.next=f,!Ot(i,e.memoizedState)&&(it=!0,Y&&(a=os,a!==null)))throw a;e.memoizedState=i,e.baseState=o,e.baseQueue=b,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function co(e){var t=et(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var o=n=n.next;do i=e(i,o.action),o=o.next;while(o!==n);Ot(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Cu(e,t,a){var l=he,n=et(),i=ke;if(i){if(a===void 0)throw Error(d(407));a=a()}else a=t();var o=!Ot((De||n).memoizedState,a);o&&(n.memoizedState=a,it=!0),n=n.queue;var f=Ou.bind(null,l,n,e);if(on(2048,8,f,[e]),n.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,fs(9,xi(),_u.bind(null,l,n,a,t),null),Ye===null)throw Error(d(349));i||(Ja&124)!==0||Du(l,t,a)}return a}function Du(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=io(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function _u(e,t,a,l){t.value=a,t.getSnapshot=l,Ru(t)&&Lu(e)}function Ou(e,t,a){return a(function(){Ru(t)&&Lu(e)})}function Ru(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch(l){return!0}}function Lu(e){var t=ls(e,2);t!==null&&Bt(t,e,2)}function uo(e){var t=Et();if(typeof e=="function"){var a=e;if(e=a(),Rl){Dt(!0);try{a()}finally{Dt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t}function zu(e,t,a,l){return e.baseState=a,oo(e,De,typeof l=="function"?l:ka)}function R0(e,t,a,l,n){if(yi(e))throw Error(d(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};L.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Uu(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Uu(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=L.T,o={};L.T=o;try{var f=a(n,l),b=L.S;b!==null&&b(o,f),Hu(e,t,f)}catch(M){fo(e,t,M)}finally{L.T=i}}else try{i=a(n,l),Hu(e,t,i)}catch(M){fo(e,t,M)}}function Hu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bu(e,t,l)},function(l){return fo(e,t,l)}):Bu(e,t,a)}function Bu(e,t,a){t.status="fulfilled",t.value=a,Yu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Uu(e,a)))}function fo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Yu(t),t=t.next;while(t!==l)}e.action=null}function Yu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gu(e,t){return t}function qu(e,t){if(ke){var a=Ye.formState;if(a!==null){e:{var l=he;if(ke){if(Qe){t:{for(var n=Qe,i=oa;n.nodeType!==8;){if(!i){n=null;break t}if(n=aa(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Qe=aa(n.nextSibling),l=n.data==="F!";break e}}Cl(l)}l=!1}l&&(t=a[0])}}return a=Et(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},a.queue=l,a=rd.bind(null,he,l),l.dispatch=a,l=uo(!1),i=bo.bind(null,he,!1,l.queue),l=Et(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=R0.bind(null,he,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Xu(e){var t=et();return Vu(t,De,e)}function Vu(e,t,a){if(t=oo(e,t,Gu)[0],e=gi(ka)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=rn(t)}catch(o){throw o===en?ci:o}else l=t;t=et();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(he.flags|=2048,fs(9,xi(),L0.bind(null,n,a),null)),[l,i,e]}function L0(e,t){e.action=t}function Fu(e){var t=et(),a=De;if(a!==null)return Vu(t,a,e);et(),t=t.memoizedState,a=et();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function fs(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=he.updateQueue,t===null&&(t=io(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function xi(){return{destroy:void 0,resource:void 0}}function Qu(){return et().memoizedState}function bi(e,t,a,l){var n=Et();l=l===void 0?null:l,he.flags|=e,n.memoizedState=fs(1|t,xi(),a,l)}function on(e,t,a,l){var n=et();l=l===void 0?null:l;var i=n.memoizedState.inst;De!==null&&l!==null&&to(l,De.memoizedState.deps)?n.memoizedState=fs(t,i,a,l):(he.flags|=e,n.memoizedState=fs(1|t,i,a,l))}function $u(e,t){bi(8390656,8,e,t)}function Zu(e,t){on(2048,8,e,t)}function Ku(e,t){return on(4,2,e,t)}function Wu(e,t){return on(4,4,e,t)}function Iu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,a){a=a!=null?a.concat([e]):null,on(4,4,Iu.bind(null,t,e),a)}function mo(){}function Pu(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&to(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function ed(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&to(t,l[1]))return l[0];if(l=e(),Rl){Dt(!0);try{e()}finally{Dt(!1)}}return a.memoizedState=[l,t],l}function ho(e,t,a){return a===void 0||(Ja&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=lf(),he.lanes|=e,nl|=e,a)}function td(e,t,a,l){return Ot(a,t)?a:cs.current!==null?(e=ho(e,a,l),Ot(e,t)||(it=!0),e):(Ja&42)===0?(it=!0,e.memoizedState=a):(e=lf(),he.lanes|=e,nl|=e,t)}function ad(e,t,a,l,n){var i=$.p;$.p=i!==0&&8>i?i:8;var o=L.T,f={};L.T=f,bo(e,!1,t,a);try{var b=n(),M=L.S;if(M!==null&&M(f,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Y=D0(b,l);cn(e,t,Y,Ht(e))}else cn(e,t,l,Ht(e))}catch(X){cn(e,t,{then:function(){},status:"rejected",reason:X},Ht())}finally{$.p=i,L.T=o}}function z0(){}function go(e,t,a,l){if(e.tag!==5)throw Error(d(476));var n=ld(e).queue;ad(e,n,t,ne,a===null?z0:function(){return sd(e),a(l)})}function ld(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sd(e){var t=ld(e).next.queue;cn(e,t,{},Ht())}function xo(){return xt(An)}function nd(){return et().memoizedState}function id(){return et().memoizedState}function U0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ht();e=Wa(a);var l=Ia(t,e,a);l!==null&&(Bt(l,t,a),an(l,t,a)),t={cache:Fr()},e.payload=t;return}t=t.return}}function H0(e,t,a){var l=Ht();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},yi(e)?od(t,a):(a=Lr(e,t,a,l),a!==null&&(Bt(a,e,l),cd(a,t,l)))}function rd(e,t,a){var l=Ht();cn(e,t,a,l)}function cn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(yi(e))od(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,f=i(o,a);if(n.hasEagerState=!0,n.eagerState=f,Ot(f,o))return ti(e,t,n,0),Ye===null&&ei(),!1}catch(b){}finally{}if(a=Lr(e,t,n,l),a!==null)return Bt(a,e,l),cd(a,t,l),!0}return!1}function bo(e,t,a,l){if(l={lane:2,revertLane:Ko(),action:l,hasEagerState:!1,eagerState:null,next:null},yi(e)){if(t)throw Error(d(479))}else t=Lr(e,a,l,2),t!==null&&Bt(t,e,2)}function yi(e){var t=e.alternate;return e===he||t!==null&&t===he}function od(e,t){us=fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function cd(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Te(e,a)}}var pi={readContext:xt,use:hi,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},ud={readContext:xt,use:hi,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:$u,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,bi(4194308,4,Iu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return bi(4194308,4,e,t)},useInsertionEffect:function(e,t){bi(4,2,e,t)},useMemo:function(e,t){var a=Et();t=t===void 0?null:t;var l=e();if(Rl){Dt(!0);try{e()}finally{Dt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Et();if(a!==void 0){var n=a(t);if(Rl){Dt(!0);try{a(t)}finally{Dt(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=H0.bind(null,he,e),[l.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=uo(e);var t=e.queue,a=rd.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:mo,useDeferredValue:function(e,t){var a=Et();return ho(a,e,t)},useTransition:function(){var e=uo(!1);return e=ad.bind(null,he,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=he,n=Et();if(ke){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),Ye===null)throw Error(d(349));(we&124)!==0||Du(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,$u(Ou.bind(null,l,i,e),[e]),l.flags|=2048,fs(9,xi(),_u.bind(null,l,i,a,t),null),a},useId:function(){var e=Et(),t=Ye.identifierPrefix;if(ke){var a=wa,l=ja;a=(l&~(1<<32-Le(l)-1)).toString(32)+a,t=""+t+"R"+a,a=mi++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=_0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:qu,useActionState:qu,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=bo.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:ro,useCacheRefresh:function(){return Et().memoizedState=U0.bind(null,he)}},dd={readContext:xt,use:hi,useCallback:Pu,useContext:xt,useEffect:Zu,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Wu,useMemo:ed,useReducer:gi,useRef:Qu,useState:function(){return gi(ka)},useDebugValue:mo,useDeferredValue:function(e,t){var a=et();return td(a,De.memoizedState,e,t)},useTransition:function(){var e=gi(ka)[0],t=et().memoizedState;return[typeof e=="boolean"?e:rn(e),t]},useSyncExternalStore:Cu,useId:nd,useHostTransitionStatus:xo,useFormState:Xu,useActionState:Xu,useOptimistic:function(e,t){var a=et();return zu(a,De,e,t)},useMemoCache:ro,useCacheRefresh:id},B0={readContext:xt,use:hi,useCallback:Pu,useContext:xt,useEffect:Zu,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Wu,useMemo:ed,useReducer:co,useRef:Qu,useState:function(){return co(ka)},useDebugValue:mo,useDeferredValue:function(e,t){var a=et();return De===null?ho(a,e,t):td(a,De.memoizedState,e,t)},useTransition:function(){var e=co(ka)[0],t=et().memoizedState;return[typeof e=="boolean"?e:rn(e),t]},useSyncExternalStore:Cu,useId:nd,useHostTransitionStatus:xo,useFormState:Fu,useActionState:Fu,useOptimistic:function(e,t){var a=et();return De!==null?zu(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ro,useCacheRefresh:id},ms=null,un=0;function vi(e){var t=un;return un+=1,ms===null&&(ms=[]),ju(ms,e,t)}function dn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ni(e,t){throw t.$$typeof===k?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fd(e){var t=e._init;return t(e._payload)}function md(e){function t(S,v){if(e){var A=S.deletions;A===null?(S.deletions=[v],S.flags|=16):A.push(v)}}function a(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function l(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function n(S,v){return S=Na(S,v),S.index=0,S.sibling=null,S}function i(S,v,A){return S.index=A,e?(A=S.alternate,A!==null?(A=A.index,A<v?(S.flags|=67108866,v):A):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function o(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function f(S,v,A,G){return v===null||v.tag!==6?(v=Ur(A,S.mode,G),v.return=S,v):(v=n(v,A),v.return=S,v)}function b(S,v,A,G){var J=A.type;return J===O?Y(S,v,A.props.children,G,A.key):v!==null&&(v.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Z&&fd(J)===v.type)?(v=n(v,A.props),dn(v,A),v.return=S,v):(v=li(A.type,A.key,A.props,null,S.mode,G),dn(v,A),v.return=S,v)}function M(S,v,A,G){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Hr(A,S.mode,G),v.return=S,v):(v=n(v,A.children||[]),v.return=S,v)}function Y(S,v,A,G,J){return v===null||v.tag!==7?(v=kl(A,S.mode,G,J),v.return=S,v):(v=n(v,A),v.return=S,v)}function X(S,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Ur(""+v,S.mode,A),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case E:return A=li(v.type,v.key,v.props,null,S.mode,A),dn(A,v),A.return=S,A;case H:return v=Hr(v,S.mode,A),v.return=S,v;case Z:var G=v._init;return v=G(v._payload),X(S,v,A)}if(P(v)||me(v))return v=kl(v,S.mode,A,null),v.return=S,v;if(typeof v.then=="function")return X(S,vi(v),A);if(v.$$typeof===B)return X(S,ri(S,v),A);Ni(S,v)}return null}function C(S,v,A,G){var J=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return J!==null?null:f(S,v,""+A,G);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case E:return A.key===J?b(S,v,A,G):null;case H:return A.key===J?M(S,v,A,G):null;case Z:return J=A._init,A=J(A._payload),C(S,v,A,G)}if(P(A)||me(A))return J!==null?null:Y(S,v,A,G,null);if(typeof A.then=="function")return C(S,v,vi(A),G);if(A.$$typeof===B)return C(S,v,ri(S,A),G);Ni(S,A)}return null}function _(S,v,A,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return S=S.get(A)||null,f(v,S,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return S=S.get(G.key===null?A:G.key)||null,b(v,S,G,J);case H:return S=S.get(G.key===null?A:G.key)||null,M(v,S,G,J);case Z:var xe=G._init;return G=xe(G._payload),_(S,v,A,G,J)}if(P(G)||me(G))return S=S.get(A)||null,Y(v,S,G,J,null);if(typeof G.then=="function")return _(S,v,A,vi(G),J);if(G.$$typeof===B)return _(S,v,A,ri(v,G),J);Ni(v,G)}return null}function ue(S,v,A,G){for(var J=null,xe=null,ae=v,ce=v=0,ot=null;ae!==null&&ce<A.length;ce++){ae.index>ce?(ot=ae,ae=null):ot=ae.sibling;var Ee=C(S,ae,A[ce],G);if(Ee===null){ae===null&&(ae=ot);break}e&&ae&&Ee.alternate===null&&t(S,ae),v=i(Ee,v,ce),xe===null?J=Ee:xe.sibling=Ee,xe=Ee,ae=ot}if(ce===A.length)return a(S,ae),ke&&Tl(S,ce),J;if(ae===null){for(;ce<A.length;ce++)ae=X(S,A[ce],G),ae!==null&&(v=i(ae,v,ce),xe===null?J=ae:xe.sibling=ae,xe=ae);return ke&&Tl(S,ce),J}for(ae=l(ae);ce<A.length;ce++)ot=_(ae,S,ce,A[ce],G),ot!==null&&(e&&ot.alternate!==null&&ae.delete(ot.key===null?ce:ot.key),v=i(ot,v,ce),xe===null?J=ot:xe.sibling=ot,xe=ot);return e&&ae.forEach(function(hl){return t(S,hl)}),ke&&Tl(S,ce),J}function oe(S,v,A,G){if(A==null)throw Error(d(151));for(var J=null,xe=null,ae=v,ce=v=0,ot=null,Ee=A.next();ae!==null&&!Ee.done;ce++,Ee=A.next()){ae.index>ce?(ot=ae,ae=null):ot=ae.sibling;var hl=C(S,ae,Ee.value,G);if(hl===null){ae===null&&(ae=ot);break}e&&ae&&hl.alternate===null&&t(S,ae),v=i(hl,v,ce),xe===null?J=hl:xe.sibling=hl,xe=hl,ae=ot}if(Ee.done)return a(S,ae),ke&&Tl(S,ce),J;if(ae===null){for(;!Ee.done;ce++,Ee=A.next())Ee=X(S,Ee.value,G),Ee!==null&&(v=i(Ee,v,ce),xe===null?J=Ee:xe.sibling=Ee,xe=Ee);return ke&&Tl(S,ce),J}for(ae=l(ae);!Ee.done;ce++,Ee=A.next())Ee=_(ae,S,ce,Ee.value,G),Ee!==null&&(e&&Ee.alternate!==null&&ae.delete(Ee.key===null?ce:Ee.key),v=i(Ee,v,ce),xe===null?J=Ee:xe.sibling=Ee,xe=Ee);return e&&ae.forEach(function(Yh){return t(S,Yh)}),ke&&Tl(S,ce),J}function Oe(S,v,A,G){if(typeof A=="object"&&A!==null&&A.type===O&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case E:e:{for(var J=A.key;v!==null;){if(v.key===J){if(J=A.type,J===O){if(v.tag===7){a(S,v.sibling),G=n(v,A.props.children),G.return=S,S=G;break e}}else if(v.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Z&&fd(J)===v.type){a(S,v.sibling),G=n(v,A.props),dn(G,A),G.return=S,S=G;break e}a(S,v);break}else t(S,v);v=v.sibling}A.type===O?(G=kl(A.props.children,S.mode,G,A.key),G.return=S,S=G):(G=li(A.type,A.key,A.props,null,S.mode,G),dn(G,A),G.return=S,S=G)}return o(S);case H:e:{for(J=A.key;v!==null;){if(v.key===J)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){a(S,v.sibling),G=n(v,A.children||[]),G.return=S,S=G;break e}else{a(S,v);break}else t(S,v);v=v.sibling}G=Hr(A,S.mode,G),G.return=S,S=G}return o(S);case Z:return J=A._init,A=J(A._payload),Oe(S,v,A,G)}if(P(A))return ue(S,v,A,G);if(me(A)){if(J=me(A),typeof J!="function")throw Error(d(150));return A=J.call(A),oe(S,v,A,G)}if(typeof A.then=="function")return Oe(S,v,vi(A),G);if(A.$$typeof===B)return Oe(S,v,ri(S,A),G);Ni(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(a(S,v.sibling),G=n(v,A),G.return=S,S=G):(a(S,v),G=Ur(A,S.mode,G),G.return=S,S=G),o(S)):a(S,v)}return function(S,v,A,G){try{un=0;var J=Oe(S,v,A,G);return ms=null,J}catch(ae){if(ae===en||ae===ci)throw ae;var xe=Rt(29,ae,null,S.mode);return xe.lanes=G,xe.return=S,xe}finally{}}}var hs=md(!0),hd=md(!1),$t=Ve(null),ca=null;function Pa(e){var t=e.alternate;ge(at,at.current&1),ge($t,e),ca===null&&(t===null||cs.current!==null||t.memoizedState!==null)&&(ca=e)}function gd(e){if(e.tag===22){if(ge(at,at.current),ge($t,e),ca===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ca=e)}}else el()}function el(){ge(at,at.current),ge($t,$t.current)}function Aa(e){Re($t),ca===e&&(ca=null),Re(at)}var at=Ve(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function yo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:h({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var po={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Ht(),n=Wa(l);n.payload=t,a!=null&&(n.callback=a),t=Ia(e,n,l),t!==null&&(Bt(t,e,l),an(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Ht(),n=Wa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ia(e,n,l),t!==null&&(Bt(t,e,l),an(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ht(),l=Wa(a);l.tag=2,t!=null&&(l.callback=t),t=Ia(e,l,a),t!==null&&(Bt(t,e,a),an(t,e,a))}};function xd(e,t,a,l,n,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,o):t.prototype&&t.prototype.isPureReactComponent?!Qs(a,l)||!Qs(n,i):!0}function bd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function Ll(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=h({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var wi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yd(e){wi(e)}function pd(e){console.error(e)}function vd(e){wi(e)}function Si(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Nd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function vo(e,t,a){return a=Wa(a),a.tag=3,a.payload={element:null},a.callback=function(){Si(e,t)},a}function jd(e){return e=Wa(e),e.tag=3,e}function wd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){Nd(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Nd(t,a,l),typeof n!="function"&&(il===null?il=new Set([this]):il.add(this));var f=l.stack;this.componentDidCatch(l.value,{componentStack:f!==null?f:""})})}function Y0(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Is(t,a,n,!0),a=$t.current,a!==null){switch(a.tag){case 13:return ca===null?Vo():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Zr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Qo(e,l,n)),!1;case 22:return a.flags|=65536,l===Zr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Qo(e,l,n)),!1}throw Error(d(435,a.tag))}return Qo(e,l,n),Vo(),!1}if(ke)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Gr&&(e=Error(d(422),{cause:l}),Ws(Xt(e,a)))):(l!==Gr&&(t=Error(d(423),{cause:l}),Ws(Xt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Xt(l,a),n=vo(e.stateNode,l,n),Ir(e,n),$e!==4&&($e=2)),!1;var i=Error(d(520),{cause:l});if(i=Xt(i,a),yn===null?yn=[i]:yn.push(i),$e!==4&&($e=2),t===null)return!0;l=Xt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=vo(a.stateNode,l,e),Ir(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(il===null||!il.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=jd(n),wd(n,e,a,l),Ir(a,n),!1}a=a.return}while(a!==null);return!1}var Sd=Error(d(461)),it=!1;function dt(e,t,a,l){t.child=e===null?hd(t,null,a,l):hs(t,e.child,a,l)}function Ed(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var o={};for(var f in l)f!=="ref"&&(o[f]=l[f])}else o=l;return _l(t),l=ao(e,t,a,o,i,n),f=lo(),e!==null&&!it?(so(e,t,n),Ta(e,t,n)):(ke&&f&&Br(t),t.flags|=1,dt(e,t,l,n),t.child)}function kd(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!zr(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,Ad(e,t,i,l,n)):(e=li(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!To(e,n)){var o=i.memoizedProps;if(a=a.compare,a=a!==null?a:Qs,a(o,l)&&e.ref===t.ref)return Ta(e,t,n)}return t.flags|=1,e=Na(i,l),e.ref=t.ref,e.return=t,t.child=e}function Ad(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(Qs(i,l)&&e.ref===t.ref)if(it=!1,t.pendingProps=l=i,To(e,n))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Ta(e,t,n)}return No(e,t,a,l,n)}function Td(e,t,a){var l=t.pendingProps,n=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=i!==null?i.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~l}else t.childLanes=0,t.child=null;return Md(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oi(t,i!==null?i.cachePool:null),i!==null?Au(t,i):Pr(),gd(t);else return t.lanes=t.childLanes=536870912,Md(e,t,i!==null?i.baseLanes|a:a,a)}else i!==null?(oi(t,i.cachePool),Au(t,i),el(),t.memoizedState=null):(e!==null&&oi(t,null),Pr(),el());return dt(e,t,n,a),t.child}function Md(e,t,a,l){var n=$r();return n=n===null?null:{parent:tt._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&oi(t,null),Pr(),gd(t),e!==null&&Is(e,t,l,!0),null}function Ei(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function No(e,t,a,l,n){return _l(t),a=ao(e,t,a,l,void 0,n),l=lo(),e!==null&&!it?(so(e,t,n),Ta(e,t,n)):(ke&&l&&Br(t),t.flags|=1,dt(e,t,a,n),t.child)}function Cd(e,t,a,l,n,i){return _l(t),t.updateQueue=null,a=Mu(t,l,a,n),Tu(e),l=lo(),e!==null&&!it?(so(e,t,i),Ta(e,t,i)):(ke&&l&&Br(t),t.flags|=1,dt(e,t,a,i),t.child)}function Dd(e,t,a,l,n){if(_l(t),t.stateNode===null){var i=ss,o=a.contextType;typeof o=="object"&&o!==null&&(i=xt(o)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Kr(t),o=a.contextType,i.context=typeof o=="object"&&o!==null?xt(o):ss,i.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(yo(t,a,o,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&po.enqueueReplaceState(i,i.state,null),sn(t,l,i,n),ln(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,b=Ll(a,f);i.props=b;var M=i.context,Y=a.contextType;o=ss,typeof Y=="object"&&Y!==null&&(o=xt(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,Y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||M!==o)&&bd(t,i,l,o),Ka=!1;var C=t.memoizedState;i.state=C,sn(t,l,i,n),ln(),M=t.memoizedState,f||C!==M||Ka?(typeof X=="function"&&(yo(t,a,X,l),M=t.memoizedState),(b=Ka||xd(t,a,b,l,C,M,o))?(Y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=M),i.props=l,i.state=M,i.context=o,l=b):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Wr(e,t),o=t.memoizedProps,Y=Ll(a,o),i.props=Y,X=t.pendingProps,C=i.context,M=a.contextType,b=ss,typeof M=="object"&&M!==null&&(b=xt(M)),f=a.getDerivedStateFromProps,(M=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==X||C!==b)&&bd(t,i,l,b),Ka=!1,C=t.memoizedState,i.state=C,sn(t,l,i,n),ln();var _=t.memoizedState;o!==X||C!==_||Ka||e!==null&&e.dependencies!==null&&ii(e.dependencies)?(typeof f=="function"&&(yo(t,a,f,l),_=t.memoizedState),(Y=Ka||xd(t,a,Y,l,C,_,b)||e!==null&&e.dependencies!==null&&ii(e.dependencies))?(M||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,_,b),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,_,b)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=_),i.props=l,i.state=_,i.context=b,l=Y):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Ei(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=hs(t,e.child,null,n),t.child=hs(t,null,a,n)):dt(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Ta(e,t,n),e}function _d(e,t,a,l){return Ks(),t.flags|=256,dt(e,t,a,l),t.child}var jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wo(e){return{baseLanes:e,cachePool:pu()}}function So(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Zt),e}function Od(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),o&&(n=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(n?Pa(t):el(),ke){var f=Qe,b;if(b=f){e:{for(b=f,f=oa;b.nodeType!==8;){if(!f){f=null;break e}if(b=aa(b.nextSibling),b===null){f=null;break e}}f=b}f!==null?(t.memoizedState={dehydrated:f,treeContext:Al!==null?{id:ja,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},b=Rt(18,null,null,0),b.stateNode=f,b.return=t,t.child=b,yt=t,Qe=null,b=!0):b=!1}b||Cl(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return rc(f)?t.lanes=32:t.lanes=536870912,null;Aa(t)}return f=l.children,l=l.fallback,n?(el(),n=t.mode,f=ki({mode:"hidden",children:f},n),l=kl(l,n,a,null),f.return=t,l.return=t,f.sibling=l,t.child=f,n=t.child,n.memoizedState=wo(a),n.childLanes=So(e,o,a),t.memoizedState=jo,l):(Pa(t),Eo(t,f))}if(b=e.memoizedState,b!==null&&(f=b.dehydrated,f!==null)){if(i)t.flags&256?(Pa(t),t.flags&=-257,t=ko(e,t,a)):t.memoizedState!==null?(el(),t.child=e.child,t.flags|=128,t=null):(el(),n=l.fallback,f=t.mode,l=ki({mode:"visible",children:l.children},f),n=kl(n,f,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,hs(t,e.child,null,a),l=t.child,l.memoizedState=wo(a),l.childLanes=So(e,o,a),t.memoizedState=jo,t=n);else if(Pa(t),rc(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var M=o.dgst;o=M,l=Error(d(419)),l.stack="",l.digest=o,Ws({value:l,source:null,stack:null}),t=ko(e,t,a)}else if(it||Is(e,t,a,!1),o=(a&e.childLanes)!==0,it||o){if(o=Ye,o!==null&&(l=a&-a,l=(l&42)!==0?1:_t(l),l=(l&(o.suspendedLanes|a))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,ls(e,l),Bt(o,e,l),Sd;f.data==="$?"||Vo(),t=ko(e,t,a)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Qe=aa(f.nextSibling),yt=t,ke=!0,Ml=null,oa=!1,e!==null&&(Ft[Qt++]=ja,Ft[Qt++]=wa,Ft[Qt++]=Al,ja=e.id,wa=e.overflow,Al=t),t=Eo(t,l.children),t.flags|=4096);return t}return n?(el(),n=l.fallback,f=t.mode,b=e.child,M=b.sibling,l=Na(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,M!==null?n=Na(M,n):(n=kl(n,f,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,f=e.child.memoizedState,f===null?f=wo(a):(b=f.cachePool,b!==null?(M=tt._currentValue,b=b.parent!==M?{parent:M,pool:M}:b):b=pu(),f={baseLanes:f.baseLanes|a,cachePool:b}),n.memoizedState=f,n.childLanes=So(e,o,a),t.memoizedState=jo,l):(Pa(t),a=e.child,e=a.sibling,a=Na(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function Eo(e,t){return t=ki({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ki(e,t){return e=Rt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ko(e,t,a){return hs(t,e.child,null,a),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Xr(e.return,t,a)}function Ao(e,t,a,l,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=a,i.tailMode=n)}function Ld(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;if(dt(e,t,l.children,a),l=at.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,a,t);else if(e.tag===19)Rd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ge(at,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&ji(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Ao(t,!1,n,a,i);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ji(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Ao(t,!0,a,null,i);break;case"together":Ao(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ta(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),nl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Is(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=Na(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Na(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function To(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ii(e)))}function G0(e,t,a){switch(t.tag){case 3:jt(t,t.stateNode.containerInfo),Za(t,tt,e.memoizedState.cache),Ks();break;case 27:case 5:Ua(t);break;case 4:jt(t,t.stateNode.containerInfo);break;case 10:Za(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Pa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Od(e,t,a):(Pa(t),e=Ta(e,t,a),e!==null?e.sibling:null);Pa(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Is(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Ld(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ge(at,at.current),l)break;return null;case 22:case 23:return t.lanes=0,Td(e,t,a);case 24:Za(t,tt,e.memoizedState.cache)}return Ta(e,t,a)}function zd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!To(e,a)&&(t.flags&128)===0)return it=!1,G0(e,t,a);it=(e.flags&131072)!==0}else it=!1,ke&&(t.flags&1048576)!==0&&fu(t,ni,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")zr(l)?(e=Ll(l,e),t.tag=1,t=Dd(null,t,l,e,a)):(t.tag=0,t=No(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===N){t.tag=11,t=Ed(null,t,l,e,a);break e}else if(n===se){t.tag=14,t=kd(null,t,l,e,a);break e}}throw t=le(l)||l,Error(d(306,t,""))}}return t;case 0:return No(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Ll(l,t.pendingProps),Dd(e,t,l,n,a);case 3:e:{if(jt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Wr(e,t),sn(t,l,null,a);var o=t.memoizedState;if(l=o.cache,Za(t,tt,l),l!==i.cache&&Vr(t,[tt],a,!0),ln(),l=o.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=_d(e,t,l,a);break e}else if(l!==n){n=Xt(Error(d(424)),t),Ws(n),t=_d(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Qe=aa(e.firstChild),yt=t,ke=!0,Ml=null,oa=!0,a=hd(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ks(),l===n){t=Ta(e,t,a);break e}dt(e,t,l,a)}t=t.child}return t;case 26:return Ei(e,t),e===null?(a=Gf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,l=Yi(Tt.current).createElement(a),l[Fe]=t,l[st]=e,mt(l,a,e),Je(l),t.stateNode=l):t.memoizedState=Gf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ua(t),e===null&&ke&&(l=t.stateNode=Hf(t.type,t.pendingProps,Tt.current),yt=t,oa=!0,n=Qe,cl(t.type)?(oc=n,Qe=aa(l.firstChild)):Qe=n),dt(e,t,t.pendingProps.children,a),Ei(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((n=l=Qe)&&(l=gh(l,t.type,t.pendingProps,oa),l!==null?(t.stateNode=l,yt=t,Qe=aa(l.firstChild),oa=!1,n=!0):n=!1),n||Cl(t)),Ua(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,sc(n,i)?l=null:o!==null&&sc(n,o)&&(t.flags|=32),t.memoizedState!==null&&(n=ao(e,t,O0,null,null,a),An._currentValue=n),Ei(e,t),dt(e,t,l,a),t.child;case 6:return e===null&&ke&&((e=a=Qe)&&(a=xh(a,t.pendingProps,oa),a!==null?(t.stateNode=a,yt=t,Qe=null,e=!0):e=!1),e||Cl(t)),null;case 13:return Od(e,t,a);case 4:return jt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=hs(t,null,l,a):dt(e,t,l,a),t.child;case 11:return Ed(e,t,t.type,t.pendingProps,a);case 7:return dt(e,t,t.pendingProps,a),t.child;case 8:return dt(e,t,t.pendingProps.children,a),t.child;case 12:return dt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Za(t,t.type,l.value),dt(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,_l(t),n=xt(n),l=l(n),t.flags|=1,dt(e,t,l,a),t.child;case 14:return kd(e,t,t.type,t.pendingProps,a);case 15:return Ad(e,t,t.type,t.pendingProps,a);case 19:return Ld(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=ki(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Na(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Td(e,t,a);case 24:return _l(t),l=xt(tt),e===null?(n=$r(),n===null&&(n=Ye,i=Fr(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Kr(t),Za(t,tt,n)):((e.lanes&a)!==0&&(Wr(e,t),sn(t,null,null,a),ln()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Za(t,tt,l)):(l=i.cache,Za(t,tt,l),l!==n.cache&&Vr(t,[tt],a,!0))),dt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function Ma(e){e.flags|=4}function Ud(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qf(t)){if(t=$t.current,t!==null&&((we&4194048)===we?ca!==null:(we&62914560)!==we&&(we&536870912)===0||t!==ca))throw tn=Zr,vu;e.flags|=8192}}function Ai(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ut():536870912,e.lanes|=t,ys|=t)}function fn(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function q0(e,t,a){var l=t.pendingProps;switch(Yr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ea(tt),Mt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zs(t)?Ma(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,gu())),Xe(t),null;case 26:return a=t.memoizedState,e===null?(Ma(t),a!==null?(Xe(t),Ud(t,a)):(Xe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Ma(t),Xe(t),Ud(t,a)):(Xe(t),t.flags&=-16777217):(e.memoizedProps!==l&&Ma(t),Xe(t),t.flags&=-16777217),null;case 27:ha(t),a=Tt.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ma(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Xe(t),null}e=He.current,Zs(t)?mu(t):(e=Hf(n,l,a),t.stateNode=e,Ma(t))}return Xe(t),null;case 5:if(ha(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ma(t);else{if(!l){if(t.stateNode===null)throw Error(d(166));return Xe(t),null}if(e=He.current,Zs(t))mu(t);else{switch(n=Yi(Tt.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[Fe]=t,e[st]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(mt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ma(t)}}return Xe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ma(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(d(166));if(e=Tt.current,Zs(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=yt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Df(e.nodeValue,a)),e||Cl(t)}else e=Yi(e).createTextNode(l),e[Fe]=t,t.stateNode=e}return Xe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Zs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[Fe]=t}else Ks(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),n=!1}else n=gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Aa(t),t):(Aa(t),null)}if(Aa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var i=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ai(t,t.updateQueue),Xe(t),null;case 4:return Mt(),e===null&&Po(t.stateNode.containerInfo),Xe(t),null;case 10:return Ea(t.type),Xe(t),null;case 19:if(Re(at),n=t.memoizedState,n===null)return Xe(t),null;if(l=(t.flags&128)!==0,i=n.rendering,i===null)if(l)fn(n,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ji(e),i!==null){for(t.flags|=128,fn(n,!1),e=i.updateQueue,t.updateQueue=e,Ai(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)du(a,e),a=a.sibling;return ge(at,at.current&1|2),t.child}e=e.sibling}n.tail!==null&&Se()>Ci&&(t.flags|=128,l=!0,fn(n,!1),t.lanes=4194304)}else{if(!l)if(e=ji(i),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ai(t,e),fn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ke)return Xe(t),null}else 2*Se()-n.renderingStartTime>Ci&&a!==536870912&&(t.flags|=128,l=!0,fn(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Se(),t.sibling=null,e=at.current,ge(at,l?e&1|2:e&1),t):(Xe(t),null);case 22:case 23:return Aa(t),eo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),a=t.updateQueue,a!==null&&Ai(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Re(Ol),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ea(tt),Xe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function X0(e,t){switch(Yr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(tt),Mt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ha(t),null;case 13:if(Aa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));Ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(at),null;case 4:return Mt(),null;case 10:return Ea(t.type),null;case 22:case 23:return Aa(t),eo(),e!==null&&Re(Ol),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ea(tt),null;case 25:return null;default:return null}}function Hd(e,t){switch(Yr(t),t.tag){case 3:Ea(tt),Mt();break;case 26:case 27:case 5:ha(t);break;case 4:Mt();break;case 13:Aa(t);break;case 19:Re(at);break;case 10:Ea(t.type);break;case 22:case 23:Aa(t),eo(),e!==null&&Re(Ol);break;case 24:Ea(tt)}}function mn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,o=a.inst;l=i(),o.destroy=l}a=a.next}while(a!==n)}}catch(f){Ue(t,t.return,f)}}function tl(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var o=l.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,n=t;var b=a,M=f;try{M()}catch(Y){Ue(n,b,Y)}}}l=l.next}while(l!==i)}}catch(Y){Ue(t,t.return,Y)}}function Bd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ku(t,a)}catch(l){Ue(e,e.return,l)}}}function Yd(e,t,a){a.props=Ll(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ue(e,t,l)}}function hn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Ue(e,t,n)}}function ua(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Ue(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ue(e,t,n)}else a.current=null}function Gd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Ue(e,e.return,n)}}function Mo(e,t,a){try{var l=e.stateNode;uh(l,e.type,a,t),l[st]=t}catch(n){Ue(e,e.return,n)}}function qd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&cl(e.type)||e.tag===4}function Co(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&cl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Do(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Bi));else if(l!==4&&(l===27&&cl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Do(e,t,a),e=e.sibling;e!==null;)Do(e,t,a),e=e.sibling}function Ti(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&cl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ti(e,t,a),e=e.sibling;e!==null;)Ti(e,t,a),e=e.sibling}function Xd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);mt(t,l,a),t[Fe]=e,t[st]=a}catch(i){Ue(e,e.return,i)}}var Ca=!1,We=!1,_o=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,rt=null;function V0(e,t){if(e=e.containerInfo,ac=Qi,e=tu(e),Mr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch(oe){a=null;break e}var o=0,f=-1,b=-1,M=0,Y=0,X=e,C=null;t:for(;;){for(var _;X!==a||n!==0&&X.nodeType!==3||(f=o+n),X!==i||l!==0&&X.nodeType!==3||(b=o+l),X.nodeType===3&&(o+=X.nodeValue.length),(_=X.firstChild)!==null;)C=X,X=_;for(;;){if(X===e)break t;if(C===a&&++M===n&&(f=o),C===i&&++Y===l&&(b=o),(_=X.nextSibling)!==null)break;X=C,C=X.parentNode}X=_}a=f===-1||b===-1?null:{start:f,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(lc={focusedElem:e,selectionRange:a},Qi=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var ue=Ll(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ue,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ic(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function Fd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:al(e,a),l&4&&mn(5,a);break;case 1:if(al(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){Ue(a,a.return,o)}else{var n=Ll(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ue(a,a.return,o)}}l&64&&Bd(a),l&512&&hn(a,a.return);break;case 3:if(al(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ku(e,t)}catch(o){Ue(a,a.return,o)}}break;case 27:t===null&&l&4&&Xd(a);case 26:case 5:al(e,a),t===null&&l&4&&Gd(a),l&512&&hn(a,a.return);break;case 12:al(e,a);break;case 13:al(e,a),l&4&&Zd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=P0.bind(null,a),bh(e,a))));break;case 22:if(l=a.memoizedState!==null||Ca,!l){t=t!==null&&t.memoizedState!==null||We,n=Ca;var i=We;Ca=l,(We=t)&&!i?ll(e,a,(a.subtreeFlags&8772)!==0):al(e,a),Ca=n,We=i}break;case 30:break;default:al(e,a)}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&na(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,kt=!1;function Da(e,t,a){for(a=a.child;a!==null;)$d(e,t,a),a=a.sibling}function $d(e,t,a){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Ct,a)}catch(i){}switch(a.tag){case 26:We||ua(a,t),Da(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||ua(a,t);var l=qe,n=kt;cl(a.type)&&(qe=a.stateNode,kt=!1),Da(e,t,a),wn(a.stateNode),qe=l,kt=n;break;case 5:We||ua(a,t);case 6:if(l=qe,n=kt,qe=null,Da(e,t,a),qe=l,kt=n,qe!==null)if(kt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(i){Ue(a,t,i)}else try{qe.removeChild(a.stateNode)}catch(i){Ue(a,t,i)}break;case 18:qe!==null&&(kt?(e=qe,zf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dn(e)):zf(qe,a.stateNode));break;case 4:l=qe,n=kt,qe=a.stateNode.containerInfo,kt=!0,Da(e,t,a),qe=l,kt=n;break;case 0:case 11:case 14:case 15:We||tl(2,a,t),We||tl(4,a,t),Da(e,t,a);break;case 1:We||(ua(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yd(a,t,l)),Da(e,t,a);break;case 21:Da(e,t,a);break;case 22:We=(l=We)||a.memoizedState!==null,Da(e,t,a),We=l;break;default:Da(e,t,a)}}function Zd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dn(e)}catch(a){Ue(t,t.return,a)}}function F0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Vd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Vd),t;default:throw Error(d(435,e.tag))}}function Oo(e,t){var a=F0(e);t.forEach(function(l){var n=eh.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function Lt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(cl(f.type)){qe=f.stateNode,kt=!1;break e}break;case 5:qe=f.stateNode,kt=!1;break e;case 3:case 4:qe=f.stateNode.containerInfo,kt=!0;break e}f=f.return}if(qe===null)throw Error(d(160));$d(i,o,n),qe=null,kt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Kd(t,e),t=t.sibling}var ta=null;function Kd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),zt(e),l&4&&(tl(3,e,e.return),mn(3,e),tl(5,e,e.return));break;case 1:Lt(t,e),zt(e),l&512&&(We||a===null||ua(a,a.return)),l&64&&Ca&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=ta;if(Lt(t,e),zt(e),l&512&&(We||a===null||ua(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[qa]||i[Fe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),mt(i,l,a),i[Fe]=e,Je(i),l=i;break e;case"link":var o=Vf("link","href",n).get(l+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(i=o[f],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}i=n.createElement(l),mt(i,l,a),n.head.appendChild(i);break;case"meta":if(o=Vf("meta","content",n).get(l+(a.content||""))){for(f=0;f<o.length;f++)if(i=o[f],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}i=n.createElement(l),mt(i,l,a),n.head.appendChild(i);break;default:throw Error(d(468,l))}i[Fe]=e,Je(i),l=i}e.stateNode=l}else Ff(n,e.type,e.stateNode);else e.stateNode=Xf(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Ff(n,e.type,e.stateNode):Xf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Mo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Lt(t,e),zt(e),l&512&&(We||a===null||ua(a,a.return)),a!==null&&l&4&&Mo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Lt(t,e),zt(e),l&512&&(We||a===null||ua(a,a.return)),e.flags&32){n=e.stateNode;try{Wl(n,"")}catch(_){Ue(e,e.return,_)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Mo(e,n,a!==null?a.memoizedProps:n)),l&1024&&(_o=!0);break;case 6:if(Lt(t,e),zt(e),l&4){if(e.stateNode===null)throw Error(d(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(_){Ue(e,e.return,_)}}break;case 3:if(Xi=null,n=ta,ta=Gi(t.containerInfo),Lt(t,e),ta=n,zt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dn(t.containerInfo)}catch(_){Ue(e,e.return,_)}_o&&(_o=!1,Wd(e));break;case 4:l=ta,ta=Gi(e.stateNode.containerInfo),Lt(t,e),zt(e),ta=l;break;case 12:Lt(t,e),zt(e);break;case 13:Lt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bo=Se()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oo(e,l)));break;case 22:n=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,M=Ca,Y=We;if(Ca=M||n,We=Y||b,Lt(t,e),We=Y,Ca=M,zt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||b||Ca||We||zl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){b=a=t;try{if(i=b.stateNode,n)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=b.stateNode;var X=b.memoizedProps.style,C=X!=null&&X.hasOwnProperty("display")?X.display:null;f.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(_){Ue(b,b.return,_)}}}else if(t.tag===6){if(a===null){b=t;try{b.stateNode.nodeValue=n?"":b.memoizedProps}catch(_){Ue(b,b.return,_)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Oo(e,a))));break;case 19:Lt(t,e),zt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oo(e,l)));break;case 30:break;case 21:break;default:Lt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(qd(l)){a=l;break}l=l.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var n=a.stateNode,i=Co(e);Ti(e,i,n);break;case 5:var o=a.stateNode;a.flags&32&&(Wl(o,""),a.flags&=-33);var f=Co(e);Ti(e,f,o);break;case 3:case 4:var b=a.stateNode.containerInfo,M=Co(e);Do(e,M,b);break;default:throw Error(d(161))}}catch(Y){Ue(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Wd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function al(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Fd(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:tl(4,t,t.return),zl(t);break;case 1:ua(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Yd(t,t.return,a),zl(t);break;case 27:wn(t.stateNode);case 26:case 5:ua(t,t.return),zl(t);break;case 22:t.memoizedState===null&&zl(t);break;case 30:zl(t);break;default:zl(t)}e=e.sibling}}function ll(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:ll(n,i,a),mn(4,i);break;case 1:if(ll(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(M){Ue(l,l.return,M)}if(l=i,n=l.updateQueue,n!==null){var f=l.stateNode;try{var b=n.shared.hiddenCallbacks;if(b!==null)for(n.shared.hiddenCallbacks=null,n=0;n<b.length;n++)Eu(b[n],f)}catch(M){Ue(l,l.return,M)}}a&&o&64&&Bd(i),hn(i,i.return);break;case 27:Xd(i);case 26:case 5:ll(n,i,a),a&&l===null&&o&4&&Gd(i),hn(i,i.return);break;case 12:ll(n,i,a);break;case 13:ll(n,i,a),a&&o&4&&Zd(n,i);break;case 22:i.memoizedState===null&&ll(n,i,a),hn(i,i.return);break;case 30:break;default:ll(n,i,a)}t=t.sibling}}function Ro(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Js(a))}function Lo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function da(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Id(e,t,a,l),t=t.sibling}function Id(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:da(e,t,a,l),n&2048&&mn(9,t);break;case 1:da(e,t,a,l);break;case 3:da(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(n&2048){da(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,f=i.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Ue(t,t.return,b)}}else da(e,t,a,l);break;case 13:da(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?da(e,t,a,l):gn(e,t):i._visibility&2?da(e,t,a,l):(i._visibility|=2,gs(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Ro(o,t);break;case 24:da(e,t,a,l),n&2048&&Lo(t.alternate,t);break;default:da(e,t,a,l)}}function gs(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,o=t,f=a,b=l,M=o.flags;switch(o.tag){case 0:case 11:case 15:gs(i,o,f,b,n),mn(8,o);break;case 23:break;case 22:var Y=o.stateNode;o.memoizedState!==null?Y._visibility&2?gs(i,o,f,b,n):gn(i,o):(Y._visibility|=2,gs(i,o,f,b,n)),n&&M&2048&&Ro(o.alternate,o);break;case 24:gs(i,o,f,b,n),n&&M&2048&&Lo(o.alternate,o);break;default:gs(i,o,f,b,n)}t=t.sibling}}function gn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:gn(a,l),n&2048&&Ro(l.alternate,l);break;case 24:gn(a,l),n&2048&&Lo(l.alternate,l);break;default:gn(a,l)}t=t.sibling}}var xn=8192;function xs(e){if(e.subtreeFlags&xn)for(e=e.child;e!==null;)Jd(e),e=e.sibling}function Jd(e){switch(e.tag){case 26:xs(e),e.flags&xn&&e.memoizedState!==null&&Ch(ta,e.memoizedState,e.memoizedProps);break;case 5:xs(e);break;case 3:case 4:var t=ta;ta=Gi(e.stateNode.containerInfo),xs(e),ta=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xn,xn=16777216,xs(e),xn=t):xs(e));break;default:xs(e)}}function Pd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];rt=l,tf(l,e)}Pd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ef(e),e=e.sibling}function ef(e){switch(e.tag){case 0:case 11:case 15:bn(e),e.flags&2048&&tl(9,e,e.return);break;case 3:bn(e);break;case 12:bn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Mi(e)):bn(e);break;default:bn(e)}}function Mi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];rt=l,tf(l,e)}Pd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:tl(8,t,t.return),Mi(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Mi(t));break;default:Mi(t)}e=e.sibling}}function tf(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:tl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Js(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,rt=l;else e:for(a=e;rt!==null;){l=rt;var n=l.sibling,i=l.return;if(Qd(l),l===a){rt=null;break e}if(n!==null){n.return=i,rt=n;break e}rt=i}}}var Q0={getCacheForType:function(e){var t=xt(tt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},$0=typeof WeakMap=="function"?WeakMap:Map,Me=0,Ye=null,be=null,we=0,Ce=0,Ut=null,sl=!1,bs=!1,zo=!1,_a=0,$e=0,nl=0,Ul=0,Uo=0,Zt=0,ys=0,yn=null,At=null,Ho=!1,Bo=0,Ci=1/0,Di=null,il=null,ft=0,rl=null,ps=null,vs=0,Yo=0,Go=null,af=null,pn=0,qo=null;function Ht(){if((Me&2)!==0&&we!==0)return we&-we;if(L.T!==null){var e=rs;return e!==0?e:Ko()}return Yn()}function lf(){Zt===0&&(Zt=(we&536870912)===0||ke?Ls():536870912);var e=$t.current;return e!==null&&(e.flags|=32),Zt}function Bt(e,t,a){(e===Ye&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(Ns(e,0),ol(e,we,Zt,!1)),xa(e,a),((Me&2)===0||e!==Ye)&&(e===Ye&&((Me&2)===0&&(Ul|=a),$e===4&&ol(e,we,Zt,!1)),fa(e))}function sf(e,t,a){if((Me&6)!==0)throw Error(d(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||jl(e,t),n=l?W0(e,t):Fo(e,t,!0),i=l;do{if(n===0){bs&&!l&&ol(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Z0(a)){n=Fo(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;n=yn;var b=f.current.memoizedState.isDehydrated;if(b&&(Ns(f,o).flags|=256),o=Fo(f,o,!1),o!==2){if(zo&&!b){f.errorRecoveryDisabledLanes|=i,Ul|=i,n=4;break e}i=At,At=n,i!==null&&(At===null?At=i:At.push.apply(At,i))}n=o}if(i=!1,n!==2)continue}}if(n===1){Ns(e,0),ol(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ol(l,t,Zt,!sl);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Bo+300-Se(),10<n)){if(ol(l,t,Zt,!sl),Vl(l,0,!0)!==0)break e;l.timeoutHandle=Rf(nf.bind(null,l,a,At,Di,Ho,t,Zt,Ul,ys,sl,i,2,-0,0),n);break e}nf(l,a,At,Di,Ho,t,Zt,Ul,ys,sl,i,0,-0,0)}}break}while(!0);fa(e)}function nf(e,t,a,l,n,i,o,f,b,M,Y,X,C,_){if(e.timeoutHandle=-1,X=t.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(kn={stylesheets:null,count:0,unsuspend:Mh},Jd(t),X=Dh(),X!==null)){e.cancelPendingCommit=X(mf.bind(null,e,t,i,a,l,n,o,f,b,Y,1,C,_)),ol(e,i,o,!M);return}mf(e,t,i,a,l,n,o,f,b)}function Z0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!Ot(i(),n))return!1}catch(o){return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ol(e,t,a,l){t&=~Uo,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-Le(n),o=1<<i;l[i]=-1,n&=~o}a!==0&&Bn(e,a,t)}function _i(){return(Me&6)===0?(vn(0),!1):!0}function Xo(){if(be!==null){if(Ce===0)var e=be.return;else e=be,Sa=Dl=null,no(e),ms=null,un=0,e=be;for(;e!==null;)Hd(e.alternate,e),e=e.return;be=null}}function Ns(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,fh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Xo(),Ye=e,be=a=Na(e.current,null),we=t,Ce=0,Ut=null,sl=!1,bs=jl(e,t),zo=!1,ys=Zt=Uo=Ul=nl=$e=0,At=yn=null,Ho=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Le(l),i=1<<n;t|=e[n],l&=~i}return _a=t,ei(),a}function rf(e,t){he=null,L.H=pi,t===en||t===ci?(t=wu(),Ce=3):t===vu?(t=wu(),Ce=4):Ce=t===Sd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,be===null&&($e=1,Si(e,Xt(t,e.current)))}function of(){var e=L.H;return L.H=pi,e===null?pi:e}function cf(){var e=L.A;return L.A=Q0,e}function Vo(){$e=4,sl||(we&4194048)!==we&&$t.current!==null||(bs=!0),(nl&134217727)===0&&(Ul&134217727)===0||Ye===null||ol(Ye,we,Zt,!1)}function Fo(e,t,a){var l=Me;Me|=2;var n=of(),i=cf();(Ye!==e||we!==t)&&(Di=null,Ns(e,t)),t=!1;var o=$e;e:do try{if(Ce!==0&&be!==null){var f=be,b=Ut;switch(Ce){case 8:Xo(),o=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var M=Ce;if(Ce=0,Ut=null,js(e,f,b,M),a&&bs){o=0;break e}break;default:M=Ce,Ce=0,Ut=null,js(e,f,b,M)}}K0(),o=$e;break}catch(Y){rf(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Sa=Dl=null,Me=l,L.H=n,L.A=i,be===null&&(Ye=null,we=0,ei()),o}function K0(){for(;be!==null;)uf(be)}function W0(e,t){var a=Me;Me|=2;var l=of(),n=cf();Ye!==e||we!==t?(Di=null,Ci=Se()+500,Ns(e,t)):bs=jl(e,t);e:do try{if(Ce!==0&&be!==null){t=be;var i=Ut;t:switch(Ce){case 1:Ce=0,Ut=null,js(e,t,i,1);break;case 2:case 9:if(Nu(i)){Ce=0,Ut=null,df(t);break}t=function(){Ce!==2&&Ce!==9||Ye!==e||(Ce=7),fa(e)},i.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Nu(i)?(Ce=0,Ut=null,df(t)):(Ce=0,Ut=null,js(e,t,i,7));break;case 5:var o=null;switch(be.tag){case 26:o=be.memoizedState;case 5:case 27:var f=be;if(!o||Qf(o)){Ce=0,Ut=null;var b=f.sibling;if(b!==null)be=b;else{var M=f.return;M!==null?(be=M,Oi(M)):be=null}break t}}Ce=0,Ut=null,js(e,t,i,5);break;case 6:Ce=0,Ut=null,js(e,t,i,6);break;case 8:Xo(),$e=6;break e;default:throw Error(d(462))}}I0();break}catch(Y){rf(e,Y)}while(!0);return Sa=Dl=null,L.H=l,L.A=n,Me=a,be!==null?0:(Ye=null,we=0,ei(),$e)}function I0(){for(;be!==null&&!yl();)uf(be)}function uf(e){var t=zd(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?Oi(e):be=t}function df(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Cd(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Cd(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:no(t);default:Hd(a,t),t=be=du(t,_a),t=zd(a,t,_a)}e.memoizedProps=e.pendingProps,t===null?Oi(e):be=t}function js(e,t,a,l){Sa=Dl=null,no(t),ms=null,un=0;var n=t.return;try{if(Y0(e,n,t,a,we)){$e=1,Si(e,Xt(a,e.current)),be=null;return}}catch(i){if(n!==null)throw be=n,i;$e=1,Si(e,Xt(a,e.current)),be=null;return}t.flags&32768?(ke||l===1?e=!0:bs||(we&536870912)!==0?e=!1:(sl=e=!0,(l===2||l===9||l===3||l===6)&&(l=$t.current,l!==null&&l.tag===13&&(l.flags|=16384))),ff(t,e)):Oi(t)}function Oi(e){var t=e;do{if((t.flags&32768)!==0){ff(t,sl);return}e=t.return;var a=q0(t.alternate,t,_a);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);$e===0&&($e=5)}function ff(e,t){do{var a=X0(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);$e=6,be=null}function mf(e,t,a,l,n,i,o,f,b){e.cancelPendingCommit=null;do Ri();while(ft!==0);if((Me&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(i=t.lanes|t.childLanes,i|=Rr,Hn(e,a,i,o,f,b),e===Ye&&(be=Ye=null,we=0),ps=t,rl=e,vs=a,Yo=i,Go=n,af=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,th(sa,function(){return yf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,n=$.p,$.p=2,o=Me,Me|=4;try{V0(e,t,a)}finally{Me=o,$.p=n,L.T=l}}ft=1,hf(),gf(),xf()}}function hf(){if(ft===1){ft=0;var e=rl,t=ps,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=$.p;$.p=2;var n=Me;Me|=4;try{Kd(t,e);var i=lc,o=tu(e.containerInfo),f=i.focusedElem,b=i.selectionRange;if(o!==f&&f&&f.ownerDocument&&eu(f.ownerDocument.documentElement,f)){if(b!==null&&Mr(f)){var M=b.start,Y=b.end;if(Y===void 0&&(Y=M),"selectionStart"in f)f.selectionStart=M,f.selectionEnd=Math.min(Y,f.value.length);else{var X=f.ownerDocument||document,C=X&&X.defaultView||window;if(C.getSelection){var _=C.getSelection(),ue=f.textContent.length,oe=Math.min(b.start,ue),Oe=b.end===void 0?oe:Math.min(b.end,ue);!_.extend&&oe>Oe&&(o=Oe,Oe=oe,oe=o);var S=Pc(f,oe),v=Pc(f,Oe);if(S&&v&&(_.rangeCount!==1||_.anchorNode!==S.node||_.anchorOffset!==S.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)){var A=X.createRange();A.setStart(S.node,S.offset),_.removeAllRanges(),oe>Oe?(_.addRange(A),_.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),_.addRange(A))}}}}for(X=[],_=f;_=_.parentNode;)_.nodeType===1&&X.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<X.length;f++){var G=X[f];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Qi=!!ac,lc=ac=null}finally{Me=n,$.p=l,L.T=a}}e.current=t,ft=2}}function gf(){if(ft===2){ft=0;var e=rl,t=ps,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=$.p;$.p=2;var n=Me;Me|=4;try{Fd(e,t.alternate,t)}finally{Me=n,$.p=l,L.T=a}}ft=3}}function xf(){if(ft===4||ft===3){ft=0,pl();var e=rl,t=ps,a=vs,l=af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ft=5:(ft=0,ps=rl=null,bf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(il=null),zs(a),t=t.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Ct,t,void 0,(t.current.flags&128)===128)}catch(b){}if(l!==null){t=L.T,n=$.p,$.p=2,L.T=null;try{for(var i=e.onRecoverableError,o=0;o<l.length;o++){var f=l[o];i(f.value,{componentStack:f.stack})}}finally{L.T=t,$.p=n}}(vs&3)!==0&&Ri(),fa(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===qo?pn++:(pn=0,qo=e):pn=0,vn(0)}}function bf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function Ri(e){return hf(),gf(),xf(),yf()}function yf(){if(ft!==5)return!1;var e=rl,t=Yo;Yo=0;var a=zs(vs),l=L.T,n=$.p;try{$.p=32>a?32:a,L.T=null,a=Go,Go=null;var i=rl,o=vs;if(ft=0,ps=rl=null,vs=0,(Me&6)!==0)throw Error(d(331));var f=Me;if(Me|=4,ef(i.current),Id(i,i.current,o,a),Me=f,vn(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Ct,i)}catch(b){}return!0}finally{$.p=n,L.T=l,bf(e,t)}}function pf(e,t,a){t=Xt(a,t),t=vo(e.stateNode,t,2),e=Ia(e,t,2),e!==null&&(xa(e,2),fa(e))}function Ue(e,t,a){if(e.tag===3)pf(e,e,a);else for(;t!==null;){if(t.tag===3){pf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(il===null||!il.has(l))){e=Xt(a,e),a=jd(2),l=Ia(t,a,2),l!==null&&(wd(a,l,t,e),xa(l,2),fa(l));break}}t=t.return}}function Qo(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new $0;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(zo=!0,n.add(a),e=J0.bind(null,e,t,a),t.then(e,e))}function J0(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ye===e&&(we&a)===a&&($e===4||$e===3&&(we&62914560)===we&&300>Se()-Bo?(Me&2)===0&&Ns(e,0):Uo|=a,ys===we&&(ys=0)),fa(e)}function vf(e,t){t===0&&(t=ut()),e=ls(e,t),e!==null&&(xa(e,t),fa(e))}function P0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vf(e,a)}function eh(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(d(314))}l!==null&&l.delete(t),vf(e,a)}function th(e,t){return Ha(e,t)}var Li=null,ws=null,$o=!1,zi=!1,Zo=!1,Hl=0;function fa(e){e!==ws&&e.next===null&&(ws===null?Li=ws=e:ws=ws.next=e),zi=!0,$o||($o=!0,lh())}function vn(e,t){if(!Zo&&zi){Zo=!0;do for(var a=!1,l=Li;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var o=l.suspendedLanes,f=l.pingedLanes;i=(1<<31-Le(42|e)+1)-1,i&=n&~(o&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,Sf(l,i))}else i=we,i=Vl(l,l===Ye?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||jl(l,i)||(a=!0,Sf(l,i));l=l.next}while(a);Zo=!1}}function ah(){Nf()}function Nf(){zi=$o=!1;var e=0;Hl!==0&&(dh()&&(e=Hl),Hl=0);for(var t=Se(),a=null,l=Li;l!==null;){var n=l.next,i=jf(l,t);i===0?(l.next=null,a===null?Li=n:a.next=n,n===null&&(ws=a)):(a=l,(e!==0||(i&3)!==0)&&(zi=!0)),l=n}vn(e)}function jf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-Le(i),f=1<<o,b=n[o];b===-1?((f&a)===0||(f&l)!==0)&&(n[o]=Rs(f,t)):b<=t&&(e.expiredLanes|=f),i&=~f}if(t=Ye,a=we,a=Vl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Yt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||jl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Yt(l),zs(a)){case 2:case 8:a=Ya;break;case 32:a=sa;break;case 268435456:a=fe;break;default:a=sa}return l=wf.bind(null,e),a=Ha(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Yt(l),e.callbackPriority=2,e.callbackNode=null,2}function wf(e,t){if(ft!==0&&ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var l=we;return l=Vl(e,e===Ye?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sf(e,l,t),jf(e,Se()),e.callbackNode!=null&&e.callbackNode===a?wf.bind(null,e):null)}function Sf(e,t){if(Ri())return null;sf(e,t,!0)}function lh(){mh(function(){(Me&6)!==0?Ha(Ba,ah):Nf()})}function Ko(){return Hl===0&&(Hl=Ls()),Hl}function Ef(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$n(""+e)}function kf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function sh(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=Ef((n[st]||null).action),o=l.submitter;o&&(t=(t=o[st]||null)?Ef(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var f=new In("action","action",null,l,n);e.push({event:f,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hl!==0){var b=o?kf(n,o):new FormData(n);go(a,{pending:!0,data:b,method:n.method,action:i},null,b)}}else typeof i=="function"&&(f.preventDefault(),b=o?kf(n,o):new FormData(n),go(a,{pending:!0,data:b,method:n.method,action:i},i,b))},currentTarget:n}]})}}for(var Wo=0;Wo<Or.length;Wo++){var Io=Or[Wo],nh=Io.toLowerCase(),ih=Io[0].toUpperCase()+Io.slice(1);ea(nh,"on"+ih)}ea(su,"onAnimationEnd"),ea(nu,"onAnimationIteration"),ea(iu,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(w0,"onTransitionRun"),ea(S0,"onTransitionStart"),ea(E0,"onTransitionCancel"),ea(ru,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nn));function Af(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var o=l.length-1;0<=o;o--){var f=l[o],b=f.instance,M=f.currentTarget;if(f=f.listener,b!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=M;try{i(n)}catch(Y){wi(Y)}n.currentTarget=null,i=b}else for(o=0;o<l.length;o++){if(f=l[o],b=f.instance,M=f.currentTarget,f=f.listener,b!==i&&n.isPropagationStopped())break e;i=f,n.currentTarget=M;try{i(n)}catch(Y){wi(Y)}n.currentTarget=null,i=b}}}}function ye(e,t){var a=t[Us];a===void 0&&(a=t[Us]=new Set);var l=e+"__bubble";a.has(l)||(Tf(t,e,2,!1),a.add(l))}function Jo(e,t,a){var l=0;t&&(l|=4),Tf(a,e,l,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function Po(e){if(!e[Ui]){e[Ui]=!0,qn.forEach(function(a){a!=="selectionchange"&&(rh.has(a)||Jo(a,!1,e),Jo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,Jo("selectionchange",!1,t))}}function Tf(e,t,a,l){switch(Jf(t)){case 2:var n=Rh;break;case 8:n=Lh;break;default:n=mc}a=n.bind(null,t,a,e),n=void 0,!vr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function ec(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var f=l.stateNode.containerInfo;if(f===n)break;if(o===4)for(o=l.return;o!==null;){var b=o.tag;if((b===3||b===4)&&o.stateNode.containerInfo===n)return;o=o.return}for(;f!==null;){if(o=ia(f),o===null)return;if(b=o.tag,b===5||b===6||b===26||b===27){l=i=o;continue e}f=f.parentNode}}l=l.return}Rc(function(){var M=i,Y=yr(a),X=[];e:{var C=ou.get(e);if(C!==void 0){var _=In,ue=e;switch(e){case"keypress":if(Kn(a)===0)break e;case"keydown":case"keyup":_=t0;break;case"focusin":ue="focus",_=Sr;break;case"focusout":ue="blur",_=Sr;break;case"beforeblur":case"afterblur":_=Sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=s0;break;case su:case nu:case iu:_=Qm;break;case ru:_=i0;break;case"scroll":case"scrollend":_=Gm;break;case"wheel":_=o0;break;case"copy":case"cut":case"paste":_=Zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bc;break;case"toggle":case"beforetoggle":_=u0}var oe=(t&4)!==0,Oe=!oe&&(e==="scroll"||e==="scrollend"),S=oe?C!==null?C+"Capture":null:C;oe=[];for(var v=M,A;v!==null;){var G=v;if(A=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||A===null||S===null||(G=Bs(v,S),G!=null&&oe.push(jn(v,G,A))),Oe)break;v=v.return}0<oe.length&&(C=new _(C,ue,null,a,Y),X.push({event:C,listeners:oe}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",C&&a!==br&&(ue=a.relatedTarget||a.fromElement)&&(ia(ue)||ue[ba]))break e;if((_||C)&&(C=Y.window===Y?Y:(C=Y.ownerDocument)?C.defaultView||C.parentWindow:window,_?(ue=a.relatedTarget||a.toElement,_=M,ue=ue?ia(ue):null,ue!==null&&(Oe=x(ue),oe=ue.tag,ue!==Oe||oe!==5&&oe!==27&&oe!==6)&&(ue=null)):(_=null,ue=M),_!==ue)){if(oe=Uc,G="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Bc,G="onPointerLeave",S="onPointerEnter",v="pointer"),Oe=_==null?C:ra(_),A=ue==null?C:ra(ue),C=new oe(G,v+"leave",_,a,Y),C.target=Oe,C.relatedTarget=A,G=null,ia(Y)===M&&(oe=new oe(S,v+"enter",ue,a,Y),oe.target=A,oe.relatedTarget=Oe,G=oe),Oe=G,_&&ue)t:{for(oe=_,S=ue,v=0,A=oe;A;A=Ss(A))v++;for(A=0,G=S;G;G=Ss(G))A++;for(;0<v-A;)oe=Ss(oe),v--;for(;0<A-v;)S=Ss(S),A--;for(;v--;){if(oe===S||S!==null&&oe===S.alternate)break t;oe=Ss(oe),S=Ss(S)}oe=null}else oe=null;_!==null&&Mf(X,C,_,oe,!1),ue!==null&&Oe!==null&&Mf(X,Oe,ue,oe,!0)}}e:{if(C=M?ra(M):window,_=C.nodeName&&C.nodeName.toLowerCase(),_==="select"||_==="input"&&C.type==="file")var J=$c;else if(Fc(C))if(Zc)J=v0;else{J=y0;var xe=b0}else _=C.nodeName,!_||_.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?M&&xr(M.elementType)&&(J=$c):J=p0;if(J&&(J=J(e,M))){Qc(X,J,a,Y);break e}xe&&xe(e,C,M),e==="focusout"&&M&&C.type==="number"&&M.memoizedProps.value!=null&&ze(C,"number",C.value)}switch(xe=M?ra(M):window,e){case"focusin":(Fc(xe)||xe.contentEditable==="true")&&(es=xe,Cr=M,$s=null);break;case"focusout":$s=Cr=es=null;break;case"mousedown":Dr=!0;break;case"contextmenu":case"mouseup":case"dragend":Dr=!1,au(X,a,Y);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":au(X,a,Y)}var ae;if(kr)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Pl?Xc(e,a)&&(ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(Yc&&a.locale!=="ko"&&(Pl||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Pl&&(ae=Lc()):($a=Y,Nr="value"in $a?$a.value:$a.textContent,Pl=!0)),xe=Hi(M,ce),0<xe.length&&(ce=new Hc(ce,e,null,a,Y),X.push({event:ce,listeners:xe}),ae?ce.data=ae:(ae=Vc(a),ae!==null&&(ce.data=ae)))),(ae=f0?m0(e,a):h0(e,a))&&(ce=Hi(M,"onBeforeInput"),0<ce.length&&(xe=new Hc("onBeforeInput","beforeinput",null,a,Y),X.push({event:xe,listeners:ce}),xe.data=ae)),sh(X,e,M,a,Y)}Af(X,t)})}function jn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hi(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Bs(e,a),n!=null&&l.unshift(jn(e,n,i)),n=Bs(e,t),n!=null&&l.push(jn(e,n,i))),e.tag===3)return l;e=e.return}return[]}function Ss(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mf(e,t,a,l,n){for(var i=t._reactName,o=[];a!==null&&a!==l;){var f=a,b=f.alternate,M=f.stateNode;if(f=f.tag,b!==null&&b===l)break;f!==5&&f!==26&&f!==27||M===null||(b=M,n?(M=Bs(a,i),M!=null&&o.unshift(jn(a,M,b))):n||(M=Bs(a,i),M!=null&&o.push(jn(a,M,b)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var oh=/\r\n?/g,ch=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(oh,`
`).replace(ch,"")}function Df(e,t){return t=Cf(t),Cf(e)===t}function Bi(){}function _e(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Wl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Wl(e,""+l);break;case"className":pa(e,"class",l);break;case"tabIndex":pa(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pa(e,a,l);break;case"style":_c(e,l,i);break;case"data":if(t!=="object"){pa(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&_e(e,t,"name",n.name,n,null),_e(e,t,"formEncType",n.formEncType,n,null),_e(e,t,"formMethod",n.formMethod,n,null),_e(e,t,"formTarget",n.formTarget,n,null)):(_e(e,t,"encType",n.encType,n,null),_e(e,t,"method",n.method,n,null),_e(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Bi);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$n(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Jt(e,"popover",l);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jt(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bm.get(a)||a,Jt(e,a,l))}}function tc(e,t,a,l,n,i){switch(a){case"style":_c(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Wl(e,l):(typeof l=="number"||typeof l=="bigint")&&Wl(e,""+l);break;case"onScroll":l!=null&&ye("scroll",e);break;case"onScrollEnd":l!=null&&ye("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[st]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Jt(e,a,l)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var o=a[i];if(o!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_e(e,t,i,o,a,null)}}n&&_e(e,t,"srcSet",a.srcSet,a,null),l&&_e(e,t,"src",a.src,a,null);return;case"input":ye("invalid",e);var f=i=o=n=null,b=null,M=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":n=Y;break;case"type":o=Y;break;case"checked":b=Y;break;case"defaultChecked":M=Y;break;case"value":i=Y;break;case"defaultValue":f=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(d(137,t));break;default:_e(e,t,l,Y,a,null)}}Be(e,i,f,b,M,o,n,!1),D(e);return;case"select":ye("invalid",e),l=o=i=null;for(n in a)if(a.hasOwnProperty(n)&&(f=a[n],f!=null))switch(n){case"value":i=f;break;case"defaultValue":o=f;break;case"multiple":l=f;default:_e(e,t,n,f,a,null)}t=i,a=o,e.multiple=!!l,t!=null?nt(e,!!l,t,!1):a!=null&&nt(e,!!l,a,!0);return;case"textarea":ye("invalid",e),i=n=l=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":l=f;break;case"defaultValue":n=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:_e(e,t,o,f,a,null)}Cc(e,l,n,i),D(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_e(e,t,b,l,a,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(l=0;l<Nn.length;l++)ye(Nn[l],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:_e(e,t,M,l,a,null)}return;default:if(xr(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&tc(e,t,Y,l,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(l=a[f],l!=null&&_e(e,t,f,l,a,null))}function uh(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,o=null,f=null,b=null,M=null,Y=null;for(_ in a){var X=a[_];if(a.hasOwnProperty(_)&&X!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":b=X;default:l.hasOwnProperty(_)||_e(e,t,_,null,l,X)}}for(var C in l){var _=l[C];if(X=a[C],l.hasOwnProperty(C)&&(_!=null||X!=null))switch(C){case"type":i=_;break;case"name":n=_;break;case"checked":M=_;break;case"defaultChecked":Y=_;break;case"value":o=_;break;case"defaultValue":f=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(d(137,t));break;default:_!==X&&_e(e,t,C,_,l,X)}}ve(e,o,f,b,M,Y,i,n);return;case"select":_=o=f=C=null;for(i in a)if(b=a[i],a.hasOwnProperty(i)&&b!=null)switch(i){case"value":break;case"multiple":_=b;default:l.hasOwnProperty(i)||_e(e,t,i,null,l,b)}for(n in l)if(i=l[n],b=a[n],l.hasOwnProperty(n)&&(i!=null||b!=null))switch(n){case"value":C=i;break;case"defaultValue":f=i;break;case"multiple":o=i;default:i!==b&&_e(e,t,n,i,l,b)}t=f,a=o,l=_,C!=null?nt(e,!!a,C,!1):!!l!=!!a&&(t!=null?nt(e,!!a,t,!0):nt(e,!!a,a?[]:"",!1));return;case"textarea":_=C=null;for(f in a)if(n=a[f],a.hasOwnProperty(f)&&n!=null&&!l.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:_e(e,t,f,null,l,n)}for(o in l)if(n=l[o],i=a[o],l.hasOwnProperty(o)&&(n!=null||i!=null))switch(o){case"value":C=n;break;case"defaultValue":_=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==i&&_e(e,t,o,n,l,i)}Mc(e,C,_);return;case"option":for(var ue in a)if(C=a[ue],a.hasOwnProperty(ue)&&C!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:_e(e,t,ue,null,l,C)}for(b in l)if(C=l[b],_=a[b],l.hasOwnProperty(b)&&C!==_&&(C!=null||_!=null))switch(b){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:_e(e,t,b,C,l,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)C=a[oe],a.hasOwnProperty(oe)&&C!=null&&!l.hasOwnProperty(oe)&&_e(e,t,oe,null,l,C);for(M in l)if(C=l[M],_=a[M],l.hasOwnProperty(M)&&C!==_&&(C!=null||_!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(d(137,t));break;default:_e(e,t,M,C,l,_)}return;default:if(xr(t)){for(var Oe in a)C=a[Oe],a.hasOwnProperty(Oe)&&C!==void 0&&!l.hasOwnProperty(Oe)&&tc(e,t,Oe,void 0,l,C);for(Y in l)C=l[Y],_=a[Y],!l.hasOwnProperty(Y)||C===_||C===void 0&&_===void 0||tc(e,t,Y,C,l,_);return}}for(var S in a)C=a[S],a.hasOwnProperty(S)&&C!=null&&!l.hasOwnProperty(S)&&_e(e,t,S,null,l,C);for(X in l)C=l[X],_=a[X],!l.hasOwnProperty(X)||C===_||C==null&&_==null||_e(e,t,X,C,l,_)}var ac=null,lc=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function _f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nc=null;function dh(){var e=window.event;return e&&e.type==="popstate"?e===nc?!1:(nc=e,!0):(nc=null,!1)}var Rf=typeof setTimeout=="function"?setTimeout:void 0,fh=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,mh=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf!="undefined"?function(e){return Lf.resolve(null).then(e).catch(hh)}:Rf;function hh(e){setTimeout(function(){throw e})}function cl(e){return e==="head"}function zf(e,t){var a=t,l=0,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(0<l&&8>l){a=l;var o=e.ownerDocument;if(a&1&&wn(o.documentElement),a&2&&wn(o.body),a&4)for(a=o.head,wn(a),o=a.firstChild;o;){var f=o.nextSibling,b=o.nodeName;o[qa]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}if(n===0){e.removeChild(i),Dn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=i}while(a);Dn(t)}function ic(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ic(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gh(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[qa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=aa(e.nextSibling),e===null)break}return null}function xh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=aa(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function bh(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var oc=null;function Uf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Hf(e,t,a){switch(t=Yi(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function wn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);na(e)}var Kt=new Map,Bf=new Set;function Gi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oa=$.d;$.d={f:yh,r:ph,D:vh,C:Nh,L:jh,m:wh,X:Eh,S:Sh,M:kh};function yh(){var e=Oa.f(),t=_i();return e||t}function ph(e){var t=It(e);t!==null&&t.tag===5&&t.type==="form"?sd(t):Oa.r(e)}var Es=typeof document=="undefined"?null:document;function Yf(e,t,a){var l=Es;if(l&&typeof t=="string"&&t){var n=ie(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Bf.has(n)||(Bf.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),mt(t,"link",e),Je(t),l.head.appendChild(t)))}}function vh(e){Oa.D(e),Yf("dns-prefetch",e,null)}function Nh(e,t){Oa.C(e,t),Yf("preconnect",e,t)}function jh(e,t,a){Oa.L(e,t,a);var l=Es;if(l&&e&&t){var n='link[rel="preload"][as="'+ie(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+ie(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+ie(a.imageSizes)+'"]')):n+='[href="'+ie(e)+'"]';var i=n;switch(t){case"style":i=ks(e);break;case"script":i=As(e)}Kt.has(i)||(e=h({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Kt.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Sn(i))||t==="script"&&l.querySelector(En(i))||(t=l.createElement("link"),mt(t,"link",e),Je(t),l.head.appendChild(t)))}}function wh(e,t){Oa.m(e,t);var a=Es;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ie(l)+'"][href="'+ie(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=As(e)}if(!Kt.has(i)&&(e=h({rel:"modulepreload",href:e},t),Kt.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(En(i)))return}l=a.createElement("link"),mt(l,"link",e),Je(l),a.head.appendChild(l)}}}function Sh(e,t,a){Oa.S(e,t,a);var l=Es;if(l&&e){var n=Xa(l).hoistableStyles,i=ks(e);t=t||"default";var o=n.get(i);if(!o){var f={loading:0,preload:null};if(o=l.querySelector(Sn(i)))f.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Kt.get(i))&&cc(e,a);var b=o=l.createElement("link");Je(b),mt(b,"link",e),b._p=new Promise(function(M,Y){b.onload=M,b.onerror=Y}),b.addEventListener("load",function(){f.loading|=1}),b.addEventListener("error",function(){f.loading|=2}),f.loading|=4,qi(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:f},n.set(i,o)}}}function Eh(e,t){Oa.X(e,t);var a=Es;if(a&&e){var l=Xa(a).hoistableScripts,n=As(e),i=l.get(n);i||(i=a.querySelector(En(n)),i||(e=h({src:e,async:!0},t),(t=Kt.get(n))&&uc(e,t),i=a.createElement("script"),Je(i),mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function kh(e,t){Oa.M(e,t);var a=Es;if(a&&e){var l=Xa(a).hoistableScripts,n=As(e),i=l.get(n);i||(i=a.querySelector(En(n)),i||(e=h({src:e,async:!0,type:"module"},t),(t=Kt.get(n))&&uc(e,t),i=a.createElement("script"),Je(i),mt(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Gf(e,t,a,l){var n=(n=Tt.current)?Gi(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ks(a.href),a=Xa(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ks(a.href);var i=Xa(n).hoistableStyles,o=i.get(e);if(o||(n=n.ownerDocument||n,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=n.querySelector(Sn(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Kt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kt.set(e,a),i||Ah(n,e,a,o.state))),t&&l===null)throw Error(d(528,""));return o}if(t&&l!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=As(a),a=Xa(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function ks(e){return'href="'+ie(e)+'"'}function Sn(e){return'link[rel="stylesheet"]['+e+"]"}function qf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Ah(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",a),Je(t),e.head.appendChild(t))}function As(e){return'[src="'+ie(e)+'"]'}function En(e){return"script[async]"+e}function Xf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ie(a.href)+'"]');if(l)return t.instance=l,Je(l),l;var n=h({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Je(l),mt(l,"style",n),qi(l,a.precedence,e),t.instance=l;case"stylesheet":n=ks(a.href);var i=e.querySelector(Sn(n));if(i)return t.state.loading|=4,t.instance=i,Je(i),i;l=qf(a),(n=Kt.get(n))&&cc(l,n),i=(e.ownerDocument||e).createElement("link"),Je(i);var o=i;return o._p=new Promise(function(f,b){o.onload=f,o.onerror=b}),mt(i,"link",l),t.state.loading|=4,qi(i,a.precedence,e),t.instance=i;case"script":return i=As(a.src),(n=e.querySelector(En(i)))?(t.instance=n,Je(n),n):(l=a,(n=Kt.get(i))&&(l=h({},a),uc(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Je(n),mt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,qi(l,a.precedence,e));return t.instance}function qi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,o=0;o<l.length;o++){var f=l[o];if(f.dataset.precedence===t)i=f;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function uc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xi=null;function Vf(e,t,a){if(Xi===null){var l=new Map,n=Xi=new Map;n.set(a,l)}else n=Xi,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[qa]||i[Fe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var f=l.get(o);f?f.push(i):l.set(o,[i])}}return l}function Ff(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Th(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var kn=null;function Mh(){}function Ch(e,t,a){if(kn===null)throw Error(d(475));var l=kn;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=ks(a.href),i=e.querySelector(Sn(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Vi.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=i,Je(i);return}i=e.ownerDocument||e,a=qf(a),(n=Kt.get(n))&&cc(a,n),i=i.createElement("link"),Je(i);var o=i;o._p=new Promise(function(f,b){o.onload=f,o.onerror=b}),mt(i,"link",a),t.instance=i}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Vi.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Dh(){if(kn===null)throw Error(d(475));var e=kn;return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Vi(){if(this.count--,this.count===0){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fi=null;function dc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fi=new Map,t.forEach(_h,e),Fi=null,Vi.call(e))}function _h(e,t){if(!(t.state.loading&4)){var a=Fi.get(e);if(a)var l=a.get(null);else{a=new Map,Fi.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var o=n[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}n=t.instance,o=n.getAttribute("data-precedence"),i=a.get(o)||l,i===l&&a.set(null,n),a.set(o,n),this.count++,l=Vi.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var An={$$typeof:B,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Oh(e,t,a,l,n,i,o,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function $f(e,t,a,l,n,i,o,f,b,M,Y,X){return e=new Oh(e,t,a,o,f,b,M,X),t=1,i===!0&&(t|=24),i=Rt(3,null,null,t),e.current=i,i.stateNode=e,t=Fr(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Kr(i),e}function Zf(e){return e?(e=ss,e):ss}function Kf(e,t,a,l,n,i){n=Zf(n),l.context===null?l.context=n:l.pendingContext=n,l=Wa(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Ia(e,l,t),a!==null&&(Bt(a,e,t),an(a,e,t))}function Wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fc(e,t){Wf(e,t),(e=e.alternate)&&Wf(e,t)}function If(e){if(e.tag===13){var t=ls(e,67108864);t!==null&&Bt(t,e,67108864),fc(e,67108864)}}var Qi=!0;function Rh(e,t,a,l){var n=L.T;L.T=null;var i=$.p;try{$.p=2,mc(e,t,a,l)}finally{$.p=i,L.T=n}}function Lh(e,t,a,l){var n=L.T;L.T=null;var i=$.p;try{$.p=8,mc(e,t,a,l)}finally{$.p=i,L.T=n}}function mc(e,t,a,l){if(Qi){var n=hc(l);if(n===null)ec(e,t,l,$i,a),Pf(e,l);else if(Uh(n,e,t,a,l))l.stopPropagation();else if(Pf(e,l),t&4&&-1<zh.indexOf(e)){for(;n!==null;){var i=It(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Gt(i.pendingLanes);if(o!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var b=1<<31-Le(o);f.entanglements[1]|=b,o&=~b}fa(i),(Me&6)===0&&(Ci=Se()+500,vn(0))}}break;case 13:f=ls(i,2),f!==null&&Bt(f,i,2),_i(),fc(i,2)}if(i=hc(l),i===null&&ec(e,t,l,$i,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else ec(e,t,l,null,a)}}function hc(e){return e=yr(e),gc(e)}var $i=null;function gc(e){if($i=null,e=ia(e),e!==null){var t=x(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $i=e,null}function Jf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Ba:return 2;case Ya:return 8;case sa:case I:return 32;case fe:return 268435456;default:return 32}default:return 32}}var xc=!1,ul=null,dl=null,fl=null,Tn=new Map,Mn=new Map,ml=[],zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pf(e,t){switch(e){case"focusin":case"focusout":ul=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mn.delete(t.pointerId)}}function Cn(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=It(t),t!==null&&If(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Uh(e,t,a,l,n){switch(t){case"focusin":return ul=Cn(ul,e,t,a,l,n),!0;case"dragenter":return dl=Cn(dl,e,t,a,l,n),!0;case"mouseover":return fl=Cn(fl,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Tn.set(i,Cn(Tn.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Mn.set(i,Cn(Mn.get(i)||null,e,t,a,l,n)),!0}return!1}function em(e){var t=ia(e.target);if(t!==null){var a=x(t);if(a!==null){if(t=a.tag,t===13){if(t=y(a),t!==null){e.blockedOn=t,Fl(e.priority,function(){if(a.tag===13){var l=Ht();l=_t(l);var n=ls(a,l);n!==null&&Bt(n,a,l),fc(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);br=l,a.target.dispatchEvent(l),br=null}else return t=It(a),t!==null&&If(t),e.blockedOn=a,!1;t.shift()}return!0}function tm(e,t,a){Zi(e)&&a.delete(t)}function Hh(){xc=!1,ul!==null&&Zi(ul)&&(ul=null),dl!==null&&Zi(dl)&&(dl=null),fl!==null&&Zi(fl)&&(fl=null),Tn.forEach(tm),Mn.forEach(tm)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,xc||(xc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hh)))}var Wi=null;function am(e){Wi!==e&&(Wi=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wi===e&&(Wi=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(gc(l||a)===null)continue;break}var i=It(a);i!==null&&(e.splice(t,3),t-=3,go(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Dn(e){function t(b){return Ki(b,e)}ul!==null&&Ki(ul,e),dl!==null&&Ki(dl,e),fl!==null&&Ki(fl,e),Tn.forEach(t),Mn.forEach(t);for(var a=0;a<ml.length;a++){var l=ml[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ml.length&&(a=ml[0],a.blockedOn===null);)em(a),a.blockedOn===null&&ml.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],o=n[st]||null;if(typeof i=="function")o||am(a);else if(o){var f=null;if(i&&i.hasAttribute("formAction")){if(n=i,o=i[st]||null)f=o.formAction;else if(gc(n)!==null)continue}else f=o.action;typeof f=="function"?a[l+1]=f:(a.splice(l,3),l-=3),am(a)}}}function bc(e){this._internalRoot=e}Ii.prototype.render=bc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,l=Ht();Kf(a,l,e,t,null,null)},Ii.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kf(e.current,2,null,e,null,null),_i(),t[ba]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ml.length&&t!==0&&t<ml[a].priority;a++);ml.splice(a,0,e),a===0&&em(e)}};var lm=c.version;if(lm!=="19.1.0")throw Error(d(527,lm,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=j(t),e=e!==null?R(e):null,e=e===null?null:e.stateNode,e};var Bh={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{Ct=Ji.inject(Bh),lt=Ji}catch(e){}}return Rn.createRoot=function(e,t){if(!u(e))throw Error(d(299));var a=!1,l="",n=yd,i=pd,o=vd,f=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=$f(e,1,!1,null,null,a,l,n,i,o,f,null),e[ba]=t.current,Po(e),new bc(t)},Rn.hydrateRoot=function(e,t,a){if(!u(e))throw Error(d(299));var l=!1,n="",i=yd,o=pd,f=vd,b=null,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(M=a.formState)),t=$f(e,1,!0,t,a!=null?a:null,l,n,i,o,f,b,M),t.context=Zf(null),a=t.current,l=Ht(),l=_t(l),n=Wa(l),n.callback=null,Ia(a,n,l),a=l,t.current.lanes=a,xa(t,a),fa(t),e[ba]=t.current,Po(e),new Ii(t)},Rn.version="19.1.0",Rn}var dm;function sg(){if(dm)return pc.exports;dm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(c){console.error(c)}}return r(),pc.exports=lg(),pc.exports}var ng=sg();const ig=Fh(ng);var ct=(r=>(r.MALE="male",r.FEMALE="female",r))(ct||{}),Ie=(r=>(r.SEDENTARY="sedentary",r.LIGHT="light",r.MODERATE="moderate",r.ACTIVE="active",r.VERY_ACTIVE="very_active",r))(Ie||{}),Ge=(r=>(r.WEIGHT_LOSS_X_LBS="WEIGHT_LOSS_X_LBS",r.REACHED_TARGET_WEIGHT="REACHED_TARGET_WEIGHT",r.LOGGED_FOOD_X_DAYS_STREAK="LOGGED_FOOD_X_DAYS_STREAK",r.PROFILE_COMPLETE="PROFILE_COMPLETE",r.FIRST_WEEK_COMPLETED="FIRST_WEEK_COMPLETED",r.LOGGED_X_MEALS="LOGGED_X_MEALS_TOTAL",r))(Ge||{});const Cm="gemini-2.5-flash-preview-04-17",rg={[Ie.SEDENTARY]:1.2,[Ie.LIGHT]:1.375,[Ie.MODERATE]:1.55,[Ie.ACTIVE]:1.725,[Ie.VERY_ACTIVE]:1.9},jc={name:null,email:null,age:null,sex:null,height:{ft:null,in:null},weight:null,activityLevel:null,targetWeight:null,targetDate:null,profileCreationDate:void 0,startWeight:null},Ex=1,fm={weighInFrequencyDays:7,lastWeighInReminderDismissedDate:null,mealReminders:{breakfast:{enabled:!1,time:"08:00"},lunch:{enabled:!1,time:"12:30"},dinner:{enabled:!1,time:"18:30"}},lastReviewPromptDate:null,hasGivenFeedback:!1},og={foodLogStreak:0,lastFoodLogDate:null},mm=5,cg=[7,30,90,182,365],ug=[30,100,250,500],tr=({adClient:r,adSlot:c,adFormat:m="auto",fullWidthResponsive:d=!0,className:u="",style:x={},testMode:y=!1})=>{const w=g.useRef(null),j=g.useRef(!1);return g.useEffect(()=>{if(!y&&!j.current&&w.current)try{window.adsbygoogle||(window.adsbygoogle=[]),window.adsbygoogle.push({}),j.current=!0}catch(R){console.error("AdSense error:",R)}},[y]),y||!r||!c?s.jsxs("div",{className:`bg-slate-200 dark:bg-slate-700 border-2 border-dashed border-slate-400 dark:border-slate-500 text-slate-500 dark:text-slate-400 text-sm flex flex-col items-center justify-center h-20 sm:h-24 my-6 rounded-md shadow text-center p-2 ${u}`,children:[s.jsx("i",{className:"fas fa-ad text-2xl text-slate-400 dark:text-slate-500 mb-1"}),s.jsx("p",{className:"font-semibold",children:"Advertisement"}),s.jsx("p",{className:"text-xs",children:y?"Test Mode":"Configure AdSense"})]}):s.jsx("div",{className:`dietwise-ad-container ${u}`,style:x,children:s.jsx("ins",{ref:w,className:"adsbygoogle",style:{display:"block",...x},"data-ad-client":r,"data-ad-slot":c,"data-ad-format":m,"data-full-width-responsive":d})})};var Ln={};const Wt={CLIENT_ID:Ln.REACT_APP_ADSENSE_CLIENT_ID||"ca-pub-XXXXXXXXXXXXXXXX",AD_SLOTS:{FOOD_LOG_BANNER:Ln.REACT_APP_AD_SLOT_FOOD_LOG||"XXXXXXXXXX",FOOD_LIBRARY_BANNER:Ln.REACT_APP_AD_SLOT_FOOD_LIBRARY||"XXXXXXXXXX",MEAL_IDEAS_RECTANGLE:Ln.REACT_APP_AD_SLOT_MEAL_IDEAS||"XXXXXXXXXX",ANALYTICS_BANNER:Ln.REACT_APP_AD_SLOT_ANALYTICS||"XXXXXXXXXX"},TEST_MODE:!1},ar={FOOD_LOG:{format:"auto",fullWidthResponsive:!0,className:"mt-6"},FOOD_LIBRARY:{format:"horizontal",fullWidthResponsive:!0,className:"mt-6"},MEAL_IDEAS:{format:"rectangle",fullWidthResponsive:!1,className:"mt-6 mx-auto max-w-sm"},ANALYTICS:{format:"horizontal",fullWidthResponsive:!0,className:"mt-6"}},dg=(r=!1)=>!r,rr=.453592,fg=2.54,mg=.0254,Dm=r=>{if(!r)return null;const c=r.ft===null||isNaN(Number(r.ft))?0:Number(r.ft),m=r.in===null||isNaN(Number(r.in))?0:Number(r.in);return c===0&&m===0?null:c*12+m},hg=(r,c)=>{const m=Dm(r);if(!m||!c||m<=0||c<=0)return null;const d=m*mg,u=c*rr;return parseFloat((u/(d*d)).toFixed(1))},gg=(r,c,m,d)=>{const u=Dm(m);if(!r||!c||!u||!d||r<=0||u<=0||d<=0)return null;const x=u*fg,y=d*rr;return c===ct.MALE?Math.round(10*y+6.25*x-5*r+5):Math.round(10*y+6.25*x-5*r-161)},xg=(r,c)=>!r||!c?null:Math.round(r*rg[c]),bg=(r,c,m)=>{if(!r||c===null||m===null)return null;const d=c*rr,x=m*rr-d;let y=0;return x<-.2?y=-500:x>.1&&(y=300),Math.round(r+y)},yg=r=>{if(!r||r<=0)return{protein:50,carbs:130,fat:35,fiber:25};const c=r*.3,m=r*.4,d=r*.3,u=Math.round(c/4),x=Math.round(m/4),y=Math.round(d/9),w=Math.round(r/1e3*14);return{protein:u,carbs:x,fat:y,fiber:w}},pg=r=>{const c=hg(r.height,r.weight),m=gg(r.age,r.sex,r.height,r.weight),d=xg(m,r.activityLevel),u=bg(d,r.weight,r.targetWeight);return{bmi:c,bmr:m,tdee:d,targetCalories:u}},pe=(r,c)=>{},_m=(r,c)=>{switch(r){case"age":if(!c)return null;const m=Number(c);if(isNaN(m)||m<1||m>120)return{field:"age",message:"Age must be between 1 and 120 years"};break;case"weight":if(!c)return null;const d=Number(c);if(isNaN(d)||d<10||d>1e3)return{field:"weight",message:"Weight must be between 10 and 1000 lbs"};break;case"height_ft":if(!c)return null;const u=Number(c);if(isNaN(u)||u<1||u>8)return{field:"height_ft",message:"Height must be between 1 and 8 feet"};break;case"height_in":if(!c)return null;const x=Number(c);if(isNaN(x)||x<0||x>11)return{field:"height_in",message:"Inches must be between 0 and 11"};break;case"targetWeight":if(!c)return null;const y=Number(c);if(isNaN(y)||y<10||y>1e3)return{field:"targetWeight",message:"Target weight must be between 10 and 1000 lbs"};break;case"email":if(!c)return null;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c))return{field:"email",message:"Please enter a valid email address"};break;case"name":if(!c)return null;if(c.length>100)return{field:"name",message:"Name must be less than 100 characters"};break}return null},vg=({profile:r,onProfileChange:c})=>{var j,R,h,k;const[m,d]=g.useState({}),u=E=>{var B,N,Q,V;const{name:H,value:O}=E.target,z=H;let q;z==="age"||z==="weight"||z==="targetWeight"?q=O?parseFloat(O):null:z==="sex"||z==="activityLevel"?q=O:z==="height_ft"||z==="height_in"||(q=O||null);const F={};z==="height_ft"?F.height={...r.height||{ft:null,in:null},ft:O?parseInt(O,10):null,in:(N=(B=r.height)==null?void 0:B.in)!=null?N:null}:z==="height_in"?F.height={...r.height||{ft:null,in:null},ft:(V=(Q=r.height)==null?void 0:Q.ft)!=null?V:null,in:O?parseInt(O,10):null}:F[z]=q,z==="weight"&&O&&!r.startWeight&&!r.profileCreationDate&&(F.startWeight=parseFloat(O));const T=_m(z,O);d(se=>{const Z={...se};return T?Z[T.field]=T.message:delete Z[z],Z}),c({...r,...F})},x="mt-1 block w-full px-4 py-3 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-base placeholder-slate-400 bg-bg-card text-text-default dark:placeholder-slate-500",y=x,w=E=>`custom-radio-label block w-full text-center px-4 py-3 border rounded-lg cursor-pointer transition-all text-base font-medium ${E?"border-teal-500 bg-teal-50 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300 shadow-md":"border-slate-300 hover:border-teal-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`;return s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-user-edit mr-2.5 text-teal-600"}),"Your Personal Details"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-base font-medium text-text-alt",children:"Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:r.name||"",onChange:u,className:`${x} ${m.name?"border-red-500":""}`,placeholder:"e.g., Alex Doe",maxLength:100}),m.name&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.name]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-text-alt",children:"Email (Optional)"}),s.jsx("input",{type:"email",name:"email",id:"email",value:r.email||"",onChange:u,className:`${x} ${m.email?"border-red-500":""}`,placeholder:"e.g., alex.doe@example.com",maxLength:100}),m.email&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.email]}),s.jsx("p",{className:"mt-1.5 text-xs text-slate-500 dark:text-slate-400",children:"Used for future updates or account recovery. We respect your privacy."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"age",className:"block text-base font-medium text-text-alt",children:"Age (years)"}),s.jsx("input",{type:"number",name:"age",id:"age",value:r.age||"",onChange:u,className:`${x} ${m.age?"border-red-500":""}`,placeholder:"e.g., 30",min:"1",max:"120"}),m.age&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.age]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-base font-medium text-text-alt mb-1",children:"Sex"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"radio",name:"sex",id:"male",value:ct.MALE,checked:r.sex===ct.MALE,onChange:u,className:"sr-only custom-radio-input"}),s.jsxs("label",{htmlFor:"male",className:w(r.sex===ct.MALE),children:[s.jsx("i",{className:"fas fa-mars mr-2"}),"Male"]})]}),s.jsxs("div",{children:[s.jsx("input",{type:"radio",name:"sex",id:"female",value:ct.FEMALE,checked:r.sex===ct.FEMALE,onChange:u,className:"sr-only custom-radio-input"}),s.jsxs("label",{htmlFor:"female",className:w(r.sex===ct.FEMALE),children:[s.jsx("i",{className:"fas fa-venus mr-2"}),"Female"]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-text-alt mb-1",children:"Current Weight (lbs)"}),s.jsx("input",{type:"number",name:"weight",id:"weight",value:r.weight||"",onChange:u,className:`${x} ${m.weight?"border-red-500":""}`,placeholder:"e.g., 150",min:"10",max:"1000",step:"0.1"}),m.weight&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.weight]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Height"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"height_ft",id:"height_ft",value:(R=(j=r.height)==null?void 0:j.ft)!=null?R:"",onChange:u,className:`${x} ${m.height_ft?"border-red-500":""}`,placeholder:"Feet",min:"1",max:"8"}),m.height_ft&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.height_ft]})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"height_in",id:"height_in",value:(k=(h=r.height)==null?void 0:h.in)!=null?k:"",onChange:u,className:`${x} ${m.height_in?"border-red-500":""}`,placeholder:"Inches",min:"0",max:"11",step:"0.1"}),m.height_in&&s.jsxs("p",{className:"mt-1 text-sm text-red-500",role:"alert",children:[s.jsx("i",{className:"fas fa-exclamation-circle mr-1"}),m.height_in]})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-6",children:s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"activityLevel",className:"block text-sm font-medium text-text-alt",children:"Activity Level"}),s.jsxs("select",{name:"activityLevel",id:"activityLevel",value:r.activityLevel||"",onChange:u,className:y,children:[s.jsx("option",{value:"",disabled:!0,children:"Select Activity Level"}),s.jsx("option",{value:Ie.SEDENTARY,children:"Sedentary (little or no exercise)"}),s.jsx("option",{value:Ie.LIGHT,children:"Light (exercise 1-3 days/week)"}),s.jsx("option",{value:Ie.MODERATE,children:"Moderate (exercise 3-5 days/week)"}),s.jsx("option",{value:Ie.ACTIVE,children:"Active (exercise 6-7 days/week)"}),s.jsx("option",{value:Ie.VERY_ACTIVE,children:"Very Active (hard exercise & physical job)"})]})]})})]})]})},or=({size:r="medium",className:c=""})=>{const m={small:"w-16 h-16",medium:"w-24 h-24",large:"w-32 h-32"};return s.jsx("div",{className:`${m[r]} ${c} relative flex items-center justify-center`,children:s.jsx("img",{src:"/logo.svg",alt:"DietWise Logo",className:"w-full h-full object-contain"})})},Ng=({profile:r,metrics:c,onEditProfile:m})=>{const d=()=>r.name?r.name.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2):"U",u=w=>w?w<18.5?{status:"Underweight",color:"text-blue-600",bgColor:"bg-blue-50"}:w<25?{status:"Normal",color:"text-green-600",bgColor:"bg-green-50"}:w<30?{status:"Overweight",color:"text-yellow-600",bgColor:"bg-yellow-50"}:{status:"Obese",color:"text-red-600",bgColor:"bg-red-50"}:{status:"Unknown",color:"text-gray-500",bgColor:"bg-gray-100"},x=()=>{var w,j;return!((w=r.height)!=null&&w.ft)||!((j=r.height)!=null&&j.in)?"Not set":`${r.height.ft}'${r.height.in}"`},y=u(c.bmi);return s.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-slate-800 dark:to-slate-700 p-6 sm:p-8 rounded-2xl shadow-xl border border-teal-100 dark:border-slate-600",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(or,{size:"medium",className:"flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-text-default",children:r.name||"Your Profile"}),s.jsx("p",{className:"text-text-alt text-sm",children:"Your health journey starts here"})]})]}),s.jsxs("button",{onClick:m,className:"bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600 text-teal-600 dark:text-teal-400 font-medium py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border border-teal-200 dark:border-slate-500",children:[s.jsx("i",{className:"fas fa-edit mr-2"}),"Edit Profile"]})]}),s.jsxs("div",{className:"flex items-center space-x-6 mb-6",children:[s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-500 to-cyan-500 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-2xl sm:text-3xl font-bold text-white",children:d()})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-alt",children:"Age"}),s.jsx("p",{className:"text-lg font-semibold text-text-default",children:r.age||"Not set"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-text-alt",children:"Gender"}),s.jsx("p",{className:"text-lg font-semibold text-text-default",children:r.sex?r.sex.charAt(0).toUpperCase()+r.sex.slice(1):"Not set"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-slate-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fas fa-ruler-vertical text-2xl text-blue-500 mb-2"}),s.jsx("p",{className:"text-sm text-text-alt",children:"Height"}),s.jsx("p",{className:"text-xl font-bold text-text-default",children:x()})]})}),s.jsx("div",{className:"bg-white dark:bg-slate-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fas fa-fire text-2xl text-orange-500 mb-2"}),s.jsx("p",{className:"text-sm text-text-alt",children:"Daily Calories"}),s.jsx("p",{className:"text-xl font-bold text-text-default",children:c.targetCalories?c.targetCalories.toLocaleString():"--"})]})}),s.jsx("div",{className:"bg-white dark:bg-slate-700 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-slate-600",children:s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fas fa-running text-2xl text-green-500 mb-2"}),s.jsx("p",{className:"text-sm text-text-alt",children:"Activity Level"}),s.jsx("p",{className:"text-sm font-bold text-text-default",children:r.activityLevel?r.activityLevel.charAt(0).toUpperCase()+r.activityLevel.slice(1).replace("_"," "):"Not set"})]})})]}),c.bmi&&s.jsx("div",{className:`${y.bgColor} ${y.color} p-3 rounded-lg text-center mb-6`,children:s.jsxs("p",{className:"font-medium",children:["BMI Status: ",y.status]})}),r.weight&&s.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 p-4 rounded-xl border border-teal-200 dark:border-teal-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300",children:"Current Weight"}),s.jsxs("p",{className:"text-2xl font-bold text-teal-800 dark:text-teal-200",children:[r.weight," lbs"]}),c.bmi&&s.jsxs("p",{className:"text-xs text-teal-600 dark:text-teal-400",children:["BMI: ",c.bmi.toFixed(1)]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("i",{className:"fas fa-weight text-3xl text-teal-500 mb-2"}),s.jsx("p",{className:"text-xs text-teal-600 dark:text-teal-400",children:"Visit Weigh In tab"}),s.jsx("p",{className:"text-xs text-teal-600 dark:text-teal-400",children:"for detailed tracking"})]})]})})]})},ql=({isOpen:r,onClose:c,title:m,children:d,size:u="md"})=>{const x=g.useRef(null),y=g.useRef(null);if(g.useEffect(()=>{var j;if(r){y.current=document.activeElement;const R=(j=x.current)==null?void 0:j.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');R&&R.length>0&&R[0].focus();const h=k=>{if(k.key==="Tab"){if(!x.current)return;const E=Array.from(x.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(z=>z.offsetParent!==null);if(E.length===0)return;const H=E[0],O=E[E.length-1];k.shiftKey?document.activeElement===H&&(O.focus(),k.preventDefault()):document.activeElement===O&&(H.focus(),k.preventDefault())}else k.key==="Escape"&&c()};return document.addEventListener("keydown",h),()=>{var k;document.removeEventListener("keydown",h),(k=y.current)==null||k.focus()}}},[r,c]),!r)return null;const w={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-full m-4 h-[calc(100vh-2rem)]"};return s.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-70 backdrop-blur-sm flex justify-center items-center z-50 p-4 transition-opacity duration-300 ease-in-out",onClick:c,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[s.jsxs("div",{ref:x,className:`bg-bg-card rounded-xl shadow-2xl p-0 w-full ${w[u]} flex flex-col max-h-[90vh] transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-modal-appear`,onClick:j=>j.stopPropagation(),tabIndex:-1,children:[m&&s.jsxs("div",{className:"flex justify-between items-center p-5 sm:p-6 border-b border-border-default bg-bg-card rounded-t-xl",children:[s.jsxs("h2",{id:"modal-title",className:"text-xl font-semibold text-text-default flex items-center",children:[s.jsx("i",{className:"fas fa-leaf mr-2.5 text-teal-600 dark:text-teal-500 text-xl opacity-90"}),m]}),s.jsx("button",{onClick:c,className:"text-slate-400 dark:text-slate-500 hover:text-red-600 dark:hover:text-red-400 text-2xl p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 dark:focus:ring-slate-500","aria-label":"Close modal",children:s.jsx("i",{className:"fas fa-times"})})]}),s.jsx("div",{className:"overflow-y-auto flex-grow p-5 sm:p-6 custom-scrollbar",children:d})]}),s.jsx("style",{children:`
        @keyframes modal-appear {
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        .animate-modal-appear {
          animation: modal-appear 0.3s forwards;
        }
      `})]})},jg=({isOpen:r,onClose:c,profile:m,onSave:d})=>{var H,O,z,q;const[u,x]=g.useState(m),[y,w]=g.useState({}),j=F=>{var Z,re,ee,de;const{name:T,value:B}=F.target,N=T;let Q;N==="age"||N==="weight"||N==="targetWeight"?Q=B?parseFloat(B):null:N==="sex"||N==="activityLevel"?Q=B:N==="height_ft"||N==="height_in"||(Q=B||null);const V={};N==="height_ft"?V.height={...u.height||{ft:null,in:null},ft:B?parseInt(B,10):null,in:(re=(Z=u.height)==null?void 0:Z.in)!=null?re:null}:N==="height_in"?V.height={...u.height||{ft:null,in:null},ft:(de=(ee=u.height)==null?void 0:ee.ft)!=null?de:null,in:B?parseInt(B,10):null}:V[N]=Q;const se=_m(N,B);w(me=>{const W={...me};return se?W[se.field]=se.message:delete W[N],W}),x(me=>({...me,...V}))},R=()=>{var B,N;const F=["name","age","sex","weight"];let T=!1;F.forEach(Q=>{u[Q]||(w(V=>({...V,[Q]:"This field is required"})),T=!0)}),(!((B=u.height)!=null&&B.ft)||!((N=u.height)!=null&&N.in))&&(w(Q=>({...Q,height:"Height is required"})),T=!0),!(T||Object.keys(y).length>0)&&(u.weight&&!u.startWeight&&!u.profileCreationDate&&(u.startWeight=u.weight),d(u),c())},h="w-full px-4 py-3 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-base bg-bg-card text-text-default",k=h,E=F=>`block w-full text-center px-4 py-3 border rounded-lg cursor-pointer transition-all text-base font-medium ${F?"border-teal-500 bg-teal-50 text-teal-700 dark:bg-teal-900/20 dark:text-teal-300 shadow-md":"border-slate-300 hover:border-teal-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`;return s.jsx(ql,{isOpen:r,onClose:c,title:"Edit Profile",size:"lg",children:s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-default border-b border-border-default pb-2",children:"Basic Information"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-alt mb-1",children:"Name *"}),s.jsx("input",{type:"text",name:"name",id:"name",value:u.name||"",onChange:j,className:`${h} ${y.name?"border-red-500":""}`,placeholder:"Your name",required:!0}),y.name&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-text-alt mb-1",children:"Age *"}),s.jsx("input",{type:"number",name:"age",id:"age",value:u.age||"",onChange:j,className:`${h} ${y.age?"border-red-500":""}`,placeholder:"25",min:"1",max:"120",required:!0}),y.age&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.age})]}),s.jsxs("div",{children:[s.jsx("span",{className:"block text-sm font-medium text-text-alt mb-1",children:"Gender *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"radio",name:"sex",id:"male",value:ct.MALE,checked:u.sex===ct.MALE,onChange:j,className:"sr-only custom-radio-input"}),s.jsxs("label",{htmlFor:"male",className:E(u.sex===ct.MALE),children:[s.jsx("i",{className:"fas fa-mars mr-2"}),"Male"]})]}),s.jsxs("div",{children:[s.jsx("input",{type:"radio",name:"sex",id:"female",value:ct.FEMALE,checked:u.sex===ct.FEMALE,onChange:j,className:"sr-only custom-radio-input"}),s.jsxs("label",{htmlFor:"female",className:E(u.sex===ct.FEMALE),children:[s.jsx("i",{className:"fas fa-venus mr-2"}),"Female"]})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-default border-b border-border-default pb-2",children:"Physical Stats"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-text-alt mb-1",children:"Current Weight (lbs) *"}),s.jsx("input",{type:"number",name:"weight",id:"weight",value:u.weight||"",onChange:j,className:`${h} ${y.weight?"border-red-500":""}`,placeholder:"150",min:"10",max:"1000",step:"0.1",required:!0}),y.weight&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.weight})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Height *"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("input",{type:"number",name:"height_ft",placeholder:"Feet",value:(O=(H=u.height)==null?void 0:H.ft)!=null?O:"",onChange:j,className:h,min:"1",max:"8"}),s.jsx("input",{type:"number",name:"height_in",placeholder:"Inches",value:(q=(z=u.height)==null?void 0:z.in)!=null?q:"",onChange:j,className:h,min:"0",max:"11",step:"0.1"})]}),y.height&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.height})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"activityLevel",className:"block text-sm font-medium text-text-alt mb-1",children:"Activity Level"}),s.jsxs("select",{name:"activityLevel",id:"activityLevel",value:u.activityLevel||"",onChange:j,className:k,children:[s.jsx("option",{value:"",children:"Select Activity Level"}),s.jsx("option",{value:Ie.SEDENTARY,children:"Sedentary (little or no exercise)"}),s.jsx("option",{value:Ie.LIGHT,children:"Light (exercise 1-3 days/week)"}),s.jsx("option",{value:Ie.MODERATE,children:"Moderate (exercise 3-5 days/week)"}),s.jsx("option",{value:Ie.ACTIVE,children:"Active (exercise 6-7 days/week)"}),s.jsx("option",{value:Ie.VERY_ACTIVE,children:"Very Active (hard exercise & physical job)"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-default border-b border-border-default pb-2",children:"Goal Setting"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetWeight",className:"block text-sm font-medium text-text-alt mb-1",children:"Target Weight (lbs)"}),s.jsx("input",{type:"number",name:"targetWeight",id:"targetWeight",value:u.targetWeight||"",onChange:j,className:h,placeholder:"140",min:"10",max:"1000",step:"0.1"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"targetDate",className:"block text-sm font-medium text-text-alt mb-1",children:"Target Date"}),s.jsx("input",{type:"date",name:"targetDate",id:"targetDate",value:u.targetDate||"",onChange:j,className:h})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-border-default",children:[s.jsx("button",{onClick:c,className:"px-6 py-2 border border-gray-300 dark:border-slate-600 text-text-alt rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:R,className:"px-6 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all",children:[s.jsx("i",{className:"fas fa-save mr-2"}),"Save Changes"]})]})]})})};var Sc=(r=>(r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r))(Sc||{});class wg{constructor(){Ts(this,"logs",[]);Ts(this,"maxLogEntries",1e3);Ts(this,"currentLogLevel",1);Ts(this,"sessionId");Ts(this,"isProduction");this.sessionId=crypto.randomUUID(),this.isProduction=!0,this.isProduction?this.currentLogLevel=2:this.currentLogLevel=0,window.addEventListener("error",c=>{var m;this.error("Unhandled error","global",{message:c.message,filename:c.filename,lineno:c.lineno,colno:c.colno,stack:(m=c.error)==null?void 0:m.stack})}),window.addEventListener("unhandledrejection",c=>{var m;this.error("Unhandled promise rejection","global",{reason:c.reason,stack:(m=c.reason)==null?void 0:m.stack})})}shouldLog(c){return c>=this.currentLogLevel}createLogEntry(c,m,d,u){return{timestamp:new Date().toISOString(),level:c,message:m,context:d,data:u,userId:this.getUserId(),sessionId:this.sessionId}}getUserId(){try{const c=localStorage.getItem("user");return c?JSON.parse(c).id:void 0}catch(c){return}}addLogEntry(c){this.logs.push(c),this.logs.length>this.maxLogEntries&&(this.logs=this.logs.slice(-this.maxLogEntries)),this.isProduction||(Sc[c.level],c.context&&`${c.context}`,c.data&&JSON.stringify(c.data,null,2),c.level)}debug(c,m,d){this.shouldLog(0)&&this.addLogEntry(this.createLogEntry(0,c,m,d))}info(c,m,d){this.shouldLog(1)&&this.addLogEntry(this.createLogEntry(1,c,m,d))}warn(c,m,d){this.shouldLog(2)&&this.addLogEntry(this.createLogEntry(2,c,m,d))}error(c,m,d){if(!this.shouldLog(3))return;const u=this.createLogEntry(3,c,m,d);this.addLogEntry(u)}time(c,m){this.debug(`Timer started: ${c}`,m,{timerLabel:c,action:"start"})}timeEnd(c,m){this.debug(`Timer ended: ${c}`,m,{timerLabel:c,action:"end"})}logApiCall(c,m,d,u,x){const y=d>=400?3:d>=300?2:1;this.addLogEntry(this.createLogEntry(y,`API ${c} ${m} - ${d}`,x,{method:c,url:m,status:d,duration:u}))}logUserAction(c,m,d){this.info(`User action: ${c}`,d,m)}getLogs(c,m){let d=this.logs;return c!==void 0&&(d=this.logs.filter(u=>u.level>=c)),m&&(d=d.slice(-m)),d}exportLogs(){const c={sessionId:this.sessionId,exportedAt:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href,logs:this.getLogs()};return JSON.stringify(c,null,2)}clearLogs(){this.logs=[],this.info("Logs cleared","logging")}setLogLevel(c){this.currentLogLevel=c,this.info(`Log level changed to ${Sc[c]}`,"logging")}}const gl=new wg,Gl={debug:(r,c,m)=>gl.debug(r,c,m),info:(r,c,m)=>gl.info(r,c,m),warn:(r,c,m)=>gl.warn(r,c,m),error:(r,c,m)=>gl.error(r,c,m),time:(r,c)=>gl.time(r,c),timeEnd:(r,c)=>gl.timeEnd(r,c),apiCall:(r,c,m,d,u)=>gl.logApiCall(r,c,m,d,u),userAction:(r,c,m)=>gl.logUserAction(r,c,m)};var Sg={};const Un="AIzaSyCik_tWF0_-8SHEnoTJ9dWoxMe1bV93Irk",La="API Key not configured. Using mock data for testing purposes.",Om="MISSING_API_KEY_RUNTIME_CONSTRUCTOR_DietWise",cr=Un.length<10||Un===Om;cr&&Gl.info("Using mock Gemini service for testing. To enable real AI features, set the VITE_GEMINI_API_KEY environment variable.","gemini-service",{useMock:!0});const Rm=new $h({apiKey:Un}),Lm=()=>Un.length<10||Un===Om,Eg=async(r,c)=>{var m,d;if(cr){const u={500:`**Breakfast Ideas (~500 calories):**

 **Classic Oatmeal Bowl**
  - 1 cup cooked oatmeal (150 cal)
  - 1 medium banana, sliced (105 cal)
  - 2 tbsp almond butter (190 cal)
  - 1 tsp honey (20 cal)
  - Dash of cinnamon

 **Veggie Scramble**
  - 2 large eggs (140 cal)
  - 1 cup mixed vegetables (30 cal)
  - 1 slice whole wheat toast (80 cal)
  - 1/2 avocado (120 cal)
  - 1 tbsp olive oil for cooking (120 cal)`,700:`**Lunch Ideas (~700 calories):**

 **Grilled Chicken Salad**
  - 4 oz grilled chicken breast (185 cal)
  - 2 cups mixed greens (20 cal)
  - 1/4 cup feta cheese (90 cal)
  - 1/4 cup walnuts (165 cal)
  - 2 tbsp olive oil dressing (240 cal)

 **Turkey and Avocado Wrap**
  - Large whole wheat tortilla (120 cal)
  - 4 oz sliced turkey (120 cal)
  - 1/2 avocado (120 cal)
  - Lettuce, tomato, onion (20 cal)
  - 2 tbsp hummus (70 cal)`,900:`**Dinner Ideas (~900 calories):**

 **Salmon with Quinoa**
  - 6 oz grilled salmon (350 cal)
  - 1 cup cooked quinoa (220 cal)
  - 2 cups roasted vegetables (60 cal)
  - 2 tbsp olive oil (240 cal)
  - Side salad with dressing (30 cal)

 **Pasta Primavera**
  - 2 cups cooked whole wheat pasta (340 cal)
  - 1 cup mixed vegetables (30 cal)
  - 1/2 cup marinara sauce (50 cal)
  - 2 tbsp olive oil (240 cal)`},y=Object.keys(u).map(Number).reduce((R,h)=>Math.abs(h-r)<Math.abs(R-r)?h:R),w=u[y],j=c?`Based on your preference for "${c}":

${w}`:w;return await new Promise(R=>setTimeout(R,1e3)),{ideas:j}}Gl.time("getMealIdeas","gemini-service"),Gl.info("Requesting meal ideas via backend API","gemini-service",{calorieTarget:r,hasPreferences:!!c});try{const u=Sg.VITE_API_BASE_URL||"http://localhost:3001",x={calorieTarget:r,mealType:"dinner",preferences:c?[c]:[]},y=await fetch(`${u}/api/v1/ai/meal-ideas`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")||""}`},body:JSON.stringify(x)});if(!y.ok){const j=await y.json().catch(()=>({}));throw new Error(j.message||`HTTP ${y.status}: ${y.statusText}`)}const w=await y.json();return Gl.timeEnd("getMealIdeas","gemini-service"),Gl.info("Meal ideas request successful","gemini-service",{responseLength:((m=w.data)==null?void 0:m.length)||0,calorieTarget:r}),{ideas:(d=w.data)!=null?d:null,error:void 0}}catch(u){return Gl.timeEnd("getMealIdeas","gemini-service"),Gl.error("Error fetching meal ideas from backend","gemini-service",{error:u.message,calorieTarget:r,hasPreferences:!!c}),{ideas:null,error:u.message||"Sorry, we couldn't fetch meal ideas at this time. Please try again later."}}},kg=async r=>{var c,m;if(cr){const d={"123456789012":{name:"Organic Greek Yogurt",brand:"Nature's Best",servingSize:"1 container (170g)",calories:150,protein:15,carbs:12,fat:5},"234567890123":{name:"Whole Grain Bread",brand:"Healthy Choice",servingSize:"1 slice (40g)",calories:80,protein:4,carbs:15,fat:1},"345678901234":{name:"Almond Butter",brand:"NutriSpread",servingSize:"2 tbsp (32g)",calories:190,protein:7,carbs:8,fat:16},"456789012345":{name:"Brown Rice",brand:"Harvest Gold",servingSize:"1/4 cup dry (45g)",calories:160,protein:3,carbs:34,fat:1},"567890123456":{name:"Chicken Breast",brand:"Fresh Farms",servingSize:"4 oz (112g)",calories:185,protein:35,carbs:0,fat:4}};await new Promise(x=>setTimeout(x,800));const u=d[r];return u?{foodInfo:u}:{foodInfo:{name:"Generic Product",brand:"Unknown Brand",servingSize:"1 serving",calories:100,protein:3,carbs:15,fat:4}}}if(Lm())return{foodInfo:null,error:La};try{const d=`Search the web for nutritional information for a product with UPC ${r}. 
Provide its name, brand (if available), serving size (e.g., '100g' or '1 item'), calories per serving, protein (g) per serving, carbohydrates (g) per serving, and fat (g) per serving.
Present this information clearly.
If you cannot find specific nutritional details, state what you found and what is missing.
If the product itself cannot be identified from the UPC, respond with ONLY the text 'Product not found for this UPC'.
Otherwise, try to format your findings as a JSON-like structure within your text response, for example:
{
  "name": "Product Name",
  "brand": "Brand Name",
  "servingSize": "100g",
  "calories": 200,
  "protein": 10,
  "carbs": 30,
  "fat": 5
}
If some nutritional values are missing, omit them from the JSON structure or set them to null. Also include any textual description you found.`,u=await Rm.models.generateContent({model:Cm,contents:d,config:{tools:[{googleSearch:{}}]}}),x=u.text,y=(m=(c=u.candidates)==null?void 0:c[0])==null?void 0:m.groundingMetadata,w=(y==null?void 0:y.groundingChunks)||[];if(!x)return{foodInfo:null,error:"No response from AI service.",sources:w};if(x.includes("Product not found for this UPC"))return{foodInfo:null,error:"Product information not found for this UPC.",sources:w};const j=/{\s*[\s\S]*?\s*}/m,R=x.match(j);if(R&&R[0])try{let h=R[0];h=h.replace(/,\s*([}\]])/g,"$1");const k=JSON.parse(h);if(k.name&&(k.calories!==void 0||k.protein!==void 0||k.carbs!==void 0||k.fat!==void 0))return{foodInfo:k,sources:w}}catch(h){return{foodInfo:{name:"Product (parsing issue)",calories:void 0},error:`Could not fully parse nutritional data. Details: ${x.substring(0,150)}...`,sources:w}}return{foodInfo:{name:"Product (data extraction issue)",calories:void 0},error:`Could not extract structured data. Details: ${x.substring(0,150)}...`,sources:w}}catch(d){return{foodInfo:null,error:d.message||"Could not fetch food information for this UPC. Please try again."}}},kx=async(r,c)=>{var d,u,x,y,w;if(cr){await new Promise(R=>setTimeout(R,1500));const j={dailyPlans:[{day:1,meals:{breakfast:{name:"Oatmeal with Berries",description:"Steel-cut oats with mixed berries and honey",calories:Math.round(r*.25)},lunch:{name:"Grilled Chicken Salad",description:"Mixed greens with grilled chicken and vinaigrette",calories:Math.round(r*.35)},dinner:{name:"Baked Salmon",description:"With roasted vegetables and quinoa",calories:Math.round(r*.3)},snacks:[{name:"Apple with Almond Butter",description:"1 medium apple with 2 tbsp almond butter",calories:Math.round(r*.1)}]},dailyCalories:r},{day:2,meals:{breakfast:{name:"Greek Yogurt Parfait",description:"With granola and fresh fruit",calories:Math.round(r*.25)},lunch:{name:"Turkey Wrap",description:"Whole wheat wrap with turkey and veggies",calories:Math.round(r*.35)},dinner:{name:"Vegetable Stir-Fry",description:"With tofu and brown rice",calories:Math.round(r*.3)},snacks:[{name:"Carrot Sticks with Hummus",description:"Baby carrots with 2 tbsp hummus",calories:Math.round(r*.1)}]},dailyCalories:r},{day:3,meals:{breakfast:{name:"Scrambled Eggs with Toast",description:"2 eggs with whole wheat toast",calories:Math.round(r*.25)},lunch:{name:"Quinoa Bowl",description:"With roasted vegetables and tahini dressing",calories:Math.round(r*.35)},dinner:{name:"Grilled Chicken Breast",description:"With sweet potato and green beans",calories:Math.round(r*.3)},snacks:[{name:"Mixed Nuts",description:"1/4 cup unsalted mixed nuts",calories:Math.round(r*.1)}]},dailyCalories:r},{day:4,meals:{breakfast:{name:"Smoothie Bowl",description:"Protein smoothie with toppings",calories:Math.round(r*.25)},lunch:{name:"Tuna Salad",description:"On mixed greens with olive oil dressing",calories:Math.round(r*.35)},dinner:{name:"Beef Stir-Fry",description:"Lean beef with vegetables and rice",calories:Math.round(r*.3)},snacks:[{name:"Protein Bar",description:"Low sugar protein bar",calories:Math.round(r*.1)}]},dailyCalories:r},{day:5,meals:{breakfast:{name:"Avocado Toast",description:"With poached egg on whole grain bread",calories:Math.round(r*.25)},lunch:{name:"Lentil Soup",description:"With side salad",calories:Math.round(r*.35)},dinner:{name:"Baked Cod",description:"With roasted potatoes and asparagus",calories:Math.round(r*.3)},snacks:[{name:"Greek Yogurt",description:"Plain with berries",calories:Math.round(r*.1)}]},dailyCalories:r},{day:6,meals:{breakfast:{name:"Protein Pancakes",description:"With fresh fruit and maple syrup",calories:Math.round(r*.25)},lunch:{name:"Chicken Caesar Salad",description:"With light dressing",calories:Math.round(r*.35)},dinner:{name:"Turkey Meatballs",description:"With marinara sauce and zucchini noodles",calories:Math.round(r*.3)},snacks:[{name:"Rice Cakes",description:"With almond butter",calories:Math.round(r*.1)}]},dailyCalories:r},{day:7,meals:{breakfast:{name:"Breakfast Burrito",description:"Eggs, beans, and veggies in whole wheat tortilla",calories:Math.round(r*.25)},lunch:{name:"Mediterranean Bowl",description:"Falafel, hummus, and vegetables",calories:Math.round(r*.35)},dinner:{name:"Grilled Steak",description:"With baked sweet potato and salad",calories:Math.round(r*.3)},snacks:[{name:"Trail Mix",description:"Nuts and dried fruit",calories:Math.round(r*.1)}]},dailyCalories:r}],shoppingList:[{category:"Produce",items:[{name:"Mixed Berries",quantity:"2 lbs",brandSuggestion:"Fresh or frozen",notes:"For breakfast parfaits and oatmeal"},{name:"Bananas",quantity:"1 bunch",brandSuggestion:"Organic preferred",notes:"For smoothies and snacks"},{name:"Mixed Salad Greens",quantity:"2 bags",brandSuggestion:"Spring mix or baby spinach",notes:"For salads"},{name:"Carrots",quantity:"2 lbs",brandSuggestion:"Baby carrots for snacking",notes:""},{name:"Sweet Potatoes",quantity:"4 medium",brandSuggestion:"Any variety",notes:"For dinners"}]},{category:"Protein",items:[{name:"Chicken Breast",quantity:"2 lbs",brandSuggestion:"Organic free-range",notes:"For grilling"},{name:"Salmon Fillets",quantity:"1.5 lbs",brandSuggestion:"Wild-caught preferred",notes:"For baking"},{name:"Ground Turkey",quantity:"1 lb",brandSuggestion:"Lean 93/7",notes:"For meatballs"},{name:"Eggs",quantity:"1 dozen",brandSuggestion:"Free-range",notes:"For breakfast"},{name:"Greek Yogurt",quantity:"32 oz",brandSuggestion:"Plain, non-fat",notes:""}]},{category:"Pantry Staples",items:[{name:"Oatmeal",quantity:"1 container",brandSuggestion:"Steel-cut or rolled oats",notes:""},{name:"Quinoa",quantity:"1 lb",brandSuggestion:"Any brand",notes:""},{name:"Brown Rice",quantity:"2 lbs",brandSuggestion:"Long grain",notes:""},{name:"Almond Butter",quantity:"1 jar",brandSuggestion:"Natural, no sugar added",notes:""},{name:"Olive Oil",quantity:"1 bottle",brandSuggestion:"Extra virgin",notes:"For cooking and dressings"}]}]};return c&&(j.dailyPlans[0].meals.breakfast.description+=` (adjusted for ${c})`),{planData:j}}if(Lm())return{planData:null,error:La};const m=`
Create a detailed 7-day meal plan targeting approximately ${r} calories per day.
${c?`Incorporate these dietary preferences: ${c}.`:""}
For each day, provide meals for breakfast, lunch, dinner, and 1-2 healthy snacks. 
Include a name and a brief description for each meal item. Estimate calories for each meal if possible.

Additionally, generate a comprehensive shopping list for the entire 7-day plan. 
Categorize the shopping list (e.g., Produce, Protein, Dairy, Pantry Staples). 
For each item, suggest a quantity (e.g., "1kg", "2 cans", "1 loaf") and, if possible, mention common brand examples or types (e.g., "Quaker Oats", "Tyson Chicken Breast", "Barilla Whole Wheat Pasta", "Fage Total 0% Greek Yogurt"). If a specific brand isn't applicable, suggest a generic type like "Low-sodium soy sauce".

Return the entire response as a single JSON object with the following structure:
{
  "dailyPlans": [
    {
      "day": 1, 
      "meals": {
        "breakfast": { "name": "Meal Name", "description": "Details...", "calories": 300 },
        "lunch": { "name": "Meal Name", "description": "Details...", "calories": 500 },
        "dinner": { "name": "Meal Name", "description": "Details...", "calories": 700 },
        "snacks": [
          { "name": "Snack Name", "description": "Details...", "calories": 250 }
        ]
      },
      "dailyCalories": 1750 
    } 
  ],
  "shoppingList": [
    {
      "category": "Category Name", 
      "items": [
        { "name": "Item Name", "quantity": "Amount", "brandSuggestion": "Brand or Type", "notes": "Optional extra info" }
      ]
    }
  ]
}
Ensure the JSON is valid.
`;try{const j=await Rm.models.generateContent({model:Cm,contents:m,config:{tools:[{googleSearch:{}}],responseMimeType:"application/json"}}),R=(u=(d=j.candidates)==null?void 0:d[0])==null?void 0:u.groundingMetadata,h=(R==null?void 0:R.groundingChunks)||[];let k=((x=j.text)==null?void 0:x.trim())||"";const E=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,H=k.match(E);H&&H[2]&&(k=H[2].trim());try{const O=JSON.parse(k);return O&&O.dailyPlans&&O.dailyPlans.length>0&&O.shoppingList?{planData:O,sources:h}:{planData:null,error:"Received plan data in an unexpected format. Please try again. Raw: "+(((y=j.text)==null?void 0:y.substring(0,100))||"No response"),sources:h}}catch(O){return{planData:null,error:`Failed to parse meal plan data. Please try again. Error: ${O.message}. Raw: ${((w=j.text)==null?void 0:w.substring(0,100))||"No response"}...`,sources:h}}}catch(j){return{planData:null,error:j.message||"Could not generate the 7-day meal plan. Please try again later."}}},ur=({size:r="md",color:c="text-teal-600",label:m="Loading content"})=>{const d={sm:"w-5 h-5 border-2",md:"w-8 h-8 border-[3px]",lg:"w-12 h-12 border-4"};return s.jsx("div",{className:"flex justify-center items-center","aria-live":"polite","aria-busy":"true",children:s.jsx("div",{className:`animate-spin rounded-full ${d[r]} ${c} border-t-transparent`,style:{borderTopColor:"transparent"},role:"status","aria-label":m,children:s.jsxs("span",{className:"sr-only",children:[m,"..."]})})})},Ag=({shareData:r,className:c="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg text-sm shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",buttonText:m="Share",iconClassName:d="fas fa-share-alt mr-2"})=>{const u=async()=>{if(pe("share_button_clicked",{title:r.title,text:r.text}),navigator.share)try{await navigator.share(r),pe("share_successful_native",{title:r.title})}catch(x){pe("share_failed_native",{error:x.message}),alert("Sharing failed. You can manually copy this: "+r.text+(r.url?` URL: ${r.url}`:""))}else{pe("share_fallback_clipboard_prompt",{title:r.title});const x=`${r.title?r.title+`
`:""}${r.text}${r.url?`
`+r.url:""}`;try{await navigator.clipboard.writeText(x),alert("Sharing not available, content copied to clipboard!"),pe("share_fallback_clipboard_copied")}catch(y){}}};return s.jsxs("button",{onClick:u,className:c,children:[s.jsx("i",{className:d}),m]})},ma=({message:r,type:c,onClose:m,className:d="",shareData:u})=>{const x="p-4 rounded-lg flex items-start shadow-lg text-sm border-l-4",w={success:{container:"bg-green-50 dark:bg-green-900/40 border-green-500 dark:border-green-400 text-green-800 dark:text-green-200",icon:"fas fa-check-circle text-green-500 dark:text-green-400",title:"Success!",role:"status"},error:{container:"bg-red-50 dark:bg-red-900/40 border-red-500 dark:border-red-400 text-red-800 dark:text-red-200",icon:"fas fa-times-circle text-red-500 dark:text-red-400",title:"Error",role:"alert"},warning:{container:"bg-orange-50 dark:bg-orange-900/40 border-orange-400 dark:border-orange-300 text-orange-800 dark:text-orange-200",icon:"fas fa-exclamation-triangle text-orange-400 dark:text-orange-300",title:"Warning",role:"alert"},info:{container:"bg-sky-50 dark:bg-sky-900/40 border-sky-400 dark:border-sky-300 text-sky-800 dark:text-sky-200",icon:"fas fa-info-circle text-sky-400 dark:text-sky-300",title:"Information",role:"status"}}[c];return s.jsxs("div",{className:`${x} ${w.container} ${d} my-4`,role:w.role,"aria-live":"polite","aria-atomic":"true",children:[s.jsx("div",{className:"flex-shrink-0 mr-3 mt-0.5",children:s.jsx("i",{className:`${w.icon} text-xl fa-fw`})}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("p",{className:"font-semibold text-sm",children:w.title}),s.jsx("div",{className:"text-sm mt-0.5",children:r}),u&&s.jsx("div",{className:"mt-2.5",children:s.jsx(Ag,{shareData:u,buttonText:"Share This",className:"bg-sky-500 hover:bg-sky-600 dark:bg-sky-600 dark:hover:bg-sky-500 text-white font-medium py-1.5 px-3 rounded-md text-xs shadow focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-sky-400 transition-all",iconClassName:"fas fa-share-alt mr-1.5"})})]}),m&&s.jsx("button",{onClick:m,className:"ml-auto -mr-1 -mt-1 p-1.5 rounded-full text-current opacity-70 hover:opacity-100 hover:bg-current hover:bg-opacity-10 dark:hover:bg-opacity-20 transition-all","aria-label":"Close alert",children:s.jsx("i",{className:"fas fa-times fa-fw"})})]})},zm=({message:r="Loading...",submessage:c,progress:m,steps:d,showSpinner:u=!0,showProgress:x=!0,estimatedTime:y,tips:w,size:j="md",className:R=""})=>{const[h,k]=g.useState(0),[E,H]=g.useState(0);g.useEffect(()=>{if(!w||w.length<=1)return;const F=setInterval(()=>{k(T=>(T+1)%w.length)},3e3);return()=>clearInterval(F)},[w]),g.useEffect(()=>{const F=setInterval(()=>{H(T=>T+1)},1e3);return()=>clearInterval(F)},[]);const O={sm:"p-4",md:"p-6",lg:"p-8",full:"p-12 min-h-[400px]"},z={sm:"w-6 h-6",md:"w-10 h-10",lg:"w-14 h-14",full:"w-16 h-16"},q=F=>{if(F<60)return`${F}s`;const T=Math.floor(F/60),B=F%60;return`${T}m ${B}s`};return s.jsxs("div",{className:`flex flex-col items-center justify-center ${O[j]} ${R}`,children:[u&&s.jsxs("div",{className:"mb-4 relative",children:[s.jsx("div",{className:`animate-spin rounded-full ${z[j]} border-[3px] border-teal-600 dark:border-teal-400 border-t-transparent`,role:"status","aria-label":r}),m!==void 0&&x&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-semibold text-teal-600 dark:text-teal-400",children:[Math.round(m),"%"]})})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 text-center",children:r}),c&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 text-center",children:c}),m!==void 0&&x&&s.jsxs("div",{className:"w-full max-w-xs mb-4",children:[s.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-full rounded-full transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,m))}%`},role:"progressbar","aria-valuenow":m,"aria-valuemin":0,"aria-valuemax":100})}),d&&s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 text-center",children:["Step ",d.current," of ",d.total,d.currentStep&&`: ${d.currentStep}`]})]}),y&&s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:E<y?s.jsxs(s.Fragment,{children:["Estimated time remaining: ",q(y-E)]}):s.jsxs(s.Fragment,{children:["Taking longer than expected... (elapsed: ",q(E),")"]})}),w&&w.length>0&&s.jsx("div",{className:"mt-6 bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 max-w-md",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:"fas fa-lightbulb text-yellow-500 mr-2 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:w[h]}),w.length>1&&s.jsx("div",{className:"flex mt-2 space-x-1",children:w.map((F,T)=>s.jsx("div",{className:`h-1 w-1 rounded-full transition-all ${T===h?"bg-teal-500 w-3":"bg-gray-300 dark:bg-gray-600"}`},T))})]})]})})]})},Tg=10*60*1e3,Mg=({calorieTarget:r,isProfileComplete:c,userName:m,apiKeyMissing:d,canGetMealSuggestion:u,onMealSuggestion:x,onUpgradeClick:y,isPremiumUser:w})=>{const[j,R]=g.useState(null),[h,k]=g.useState(!1),[E,H]=g.useState(null),[O,z]=g.useState(""),[q,F]=g.useState(null),[T,B]=g.useState(null),N=g.useRef(null),Q=[{value:"chicken",label:"Chicken",icon:"fas fa-drumstick-bite"},{value:"beef",label:"Beef",icon:"fas fa-hamburger"},{value:"fish",label:"Fish",icon:"fas fa-fish"},{value:"vegetarian",label:"Vegetarian",icon:"fas fa-leaf"},{value:"tofu",label:"Tofu/Soy",icon:"fas fa-seedling"}],V=[{value:"keto",label:"Keto"},{value:"low-carb",label:"Low Carb"},{value:"mediterranean",label:"Mediterranean"},{value:"paleo",label:"Paleo"},{value:"vegan",label:"Vegan"},{value:"gluten-free",label:"Gluten-Free"}],se=g.useCallback(async()=>{if(u&&!u.allowed){H("meal_limit_reached");return}if(d){H(La);return}if(!r){H("Please complete your profile and set goals to get meal ideas.");return}k(!0),H(null),R(null);const ee=[O,q,T].filter(Boolean).join(", "),de=`mealIdeas-${r}-${ee}`,me=Date.now();if(N.current&&N.current.key===de&&me-N.current.timestamp<Tg){R(N.current.data),k(!1);return}try{const W=await Eg(r,ee);x&&!W.error&&x(),W.error?(H(W.error),R(null),pe("meal_ideas_fetch_error_api_issue",{calorieTarget:r,preferences:ee,error:W.error})):W.ideas?(R(W.ideas),N.current={key:de,data:W.ideas,timestamp:me},pe("meal_ideas_fetch_success",{calorieTarget:r,preferences:ee,resultLength:W.ideas.length})):(H("Received no ideas or an unexpected response."),pe("meal_ideas_fetch_empty",{calorieTarget:r,preferences:ee}))}catch(W){const le=W.message||"An unexpected error occurred while fetching meal ideas.";H(le),N.current=null}finally{k(!1)}},[r,O,q,T,d,u,x]),Z="mt-1 block w-full px-4 py-2.5 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm placeholder-slate-400 bg-bg-card text-text-default dark:placeholder-slate-500",re=m?`Looking for inspiration, ${m}?`:"Need some meal ideas?";return!c||!r?s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-4",children:[s.jsx("i",{className:"fas fa-lightbulb mr-2.5 text-yellow-500 dark:text-yellow-400"}),"Meal Ideas"]}),s.jsx("div",{className:"bg-sky-50 dark:bg-sky-900/30 border-l-4 border-sky-400 text-sky-700 dark:text-sky-300 p-4 rounded-md text-center",role:"status",children:s.jsxs("p",{className:"font-medium",children:[s.jsx("i",{className:"fas fa-info-circle mr-2"}),"Complete your profile and set a weight goal to get personalized meal ideas."]})})]}):s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-2",children:[s.jsx("i",{className:"fas fa-lightbulb mr-2.5 text-yellow-500 dark:text-yellow-400"}),"AI Meal Ideas"]}),s.jsxs("p",{className:"text-sm text-text-alt mb-6",children:[re," Let's find some tasty options for your ~",r," kcal target!"]}),d&&s.jsx(ma,{type:"warning",message:s.jsxs(s.Fragment,{children:[s.jsx("strong",{children:"Meal Ideas Disabled:"}),s.jsx("br",{}),La]}),className:"mb-4"}),s.jsxs("div",{className:"mb-5",children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-2",children:"Select Protein Type (optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(ee=>s.jsxs("button",{onClick:()=>F(q===ee.value?null:ee.value),className:`px-4 py-2 rounded-lg border transition-all ${q===ee.value?"bg-teal-500 text-white border-teal-500":"bg-bg-card border-border-default hover:border-teal-400"}`,disabled:d,children:[s.jsx("i",{className:`${ee.icon} mr-2`}),ee.label]},ee.value))})]}),s.jsxs("div",{className:"mb-5",children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-2",children:"Select Diet Type (optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:V.map(ee=>s.jsx("button",{onClick:()=>B(T===ee.value?null:ee.value),className:`px-3 py-1.5 rounded-lg border text-sm transition-all ${T===ee.value?"bg-cyan-500 text-white border-cyan-500":"bg-bg-card border-border-default hover:border-cyan-400"}`,disabled:d,children:ee.label},ee.value))})]}),s.jsxs("div",{className:"mb-5",children:[s.jsx("label",{htmlFor:"preferences",className:"block text-sm font-medium text-text-alt",children:"Dietary Preferences or Foods to Include/Avoid (optional)"}),s.jsx("input",{type:"text",id:"preferences",value:O,onChange:ee=>z(ee.target.value),className:Z,placeholder:"e.g., vegetarian, high protein, no nuts",maxLength:200,disabled:d})]}),s.jsx("button",{onClick:se,disabled:h||!r||d||u&&!u.allowed,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center","aria-busy":h,children:h?s.jsx(ur,{size:"sm",color:"text-white",label:"Generating ideas"}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-wand-magic-sparkles fa-fw mr-2"}),"Suggest Meal Ideas",u&&!w&&s.jsxs("span",{className:"ml-2 bg-white/20 px-2 py-0.5 rounded-full text-xs font-bold",children:[u.remaining," left"]})]})}),E&&E!=="meal_limit_reached"&&s.jsx(ma,{type:"error",message:E,onClose:()=>H(null),className:"mt-4"}),h&&s.jsx("div",{className:"mt-6",children:s.jsx(zm,{message:"Crafting Personalized Meal Ideas",submessage:`Finding options around ${r} calories${q?` with ${q}`:""}${T?` (${T})`:""}`,estimatedTime:8,tips:["Analyzing nutritional balance...","Considering your preferences...","Finding creative combinations...","Calculating accurate portions..."],size:"sm"})}),E==="meal_limit_reached"&&s.jsx("div",{className:"mt-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:"fas fa-lock text-yellow-600 dark:text-yellow-400 mr-3 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Daily Limit Reached"}),s.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["You've used all ",(u==null?void 0:u.remaining)===0?"your":u==null?void 0:u.remaining," free meal suggestions for today."]}),s.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:"Upgrade to Premium for unlimited AI-powered meal suggestions!"}),s.jsxs("button",{onClick:y,className:"mt-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all text-sm",children:[s.jsx("i",{className:"fas fa-crown mr-2"}),"Upgrade to Premium"]})]})]})}),j&&!h&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-border-default",children:[s.jsxs("h3",{className:"text-lg font-semibold text-text-default",children:["Suggestions for ~",r," kcal:"]}),s.jsx("div",{className:"mt-3 prose prose-sm max-w-none bg-slate-50 dark:bg-slate-700/50 p-4 rounded-lg text-text-default shadow-inner overflow-x-auto custom-scrollbar",children:s.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm",children:j})})]})]})},Cg=({title:r="Something went wrong",message:c,details:m,actions:d=[],suggestions:u=[],errorCode:x,onClose:y,className:w="",showIcon:j=!0,compact:R=!1})=>R?s.jsxs("div",{className:`flex items-center p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg ${w}`,children:[j&&s.jsx("i",{className:"fas fa-exclamation-circle text-red-500 dark:text-red-400 mr-2"}),s.jsx("span",{className:"text-sm text-red-700 dark:text-red-300 flex-1",children:c}),d.length>0&&s.jsx("button",{onClick:d[0].action,className:"ml-2 text-sm font-medium text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300",children:d[0].label})]}):s.jsxs("div",{className:`bg-white dark:bg-gray-800 border border-red-200 dark:border-red-800 rounded-lg shadow-lg overflow-hidden ${w}`,role:"alert","aria-live":"assertive",children:[s.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 px-4 py-3 border-b border-red-200 dark:border-red-800",children:s.jsxs("div",{className:"flex items-start",children:[j&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 dark:text-red-400 text-xl"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("h3",{className:"text-base font-semibold text-red-800 dark:text-red-200",children:r}),x&&s.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-0.5",children:["Error Code: ",x]})]}),y&&s.jsx("button",{onClick:y,className:"ml-auto -mr-1 -mt-1 p-1.5 rounded-full text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-800 transition-colors","aria-label":"Dismiss error",children:s.jsx("i",{className:"fas fa-times"})})]})}),s.jsxs("div",{className:"px-4 py-4",children:[s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:c}),m&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-md",children:s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:m})}),u.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Try these solutions:"}),s.jsx("ul",{className:"space-y-1",children:u.map((h,k)=>s.jsxs("li",{className:"flex items-start text-sm text-gray-600 dark:text-gray-400",children:[s.jsx("i",{className:"fas fa-check-circle text-teal-500 mr-2 mt-0.5"}),s.jsx("span",{children:h})]},k))})]}),d.length>0&&s.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:d.map((h,k)=>s.jsxs("button",{onClick:h.action,className:`inline-flex items-center px-4 py-2 rounded-lg font-medium text-sm transition-colors ${h.variant==="secondary"?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600":"bg-red-600 dark:bg-red-700 text-white hover:bg-red-700 dark:hover:bg-red-600"}`,children:[h.icon&&s.jsx("i",{className:`${h.icon} mr-2`}),h.label]},k))})]})]}),Bl={ERR_NETWORK:{title:"Connection Problem",message:"Unable to connect to our servers. Please check your internet connection.",suggestions:["Check your Wi-Fi or mobile data","Try refreshing the page","Disable VPN if you're using one"]},ERR_TIMEOUT:{title:"Request Timed Out",message:"The server took too long to respond. This might be due to a slow connection.",suggestions:["Try again with a stronger connection","Reduce the amount of data you're requesting"]},ERR_UNAUTHORIZED:{title:"Authentication Required",message:"Please log in to continue.",suggestions:["Log in with your credentials","Create an account if you're new"]},ERR_INVALID_CREDENTIALS:{title:"Invalid Login",message:"The email or password you entered is incorrect.",suggestions:["Double-check your email address","Make sure Caps Lock is off",'Use "Forgot Password" if needed']},ERR_SESSION_EXPIRED:{title:"Session Expired",message:"You've been logged out due to inactivity.",suggestions:["Log in again to continue",'Enable "Remember Me" to stay logged in longer']},ERR_INVALID_EMAIL:{title:"Invalid Email",message:"Please enter a valid email address.",suggestions:["Check for typos","Ensure it includes @ and domain","Remove any extra spaces"]},ERR_WEAK_PASSWORD:{title:"Password Too Weak",message:"Your password needs to be stronger for security.",suggestions:["Use at least 8 characters","Include numbers and symbols","Mix uppercase and lowercase letters"]},ERR_REQUIRED_FIELD:{title:"Missing Information",message:"Please fill in all required fields.",suggestions:["Look for fields marked with *","Check if any fields are highlighted in red"]},ERR_FOOD_NOT_FOUND:{title:"Food Not Found",message:"We couldn't find nutritional information for this item.",suggestions:["Try a different search term","Check the spelling","Add it manually with custom values"]},ERR_INVALID_BARCODE:{title:"Barcode Not Recognized",message:"This barcode isn't in our database.",suggestions:["Try scanning again with better lighting","Enter the food manually","Take a photo of the nutrition label"]},ERR_INVALID_CALORIES:{title:"Invalid Calorie Value",message:"Calories must be a positive number.",suggestions:["Enter a number greater than 0","Check the nutrition label","Use standard serving sizes"]},ERR_API_KEY_MISSING:{title:"Service Configuration Error",message:"The AI features are not properly configured.",suggestions:["Contact support for assistance","Try again later","Use manual entry as an alternative"]},ERR_RATE_LIMIT:{title:"Too Many Requests",message:"You've made too many requests. Please wait a moment.",suggestions:["Wait a few minutes before trying again","Upgrade to Premium for higher limits"]},ERR_SERVICE_UNAVAILABLE:{title:"Service Temporarily Down",message:"This feature is temporarily unavailable.",suggestions:["Try again in a few minutes","Check our status page for updates","Use alternative features"]},ERR_SAVE_FAILED:{title:"Couldn't Save Your Changes",message:"There was a problem saving your data.",suggestions:["Check your internet connection","Try saving again","Copy your data as backup"]},ERR_LOAD_FAILED:{title:"Couldn't Load Data",message:"We're having trouble loading your information.",suggestions:["Refresh the page","Check your connection","Clear your browser cache"]},ERR_SYNC_FAILED:{title:"Sync Failed",message:"Your changes couldn't be synced to the cloud.",suggestions:["Changes are saved locally","They'll sync when connection improves","Force sync from settings"]},ERR_PREMIUM_REQUIRED:{title:"Premium Feature",message:"This feature is available for Premium members.",suggestions:["Upgrade to unlock all features","Try our free features","Start a free trial"]},ERR_LIMIT_REACHED:{title:"Daily Limit Reached",message:"You've used all your free requests for today.",suggestions:["Wait until tomorrow for more","Upgrade for unlimited access","Use manual entry instead"]},ERR_FILE_TOO_LARGE:{title:"File Too Large",message:"The file exceeds our size limit.",suggestions:["Reduce image quality","Crop to important parts","Maximum size is 5MB"]},ERR_INVALID_FILE_TYPE:{title:"Invalid File Type",message:"This file type is not supported.",suggestions:["Use JPEG, PNG, or WebP images","Convert your file to a supported format"]},ERR_UNKNOWN:{title:"Unexpected Error",message:"Something went wrong. We're working on fixing it.",suggestions:["Try again","Refresh the page","Contact support if it persists"]}};function Dg(r){if(r instanceof Error)return r.message.includes("network")||r.message.includes("fetch")?{...Bl.ERR_NETWORK,errorCode:"ERR_NETWORK"}:r.message.includes("401")||r.message.includes("unauthorized")?{...Bl.ERR_UNAUTHORIZED,errorCode:"ERR_UNAUTHORIZED"}:r.message.includes("404")||r.message.includes("not found")?{...Bl.ERR_FOOD_NOT_FOUND,errorCode:"ERR_FOOD_NOT_FOUND"}:r.message.includes("timeout")?{...Bl.ERR_TIMEOUT,errorCode:"ERR_TIMEOUT"}:{title:"Error Occurred",message:r.message,suggestions:["Try again","Contact support if the problem persists"],errorCode:"ERR_UNKNOWN"};if(typeof r=="string"){const c=r.toUpperCase().replace(/[^A-Z_]/g,"_");if(c in Bl)return{...Bl[c],errorCode:c}}return{...Bl.ERR_UNKNOWN,errorCode:"ERR_UNKNOWN"}}function _g(r,c,m){const d=Dg(c);switch(r){case"food-search":return{...d,message:`We couldn't search for ${(m==null?void 0:m.item)||"that food"}. ${d.message}`};case"barcode-scan":return{...d,message:`Unable to scan the barcode. ${d.message}`,suggestions:["Ensure good lighting on the barcode","Hold your device steady","Try entering the barcode manually",...d.suggestions]};case"meal-generation":return{...d,message:`Couldn't generate meal suggestions. ${d.message}`,suggestions:["Try with different preferences","Check your internet connection",...d.suggestions]};case"save-profile":return{...d,message:`Your profile changes couldn't be saved. ${d.message}`,suggestions:["Check that all fields are filled correctly","Ensure you have a stable connection",...d.suggestions]};default:return d}}const Og=({onScanSuccess:r,onScanError:c,videoElementId:m})=>{const[d,u]=g.useState(!1),[x,y]=g.useState(null),w=g.useRef(null),j=g.useRef(null);g.useEffect(()=>{const k=document.getElementById(m);k&&(j.current=k);const E=new Map,H=[Ms.UPC_A,Ms.UPC_E,Ms.EAN_13,Ms.EAN_8,Ms.CODE_128,Ms.QR_CODE];return E.set(sm.POSSIBLE_FORMATS,H),E.set(sm.TRY_HARDER,!0),w.current=new Zh(E),()=>{h()}},[m]);const R=g.useCallback(async()=>{if(!w.current){y("Barcode reader not initialized."),c&&c(new Error("Barcode reader not initialized."));return}if(!j.current){y("Video element not found."),c&&c(new Error("Video element not found."));return}try{y(null),u(!0),j.current.setAttribute("playsinline","true"),await w.current.decodeFromConstraints({video:{facingMode:"environment"}},j.current,(k,E)=>{k&&(r(k.getText()),h()),E&&!(E instanceof Kh)&&(y(E.message),c&&c(E))})}catch(k){let E="Failed to start scanner.";k.name==="NotAllowedError"?E="Camera permission denied. Please allow camera access in your browser settings.":k.name==="NotFoundError"||k.name==="DevicesNotFoundError"?E="No camera found. Please ensure a camera is connected and enabled.":k.name==="NotReadableError"&&(E="Camera is already in use or cannot be accessed."),y(E),c&&c(new Error(E)),u(!1)}},[r,c]),h=g.useCallback(()=>{w.current&&w.current.reset(),j.current&&j.current.srcObject&&(j.current.srcObject.getTracks().forEach(E=>E.stop()),j.current.srcObject=null),u(!1)},[]);return{startScan:R,stopScan:h,isScanning:d,error:x,videoRef:j}},Rg="barcode-video-instance-",Lg=({onFoodScanned:r,apiKeyMissing:c,isOpen:m,onClose:d,canScanBarcode:u,onBarcodeScan:x,onUpgradeClick:y})=>{const[w]=g.useState(()=>`${Rg}${Math.random().toString(36).substring(7)}`),[j,R]=g.useState(null),[h,k]=g.useState(null),[E,H]=g.useState(!1),[O,z]=g.useState(null),[q,F]=g.useState(null),[T,B]=g.useState([]),N=g.useCallback(le=>{if(!u.allowed){F("scan_limit_reached");return}if(x(),R(le),H(!0),z(null),F(null),k(null),B([]),c){z(La),H(!1);return}kg(le).then(P=>{if(P.foodInfo&&P.foodInfo.name&&P.foodInfo.name!=="Product (parsing issue)"&&P.foodInfo.name!=="Product (data extraction issue)"?(k(P.foodInfo),pe("upc_food_info_retrieved",{foodName:P.foodInfo.name})):(z(P.error||"Could not retrieve valid food information for this UPC."),P.error===La&&z(La),pe("upc_food_info_error",{error:P.error})),P.sources){const L=P.sources.filter($=>$.web!==void 0).map($=>({web:$.web}));B(L)}}).catch(P=>{let L=P.message||"An unexpected error occurred while fetching food data.";P.message&&P.message.includes("API_KEY")&&(L=La),z(L),pe("upc_food_info_exception",{error:P.message})}).finally(()=>H(!1))},[c]),Q=g.useCallback(le=>{F(`Scanner Error: ${le.message}. Please ensure camera access is allowed.`),pe("upc_scan_error_hook",{error:le.message}),H(!1)},[]),{startScan:V,stopScan:se,isScanning:Z,error:re,videoRef:ee}=Og({onScanSuccess:N,onScanError:Q,videoElementId:w});g.useEffect(()=>{re&&F(`Scanner Initialization Error: ${re}. Check camera permissions.`)},[re]),g.useEffect(()=>{if(m){if(R(null),k(null),z(null),F(null),H(!1),B([]),c){F(La+" Barcode scanning is disabled.");return}const le=setTimeout(()=>{const P=document.getElementById(w);ee.current&&P&&P.isConnected?V().catch(L=>{F(`Failed to start camera: ${L.message}. Please try again or check permissions.`),pe("upc_scanner_start_failed_exception",{error:L.message})}):F("Camera element not ready. Please close and reopen the scanner.")},150);return()=>clearTimeout(le)}else se()},[m,V,se,w,ee,c]);const de=()=>{d()},me=()=>{if(h&&h.name&&h.calories!==void 0){const le={id:j||`scanned-${Date.now()}`,name:h.name,calories:h.calories,protein:h.protein,carbs:h.carbs,fat:h.fat,servingSize:h.servingSize,timestamp:Date.now()};r(le,"scan"),de()}else z("Cannot log food: essential information (name or calories) is missing or invalid.")},W=O||q;return s.jsx(ql,{isOpen:m,onClose:de,title:j&&!h&&!E?`UPC: ${j}`:(h==null?void 0:h.name)||"Scan Barcode",size:"xl",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsxs("div",{className:"w-full max-w-md aspect-[4/3] bg-slate-200 dark:bg-slate-700 rounded-lg overflow-hidden mb-4 shadow-inner relative",children:[s.jsx("video",{id:w,ref:ee,className:`w-full h-full object-cover ${Z||E||h||j?"":"hidden"}`,playsInline:!0}),!(Z||E||h||j||W)&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-500 dark:text-slate-400 p-4",children:[s.jsx("i",{className:"fas fa-camera text-5xl mb-3 text-slate-400 dark:text-slate-500"}),s.jsx("p",{className:"text-center text-sm",children:c?"Barcode scanning disabled (API Key missing)":"Initializing camera..."}),!c&&s.jsx("p",{className:"text-center text-xs mt-1",children:"Point at a barcode to scan."})]}),Z&&!h&&!E&&!W&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white bg-black bg-opacity-30 p-4",children:[s.jsx("i",{className:"fas fa-barcode text-5xl mb-3 animate-pulse"}),s.jsx("p",{className:"text-center text-sm font-semibold",children:"Scanning..."})]})]}),W&&W!=="scan_limit_reached"&&s.jsx("div",{className:"w-full max-w-md",children:s.jsx(Cg,{..._g("barcode-scan",W,{item:"barcode"}),actions:[{label:"Try Again",action:()=>{z(null),F(null),ee.current&&V().catch(le=>F(`Retry failed: ${le.message}`))},icon:"fas fa-redo"},{label:"Enter Manually",action:()=>{d()},variant:"secondary"}],onClose:()=>{z(null),F(null)},compact:!0})}),q==="scan_limit_reached"&&s.jsx("div",{className:"w-full max-w-md bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("i",{className:"fas fa-lock text-yellow-600 dark:text-yellow-400 mr-3 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:"Daily Scan Limit Reached"}),s.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:["You've used all ",u.remaining===0?"your":u.remaining," free barcode scans for today."]}),s.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-2",children:"Upgrade to Premium for unlimited barcode scanning!"}),s.jsxs("button",{onClick:()=>{d(),y()},className:"mt-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all text-sm",children:[s.jsx("i",{className:"fas fa-crown mr-2"}),"Upgrade to Premium"]})]})]})}),!Z&&!E&&!j&&W&&!c&&s.jsxs("button",{onClick:()=>{F(null),z(null),ee.current&&V().catch(le=>F(`Retry failed: ${le.message}`))},className:"mt-3 bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow hover:shadow-md transition-all",children:[s.jsx("i",{className:"fas fa-sync-alt mr-2"}),"Retry Camera"]}),E&&s.jsx("div",{className:"my-4 w-full max-w-md",children:s.jsx(zm,{message:"Looking up product information",submessage:`UPC: ${j}`,estimatedTime:5,tips:["Searching nutritional databases...","Verifying product details...","Calculating serving sizes..."],size:"sm"})}),h&&!E&&s.jsxs("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-700 rounded-lg w-full max-w-md shadow-md border border-border-default",children:[s.jsx("h3",{className:"text-xl font-semibold text-teal-700 dark:text-teal-400",children:h.name}),h.brand&&s.jsxs("p",{className:"text-sm text-text-alt",children:["Brand: ",h.brand]}),h.servingSize&&s.jsxs("p",{className:"text-sm text-text-alt mb-2",children:["Serving Size: ",h.servingSize]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 mt-3 text-sm border-t border-border-default pt-3",children:[h.calories!==void 0&&s.jsxs("p",{children:[s.jsx("strong",{className:"text-text-default",children:"Calories:"})," ",s.jsxs("span",{className:"text-orange-600 dark:text-orange-400 font-medium",children:[h.calories," kcal"]})]}),h.protein!==void 0&&s.jsxs("p",{children:[s.jsx("strong",{className:"text-text-default",children:"Protein:"})," ",s.jsxs("span",{className:"text-text-alt",children:[h.protein," g"]})]}),h.carbs!==void 0&&s.jsxs("p",{children:[s.jsx("strong",{className:"text-text-default",children:"Carbs:"})," ",s.jsxs("span",{className:"text-text-alt",children:[h.carbs," g"]})]}),h.fat!==void 0&&s.jsxs("p",{children:[s.jsx("strong",{className:"text-text-default",children:"Fat:"})," ",s.jsxs("span",{className:"text-text-alt",children:[h.fat," g"]})]})]}),h.calories!==void 0&&h.name&&!h.name.startsWith("Product (")&&s.jsxs("button",{onClick:me,className:"mt-6 w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold py-2.5 px-4 rounded-lg shadow hover:shadow-md transition-all",children:[s.jsx("i",{className:"fas fa-plus-circle mr-2"}),"Log This Food"]})]}),T.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-sky-50 dark:bg-sky-800/50 border border-sky-200 dark:border-sky-700 rounded-lg w-full max-w-md text-xs",children:[s.jsx("h4",{className:"text-xs font-semibold text-sky-700 dark:text-sky-300 mb-1",children:"Data Sources (from Google Search):"}),s.jsx("ul",{className:"list-disc list-inside space-y-1",children:T.map((le,P)=>le.web.uri?s.jsx("li",{children:s.jsx("a",{href:le.web.uri,target:"_blank",rel:"noopener noreferrer",className:"text-sky-600 dark:text-sky-400 hover:underline hover:text-sky-800 dark:hover:text-sky-300",children:le.web.title||le.web.uri})},P):null)})]}),!h&&j&&!E&&!O&&s.jsx(ma,{type:"info",message:`Attempted to find info for UPC: ${j}. If nothing appears, the product may not be in the database or an error occurred.`,className:"w-full max-w-md mt-4"}),s.jsx("button",{onClick:de,className:"mt-6 bg-slate-200 hover:bg-slate-300 text-slate-700 dark:bg-slate-600 dark:hover:bg-slate-500 dark:text-slate-200 font-semibold py-2.5 px-6 rounded-lg shadow hover:shadow-md transition-all",children:h&&!E?"Done":"Close Scanner"})]})})},hm=({icon:r,iconColor:c="text-gray-400 dark:text-gray-500",title:m,description:d,actionLabel:u,onAction:x,secondaryActionLabel:y,onSecondaryAction:w,tips:j,className:R=""})=>s.jsxs("div",{className:`text-center py-12 px-6 ${R}`,children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 dark:bg-gray-800",children:s.jsx("i",{className:`${r} text-3xl ${c}`})})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:m}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 max-w-sm mx-auto",children:d}),(u||y)&&s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center mb-6",children:[u&&x&&s.jsx("button",{onClick:x,className:"px-6 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all",children:u}),y&&w&&s.jsx("button",{onClick:w,className:"px-6 py-2.5 text-teal-600 dark:text-teal-400 hover:text-teal-700 dark:hover:text-teal-300 font-medium",children:y})]}),j&&j.length>0&&s.jsxs("div",{className:"mt-8 bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 max-w-md mx-auto",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center",children:[s.jsx("i",{className:"fas fa-lightbulb text-yellow-500 mr-2"}),"Quick Tips"]}),s.jsx("ul",{className:"text-left space-y-1",children:j.map((h,k)=>s.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-start",children:[s.jsx("span",{className:"text-teal-500 mr-2",children:""}),h]},k))})]})]});function zg(r){const c=new Date().getHours();return c>=5&&c<11?[{name:"Oatmeal with Berries",calories:250,protein:8,carbs:45,fat:5},{name:"Greek Yogurt Parfait",calories:200,protein:15,carbs:25,fat:5},{name:"Scrambled Eggs & Toast",calories:300,protein:18,carbs:25,fat:15}]:c>=11&&c<15?[{name:"Grilled Chicken Salad",calories:350,protein:30,carbs:20,fat:15},{name:"Turkey Sandwich",calories:400,protein:25,carbs:40,fat:15},{name:"Quinoa Bowl",calories:380,protein:15,carbs:50,fat:12}]:c>=17&&c<21?[{name:"Salmon with Vegetables",calories:450,protein:35,carbs:25,fat:20},{name:"Chicken Stir-Fry",calories:400,protein:28,carbs:35,fat:15},{name:"Pasta Primavera",calories:420,protein:18,carbs:55,fat:12}]:[{name:"Apple with Almond Butter",calories:200,protein:6,carbs:25,fat:10},{name:"Protein Bar",calories:180,protein:15,carbs:20,fat:7},{name:"Trail Mix",calories:150,protein:5,carbs:15,fat:10}]}function Ug(){const r=new Date().getHours();return r>=5&&r<12?"Good morning! Time for a healthy breakfast ":r>=12&&r<17?"Good afternoon! Don't forget to stay hydrated ":r>=17&&r<21?"Good evening! Ready for dinner? ":"Late night snacking? Choose wisely! "}const zn=({children:r,onClick:c,variant:m="primary",size:d="md",disabled:u=!1,loading:x=!1,icon:y,iconPosition:w="left",animation:j="scale",className:R="",type:h="button"})=>{const[k,E]=g.useState(!1),H="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",O={primary:"bg-teal-500 hover:bg-teal-600 text-white focus:ring-teal-500 shadow-md hover:shadow-lg",secondary:"bg-gray-500 hover:bg-gray-600 text-white focus:ring-gray-500 shadow-md hover:shadow-lg",success:"bg-green-500 hover:bg-green-600 text-white focus:ring-green-500 shadow-md hover:shadow-lg",warning:"bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-500 shadow-md hover:shadow-lg",danger:"bg-red-500 hover:bg-red-600 text-white focus:ring-red-500 shadow-md hover:shadow-lg",ghost:"bg-transparent hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-700 dark:text-gray-300 focus:ring-gray-500"},z={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},q="opacity-50 cursor-not-allowed pointer-events-none",F={pulse:"hover:animate-pulse",bounce:"hover:animate-bounce",shake:"hover:animate-shake",scale:"hover:scale-105 active:scale-95",slide:"hover:translate-x-1"},T=k?"transform scale-95":"",B=()=>E(!0),N=()=>E(!1),Q=()=>E(!1),V=`
    ${H}
    ${O[m]}
    ${z[d]}
    ${u||x?q:F[j]}
    ${T}
    ${R}
  `;return s.jsxs("button",{type:h,onClick:c,disabled:u||x,onMouseDown:B,onMouseUp:N,onMouseLeave:Q,className:V,children:[x&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y&&w==="left"&&!x&&s.jsx("i",{className:`${y} mr-2`}),r,y&&w==="right"&&!x&&s.jsx("i",{className:`${y} ml-2`})]})},Um=({children:r,title:c,subtitle:m,icon:d,iconColor:u="text-teal-500",className:x="",onClick:y,hover:w=!0,animation:j="lift",delay:R=0})=>{const[h,k]=g.useState(!1),[E,H]=g.useState(!1);Tc.useEffect(()=>{const Q=setTimeout(()=>H(!0),R);return()=>clearTimeout(Q)},[R]);const O=`
    bg-bg-card rounded-xl shadow-lg border border-border-default p-6
    transition-all duration-300 ease-out transform
    ${E?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
  `,z={lift:w?"hover:shadow-xl hover:-translate-y-1":"",glow:w?"hover:shadow-2xl hover:shadow-teal-500/20":"",tilt:w?"hover:rotate-1 hover:scale-105":"",fade:w?"hover:opacity-90":"",scale:w?"hover:scale-105":""},q=h&&j==="glow"?"shadow-2xl shadow-teal-500/20":"",F=`
    ${O}
    ${z[j]}
    ${q}
    ${y?"cursor-pointer":""}
    ${x}
  `,T=()=>k(!0),B=()=>k(!1),N=()=>s.jsxs(s.Fragment,{children:[(c||m)&&s.jsxs("div",{className:"mb-4",children:[c&&s.jsxs("h3",{className:"text-xl font-semibold text-text-default flex items-center mb-2",children:[d&&s.jsx("span",{className:`inline-block transition-transform duration-300 ${h?"scale-110":""}`,children:s.jsx("i",{className:`${d} mr-3 ${u} text-xl`})}),s.jsx("span",{className:`transition-colors duration-300 ${h?"text-teal-600 dark:text-teal-400":""}`,children:c})]}),m&&s.jsx("p",{className:"text-text-alt",children:m})]}),s.jsx("div",{className:`transition-transform duration-300 ${h&&j==="scale"?"scale-[1.02]":""}`,children:r})]});return y?s.jsx("button",{onClick:y,onMouseEnter:T,onMouseLeave:B,className:`${F} text-left w-full`,type:"button",children:s.jsx(N,{})}):s.jsx("div",{onMouseEnter:T,onMouseLeave:B,className:F,children:s.jsx(N,{})})},gm=({children:r,animation:c="stagger",delay:m=100,direction:d="up",className:u=""})=>{const[x,y]=g.useState([]);g.useEffect(()=>{const R=()=>{r.forEach((h,k)=>{setTimeout(()=>{y(E=>[...E,k])},k*m)})};y([]),R()},[r,m]);const w=(R,h)=>{const k="transition-all duration-500 ease-out";if(!h)return`${k} ${{up:"opacity-0 translate-y-8",down:"opacity-0 -translate-y-8",left:"opacity-0 translate-x-8",right:"opacity-0 -translate-x-8"}[d]}`;const E="opacity-100 translate-x-0 translate-y-0";switch(c){case"cascade":return`${k} ${E} transform scale-100`;case"wave":return`${k} ${E} animate-wave`;case"fade":return`${k} ${E}`;default:return`${k} ${E}`}},j=R=>{switch(c){case"wave":return`${Math.sin(R*.5)*200}ms`;case"cascade":return`${R*(m/2)}ms`;default:return"0ms"}};return s.jsx("div",{className:u,children:r.map((R,h)=>{const k=x.includes(h);return s.jsx("div",{className:w(h,k),style:{transitionDelay:j(h)},children:R},h)})})},Hg=({children:r,trigger:c=!1,type:m="success",animation:d="bounce",duration:u=1e3,onAnimationComplete:x})=>{const[y,w]=g.useState(!1),[j,R]=g.useState(!1);g.useEffect(()=>{if(c){w(!0),R(!0);const H=setTimeout(()=>{w(!1),setTimeout(()=>{R(!1),x==null||x()},300)},u);return()=>clearTimeout(H)}},[c,u,x]);const h={bounce:"animate-bounce",shake:"animate-shake",pulse:"animate-pulse",flash:"animate-flash",tada:"animate-tada"},k={success:"text-green-500",error:"text-red-500",warning:"text-yellow-500",info:"text-blue-500",loading:"text-gray-500"},E={success:"fas fa-check-circle",error:"fas fa-times-circle",warning:"fas fa-exclamation-triangle",info:"fas fa-info-circle",loading:"fas fa-spinner fa-spin"};return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`transition-all duration-300 ${y?h[d]:""}`,children:r}),j&&s.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-white dark:bg-gray-900 bg-opacity-90 dark:bg-opacity-90 rounded-lg transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:`flex items-center space-x-2 ${k[m]}`,children:[s.jsx("i",{className:`${E[m]} text-2xl`}),s.jsxs("span",{className:"font-medium",children:[m==="success"&&"Success!",m==="error"&&"Error!",m==="warning"&&"Warning!",m==="info"&&"Info",m==="loading"&&"Loading..."]})]})})]})},Ec=({value:r,max:c=100,showPercentage:m=!1,showValue:d=!1,label:u,color:x="primary",size:y="md",animated:w=!0,striped:j=!1,pulsing:R=!1,className:h=""})=>{const[k,E]=g.useState(0);g.useEffect(()=>{if(w){const N=r/60;let Q=0;const V=setInterval(()=>{Q+=N,Q>=r?(E(r),clearInterval(V)):E(Q)},1e3/60);return()=>clearInterval(V)}else E(r)},[r,w]);const H=Math.min(k/c*100,100),O={primary:"bg-teal-500",success:"bg-green-500",warning:"bg-yellow-500",danger:"bg-red-500",info:"bg-blue-500"},z={sm:"h-2",md:"h-3",lg:"h-4"},q=`
    ${O[x]}
    transition-all duration-300 ease-out
    ${j?"bg-striped":""}
    ${R?"animate-pulse":""}
    h-full rounded-full
  `,F=`
    w-full ${z[y]} bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden
    ${h}
  `;return s.jsxs("div",{className:"space-y-2",children:[(u||m||d)&&s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u&&s.jsx("span",{className:"text-text-default font-medium",children:u}),s.jsxs("div",{className:"flex space-x-2",children:[d&&s.jsxs("span",{className:"text-text-alt",children:[Math.round(k)," / ",c]}),m&&s.jsxs("span",{className:"text-text-alt font-medium",children:[Math.round(H),"%"]})]})]}),s.jsx("div",{className:F,children:s.jsx("div",{className:q,style:{width:`${H}%`,transform:w?"translateX(0)":"translateX(-100%)",transition:w?"width 0.3s ease-out, transform 0.3s ease-out":"none"}})}),j&&s.jsx("style",{jsx:!0,children:`
          .bg-striped {
            background-image: linear-gradient(
              45deg,
              rgba(255, 255, 255, 0.15) 25%,
              transparent 25%,
              transparent 50%,
              rgba(255, 255, 255, 0.15) 50%,
              rgba(255, 255, 255, 0.15) 75%,
              transparent 75%,
              transparent
            );
            background-size: 1rem 1rem;
            animation: progress-bar-stripes 1s linear infinite;
          }
          
          @keyframes progress-bar-stripes {
            0% {
              background-position: 1rem 0;
            }
            100% {
              background-position: 0 0;
            }
          }
        `})]})},vt={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function _s(){const[r,c]=g.useState({width:typeof window!="undefined"?window.innerWidth:0,height:typeof window!="undefined"?window.innerHeight:0}),[m,d]=g.useState("xs");g.useEffect(()=>{const z=()=>{c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",z),z(),()=>window.removeEventListener("resize",z)},[]),g.useEffect(()=>{const z=r.width;z>=vt["2xl"]?d("2xl"):z>=vt.xl?d("xl"):z>=vt.lg?d("lg"):z>=vt.md?d("md"):z>=vt.sm?d("sm"):d("xs")},[r.width]);const u=r.width<vt.sm,x=r.width>=vt.sm&&r.width<vt.lg,y=r.width>=vt.lg,w=r.width<vt.md,j=r.width>=vt.md&&r.width<vt.lg,R=r.width>=vt.lg,h=z=>r.width>=vt[z],k=z=>r.width<vt[z],E=r.height>r.width,H=!E,O=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0);return{windowSize:r,currentBreakpoint:m,isMobile:u,isTablet:x,isDesktop:y,isSmallScreen:w,isMediumScreen:j,isLargeScreen:R,isAtLeast:h,isAtMost:k,isPortrait:E,isLandscape:H,isTouchDevice:O}}function Ax(r){const{currentBreakpoint:c}=_s(),m=["2xl","xl","lg","md","sm","xs"],d=m.indexOf(c);for(let u=d;u<m.length;u++){const x=m[u];if(r[x]!==void 0)return r[x]}for(let u=m.length-1;u>=0;u--){const x=m[u];if(r[x]!==void 0)return r[x]}}const Bg=({value:r,onChange:c,onClear:m,placeholder:d="Search...",suggestions:u=[],onSuggestionSelect:x,showSuggestions:y=!0,icon:w="fas fa-search",size:j="md",variant:R="default",disabled:h=!1,className:k=""})=>{const{isMobile:E}=_s(),[H,O]=g.useState(!1),[z,q]=g.useState(!1),[F,T]=g.useState(-1),B=g.useRef(null),N=g.useRef(null),Q=u.filter(W=>W.toLowerCase().includes(r.toLowerCase())&&W.toLowerCase()!==r.toLowerCase()).slice(0,8);g.useEffect(()=>{q(H&&r.length>0&&Q.length>0&&y),T(-1)},[H,r,Q.length,y]),g.useEffect(()=>{const W=le=>{var P;N.current&&!N.current.contains(le.target)&&!((P=B.current)!=null&&P.contains(le.target))&&(q(!1),O(!1))};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]);const V=W=>{var le;if(z)switch(W.key){case"ArrowDown":W.preventDefault(),T(P=>P<Q.length-1?P+1:P);break;case"ArrowUp":W.preventDefault(),T(P=>P>0?P-1:-1);break;case"Enter":W.preventDefault(),F>=0&&se(Q[F]);break;case"Escape":q(!1),O(!1),(le=B.current)==null||le.blur();break}},se=W=>{var le;c(W),x==null||x(W),q(!1),O(!1),(le=B.current)==null||le.blur()},Z=()=>{var W;c(""),m==null||m(),q(!1),(W=B.current)==null||W.focus()},re={sm:"h-8 text-sm",md:"h-10 text-base",lg:"h-12 text-lg"},ee={default:"border border-border-default bg-white dark:bg-gray-900",compact:"border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800",prominent:"border-2 border-teal-300 dark:border-teal-600 bg-white dark:bg-gray-900 shadow-lg"},de=`
    relative w-full
    ${k}
  `,me=`
    w-full px-4 py-2 pr-12 rounded-lg transition-all duration-200
    ${re[j]}
    ${ee[R]}
    ${H?"border-teal-500 ring-2 ring-teal-200 dark:ring-teal-800":"hover:border-gray-400 dark:hover:border-gray-500"}
    ${h?"opacity-50 cursor-not-allowed bg-gray-100 dark:bg-gray-800":"text-text-default"}
    focus:outline-none
    ${E?"text-base":""}
  `;return s.jsxs("div",{className:de,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:s.jsx("i",{className:`${w} ${j==="sm"?"text-sm":j==="lg"?"text-lg":"text-base"}`})}),s.jsx("input",{ref:B,type:"text",value:r,onChange:W=>c(W.target.value),onFocus:()=>O(!0),onKeyDown:V,placeholder:d,disabled:h,className:`${me} pl-10`,autoComplete:"off"}),r&&!h&&s.jsx("button",{type:"button",onClick:Z,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Clear search",children:s.jsx("i",{className:`fas fa-times ${j==="sm"?"text-sm":j==="lg"?"text-lg":"text-base"}`})})]}),z&&s.jsx("div",{ref:N,className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-border-default rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:Q.map((W,le)=>s.jsx("button",{type:"button",onClick:()=>se(W),className:`
                w-full px-4 py-3 text-left transition-colors
                ${le===F?"bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"hover:bg-gray-50 dark:hover:bg-gray-800 text-text-default"}
                ${le===0?"rounded-t-lg":""}
                ${le===Q.length-1?"rounded-b-lg":"border-b border-gray-200 dark:border-gray-700"}
              `,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"truncate",children:W}),s.jsx("i",{className:"fas fa-arrow-up-right text-xs text-gray-400 ml-2"})]})},W))}),H&&!r&&R==="prominent"&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 p-3 bg-gray-50 dark:bg-gray-800 border border-border-default rounded-lg text-sm text-gray-600 dark:text-gray-400",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-lightbulb text-yellow-500"}),s.jsx("span",{children:"Try searching by food name, brand, or category"})]})})]})},Yg=({filterGroups:r,activeFilters:c,onFilterChange:m,onClearFilters:d,onClearFilter:u,className:x="",variant:y="sidebar",showActiveCount:w=!0})=>{_s();const[j,R]=g.useState(new Set(r.filter(T=>T.collapsed).map(T=>T.id))),h=T=>{R(B=>{const N=new Set(B);return N.has(T)?N.delete(T):N.add(T),N})},k=T=>{const B=c.find(Q=>Q.groupId===T.id),N=(B==null?void 0:B.value)||[T.min||0,T.max||100];return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N[0],T.unit," - ",N[1],T.unit]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"range",min:T.min,max:T.max,step:T.step||1,value:N[0],onChange:Q=>{const V=[parseInt(Q.target.value),N[1]];m(T.id,V)},className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),s.jsx("input",{type:"range",min:T.min,max:T.max,step:T.step||1,value:N[1],onChange:Q=>{const V=[N[0],parseInt(Q.target.value)];m(T.id,V)},className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider"})]})]})},E=T=>{var Q;const B=c.find(V=>V.groupId===T.id),N=(B==null?void 0:B.value)||"";return s.jsxs("select",{value:N,onChange:V=>m(T.id,V.target.value),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500",children:[s.jsxs("option",{value:"",children:["All ",T.label]}),(Q=T.options)==null?void 0:Q.map(V=>s.jsxs("option",{value:V.value,children:[V.label," ",V.count?`(${V.count})`:""]},V.id))]})},H=T=>{var Q;const B=c.find(V=>V.groupId===T.id),N=(B==null?void 0:B.value)||[];return s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:(Q=T.options)==null?void 0:Q.map(V=>{const se=N.includes(V.value);return s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 p-2 rounded-md transition-colors",children:[s.jsx("input",{type:"checkbox",checked:se,onChange:Z=>{let re;Z.target.checked?re=[...N,V.value]:re=N.filter(ee=>ee!==V.value),m(T.id,re)},className:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),s.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[V.icon&&s.jsx("i",{className:`${V.icon} text-sm text-gray-500`}),s.jsx("span",{className:"text-sm text-text-default",children:V.label}),V.count&&s.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:V.count})]})]},V.id)})})},O=T=>{const B=c.find(Q=>Q.groupId===T.id),N=(B==null?void 0:B.value)||!1;return s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"checkbox",checked:N,onChange:Q=>m(T.id,Q.target.checked),className:"sr-only"}),s.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${N?"bg-teal-500":"bg-gray-300 dark:bg-gray-600"}`,children:s.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow transform transition-transform ${N?"translate-x-6":"translate-x-1"} mt-1`})})]}),s.jsx("span",{className:"text-sm text-text-default",children:T.label})]})},z=T=>{const B=c.find(Q=>Q.groupId===T.id),N=(B==null?void 0:B.value)||{start:"",end:""};return s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"From"}),s.jsx("input",{type:"date",value:N.start,onChange:Q=>m(T.id,{...N,start:Q.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 dark:text-gray-400 mb-1",children:"To"}),s.jsx("input",{type:"date",value:N.end,onChange:Q=>m(T.id,{...N,end:Q.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 text-sm"})]})]})},q=T=>{const B=j.has(T.id),N=c.some(Q=>Q.groupId===T.id);return s.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[s.jsxs("button",{onClick:()=>h(T.id),className:"flex items-center justify-between w-full p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-text-default",children:T.label}),N&&s.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[N&&s.jsx("button",{onClick:Q=>{Q.stopPropagation(),u(T.id)},className:"text-xs text-gray-500 hover:text-red-500 transition-colors",children:"Clear"}),s.jsx("i",{className:`fas fa-chevron-${B?"down":"up"} text-sm text-gray-400`})]})]}),!B&&s.jsxs("div",{className:"p-3 pt-0",children:[T.type==="select"&&E(T),T.type==="multiselect"&&H(T),T.type==="range"&&k(T),T.type==="date"&&z(T),T.type==="toggle"&&O(T)]})]},T.id)},F={sidebar:"w-full bg-bg-card border border-border-default rounded-lg",dropdown:"absolute top-full left-0 right-0 mt-2 bg-bg-card border border-border-default rounded-lg shadow-lg z-50",inline:"w-full"};return s.jsxs("div",{className:`${F[y]} ${x}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:"fas fa-filter text-teal-500"}),s.jsx("h3",{className:"font-semibold text-text-default",children:"Filters"}),w&&c.length>0&&s.jsx("span",{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 text-xs px-2 py-1 rounded-full",children:c.length})]}),c.length>0&&s.jsx("button",{onClick:d,className:"text-sm text-gray-500 hover:text-red-500 transition-colors",children:"Clear All"})]}),c.length>0&&s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((T,B)=>s.jsxs("div",{className:"flex items-center space-x-2 bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300 px-3 py-1 rounded-full text-sm",children:[s.jsx("span",{children:T.label}),s.jsx("button",{onClick:()=>u(T.groupId),className:"hover:text-red-500 transition-colors",children:s.jsx("i",{className:"fas fa-times text-xs"})})]},`${T.groupId}-${B}`))})}),s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(q)}),s.jsx("style",{jsx:!0,children:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #14b8a6;
          cursor: pointer;
        }
        .slider::-moz-range-thumb {
          height: 20px;
          width: 20px;
          border-radius: 50%;
          background: #14b8a6;
          cursor: pointer;
          border: none;
        }
      `})]})},Gg=({loggedItems:r,offlineQueue:c,onAddFood:m,onRemoveFood:d,targetCalories:u,userName:x,onOpenLogFromMyMeals:y,isOnline:w,onSyncOfflineItems:j,onOpenUPCScanner:R,apiKeyMissing:h,canScanBarcode:k,isPremiumUser:E})=>{const[H,O]=g.useState(!1),[z,q]=g.useState(""),[F,T]=g.useState(""),[B,N]=g.useState(""),[Q,V]=g.useState(""),[se,Z]=g.useState(""),[re,ee]=g.useState(""),[de,me]=g.useState(!1),[W,le]=g.useState(""),[P,L]=g.useState(""),[$,ne]=g.useState([]),[Ne,je]=g.useState(!1),Ve=g.useMemo(()=>[...c].reverse(),[c]),Re=g.useMemo(()=>[...r].reverse(),[r]),ge=r.reduce((I,fe)=>I+fe.calories,0),He=u!==null?u-ge:null,ht=()=>{q(""),T(""),N(""),V(""),Z(""),ee("")},Tt=()=>{z&&F!==""&&(m({id:`manual-${Date.now()}`,name:z,calories:Number(F),servingSize:B||void 0,protein:Q!==""?Number(Q):void 0,carbs:se!==""?Number(se):void 0,fat:re!==""?Number(re):void 0,timestamp:Date.now()},"manual"),me(!0),setTimeout(()=>me(!1),1500),ht(),O(!1))},za=I=>{m({id:`suggestion-${Date.now()}`,name:I.name,calories:I.calories,servingSize:void 0,protein:I.protein,carbs:I.carbs,fat:I.fat,timestamp:Date.now()},"manual"),me(!0),setTimeout(()=>me(!1),1500)},jt="mt-1 block w-full px-4 py-2.5 border border-border-default rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 sm:text-sm placeholder-slate-400 bg-bg-card text-text-default dark:placeholder-slate-500",Mt=Ug(),Ua=g.useMemo(()=>zg(),[u]),ha=[{id:"calories",label:"Calories",type:"range",min:0,max:1e3,step:10,unit:" kcal"},{id:"protein",label:"Protein",type:"range",min:0,max:100,step:1,unit:"g"},{id:"timeOfDay",label:"Time of Day",type:"select",options:[{id:"morning",label:"Morning (6AM-12PM)",value:"morning"},{id:"afternoon",label:"Afternoon (12PM-6PM)",value:"afternoon"},{id:"evening",label:"Evening (6PM-12AM)",value:"evening"},{id:"night",label:"Night (12AM-6AM)",value:"night"}]},{id:"hasMacros",label:"Has Macro Info",type:"toggle"},{id:"hasServingSize",label:"Has Serving Size",type:"toggle"}],Ae=I=>{const fe=new Date(I).getHours();return fe>=6&&fe<12?"morning":fe>=12&&fe<18?"afternoon":fe>=18&&fe<24?"evening":"night"},Ha=I=>I.filter(fe=>{if(P&&!fe.name.toLowerCase().includes(P.toLowerCase()))return!1;for(const bt of $)switch(bt.groupId){case"calories":if(fe.calories<bt.value[0]||fe.calories>bt.value[1])return!1;break;case"protein":if(!fe.protein||fe.protein<bt.value[0]||fe.protein>bt.value[1])return!1;break;case"timeOfDay":if(Ae(fe.timestamp)!==bt.value)return!1;break;case"hasMacros":if(bt.value&&(!fe.protein||!fe.carbs||!fe.fat))return!1;break;case"hasServingSize":if(bt.value&&!fe.servingSize)return!1;break}return!0}),Yt=Ha(Re),yl=Ha(Ve),pl=(I,fe)=>{var Dt;const bt=$.findIndex(Le=>Le.groupId===I),gt=ha.find(Le=>Le.id===I);if(!gt)return;let Ct="";if(gt.type==="range")Ct=`${gt.label}: ${fe[0]}${gt.unit||""} - ${fe[1]}${gt.unit||""}`;else if(gt.type==="toggle")Ct=`${gt.label}: ${fe?"Yes":"No"}`;else if(gt.type==="select"){const Le=(Dt=gt.options)==null?void 0:Dt.find(Ga=>Ga.value===fe);Ct=Le?`${gt.label}: ${Le.label}`:`${gt.label}: ${fe}`}const lt={groupId:I,value:fe,label:Ct};if(bt>=0){const Le=[...$];Le[bt]=lt,ne(Le)}else ne([...$,lt])},Se=()=>ne([]),Os=I=>{ne($.filter(fe=>fe.groupId!==I))},Ba=[...r,...c],Ya=Array.from(new Set(Ba.map(I=>I.name))).filter(I=>I.toLowerCase().includes(P.toLowerCase())).slice(0,5),sa=(I,fe)=>s.jsxs("li",{className:`flex justify-between items-start p-4 border rounded-lg transition-colors shadow-sm 
                    ${fe?"bg-yellow-50 dark:bg-yellow-900/30 border-yellow-300 dark:border-yellow-700 opacity-80":"bg-slate-50 hover:bg-slate-100/70 dark:bg-slate-700/50 dark:hover:bg-slate-600/50 border-border-default"}`,"aria-label":`${I.name}${fe?" (Pending Sync)":""}`,children:[s.jsxs("div",{className:"flex-grow",children:[s.jsxs("p",{className:"font-semibold text-text-default text-base",children:[I.name," ",fe&&s.jsx("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"(Offline)"})]}),s.jsxs("p",{className:"text-sm text-teal-600 dark:text-teal-400 font-medium",children:[I.calories," kcal"]}),s.jsxs("p",{className:"text-xs text-text-alt mt-1 space-x-2",children:[I.servingSize&&`Serving: ${I.servingSize}`,I.protein!==void 0&&s.jsxs("span",{className:"inline-block",children:["P: ",I.protein,"g"]}),I.carbs!==void 0&&s.jsxs("span",{className:"inline-block",children:["C: ",I.carbs,"g"]}),I.fat!==void 0&&s.jsxs("span",{className:"inline-block",children:["F: ",I.fat,"g"]})]})]}),s.jsx("button",{onClick:()=>d(I.id,fe),className:"text-red-500 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors ml-2 flex-shrink-0","aria-label":`Remove ${I.name}${fe?" (Pending Sync)":""}`,children:s.jsx("i",{className:"fas fa-trash-alt fa-fw"})})]},I.id);return s.jsx(Hg,{trigger:de,type:"success",animation:"bounce",children:s.jsxs(Um,{title:"Today's Food Log",icon:"fas fa-apple-alt",iconColor:"text-green-500 dark:text-green-400",animation:"lift",className:"mt-6 sm:mt-8",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(zn,{onClick:y,variant:"primary",icon:"fas fa-book-open",animation:"scale",className:"from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600",children:"Log My Meal"}),s.jsxs(zn,{onClick:R,disabled:h||k&&!k.allowed,variant:"primary",icon:"fas fa-barcode",animation:"scale",className:"from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 relative",children:["Scan UPC",k&&!E&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs px-1.5 py-0.5 rounded-full font-bold animate-pulse",children:k.remaining})]}),s.jsx(zn,{onClick:()=>O(!0),variant:"primary",icon:"fas fa-plus",animation:"scale",className:"from-sky-500 to-cyan-500 hover:from-sky-600 hover:to-cyan-600","data-tooltip":"add-food-button",children:"Add Manually"}),s.jsxs(zn,{onClick:()=>je(!Ne),variant:"ghost",icon:"fas fa-filter",animation:"scale",className:`border-2 ${$.length>0?"border-teal-500 bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-300":"border-gray-300 dark:border-gray-600"} relative`,children:["Filter",$.length>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:$.length})]})]}),(r.length>0||c.length>0)&&s.jsxs("div",{className:"mb-4 space-y-4",children:[s.jsx(Bg,{value:P,onChange:L,onClear:()=>L(""),placeholder:"Search your food log...",suggestions:Ya,onSuggestionSelect:L,icon:"fas fa-search",variant:"compact",size:"md"}),Ne&&s.jsx(Yg,{filterGroups:ha,activeFilters:$,onFilterChange:pl,onClearFilters:Se,onClearFilter:Os,variant:"inline",showActiveCount:!0}),(P||$.length>0)&&s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",Yt.length+yl.length," of ",r.length+c.length," food entries",(P||$.length>0)&&s.jsx("button",{onClick:()=>{L(""),Se()},className:"ml-2 text-teal-600 dark:text-teal-400 hover:text-teal-800 dark:hover:text-teal-200 underline",children:"Clear all"})]})]}),s.jsx("p",{className:"text-sm text-text-alt mb-6",children:Mt}),u!==null&&s.jsxs("div",{className:"mb-6","data-tooltip":"calorie-summary",children:[s.jsx(Ec,{value:ge,max:u,showPercentage:!0,showValue:!0,label:"Daily Calorie Progress",color:ge/u>1.1?"danger":ge/u>.9?"success":ge/u>.6?"warning":"primary",animated:!0,striped:!0,className:"animate-slide-up"}),He!==null&&s.jsx("p",{className:`text-sm mt-1.5 text-right font-medium ${He<0?"text-red-600 dark:text-red-400":"text-green-700 dark:text-green-400"}`,children:He<0?`${Math.abs(He).toLocaleString()} kcal over target`:`${He.toLocaleString()} kcal remaining`})]}),c.length>0&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-100 dark:bg-yellow-800/40 border border-yellow-300 dark:border-yellow-600 rounded-md",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsx("i",{className:"fas fa-cloud-arrow-up mr-2 animate-pulse"}),"You have ",c.length," item(s) logged offline.",w?"":" Connect to sync."]}),w&&s.jsx("button",{onClick:j,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-1.5 px-3 rounded-md text-xs shadow transition-all",children:"Sync Now"})]})}),Ua.length>0&&s.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl border border-teal-200 dark:border-teal-700",children:[s.jsxs("h3",{className:"text-sm font-semibold text-teal-700 dark:text-teal-300 mb-3 flex items-center",children:[s.jsx("i",{className:"fas fa-lightbulb mr-2 animate-pulse"}),"Quick Add Suggestions"]}),s.jsx(gm,{animation:"stagger",delay:150,className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Ua.map((I,fe)=>s.jsx(zn,{onClick:()=>za(I),variant:"ghost",animation:"scale",className:"p-3 bg-white dark:bg-gray-800 border border-teal-200 dark:border-teal-600 hover:border-teal-300 dark:hover:border-teal-500 text-left h-auto",children:s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-xs text-gray-900 dark:text-white truncate",children:I.name}),s.jsxs("p",{className:"text-xs text-teal-600 dark:text-teal-400",children:[I.calories," kcal"]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:I.servingSize})]})},fe))})]}),r.length===0&&c.length===0?s.jsx(hm,{icon:"fas fa-utensils",iconColor:"text-teal-500 dark:text-teal-400",title:"Start Your Food Journey",description:"Track your first meal to begin understanding your nutrition habits.",actionLabel:"Add Your First Food",onAction:()=>O(!0),secondaryActionLabel:k!=null&&k.allowed?"Scan Barcode":void 0,onSecondaryAction:k!=null&&k.allowed?R:void 0,tips:["Start with breakfast to build a consistent tracking habit","Use the barcode scanner for packaged foods","Save frequently eaten foods to your library for quick access"],className:"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800/30 dark:to-gray-900/30 rounded-lg py-8"}):Yt.length===0&&yl.length===0?s.jsx(hm,{icon:"fas fa-search",iconColor:"text-gray-500 dark:text-gray-400",title:"No Food Entries Found",description:P||$.length>0?"No food entries match your search criteria. Try adjusting your filters or search terms.":"You don't have any food entries yet.",actionLabel:P||$.length>0?"Clear Filters":"Add Your First Food",onAction:P||$.length>0?()=>{L(""),Se()}:()=>O(!0),tips:["Use the search bar to find foods by name","Filter by time of day to see meal patterns","Apply calorie or macro filters to analyze your intake"]}):s.jsxs(gm,{animation:"stagger",delay:100,className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2 -mr-2 custom-scrollbar",children:[yl.map(I=>sa(I,!0)),Yt.map(I=>sa(I,!1))]}),s.jsx(ql,{isOpen:H,onClose:()=>{ht(),O(!1)},title:"Add Food Manually",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"manualFoodName",className:"block text-sm font-medium text-text-alt",children:["Food Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"manualFoodName",value:z,onChange:I=>q(I.target.value),className:jt,placeholder:"e.g., Apple",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"manualFoodCalories",className:"block text-sm font-medium text-text-alt",children:["Calories (kcal) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",id:"manualFoodCalories",value:F,onChange:I=>T(I.target.value===""?"":Number(I.target.value)),className:jt,placeholder:"e.g., 95",min:"0",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"manualServingSize",className:"block text-sm font-medium text-text-alt",children:"Serving Size (optional)"}),s.jsx("input",{type:"text",id:"manualServingSize",value:B,onChange:I=>N(I.target.value),className:jt,placeholder:"e.g., 1 medium, 100g"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"manualProtein",className:"block text-xs font-medium text-text-alt",children:"Protein (g)"}),s.jsx("input",{type:"number",id:"manualProtein",value:Q,onChange:I=>V(I.target.value===""?"":Number(I.target.value)),className:jt,placeholder:"e.g., 0.5",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"manualCarbs",className:"block text-xs font-medium text-text-alt",children:"Carbs (g)"}),s.jsx("input",{type:"number",id:"manualCarbs",value:se,onChange:I=>Z(I.target.value===""?"":Number(I.target.value)),className:jt,placeholder:"e.g., 25",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"manualFat",className:"block text-xs font-medium text-text-alt",children:"Fat (g)"}),s.jsx("input",{type:"number",id:"manualFat",value:re,onChange:I=>ee(I.target.value===""?"":Number(I.target.value)),className:jt,placeholder:"e.g., 0.2",min:"0"})]})]}),s.jsx("button",{onClick:Tt,disabled:!z||F===""||Number(F)<=0,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-2.5 px-4 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:opacity-70 disabled:cursor-not-allowed",children:w?"Add Food Item":"Add to Offline Queue"})]})})]})})};function bl(r){const c=g.lazy(r);return c.preload=r,c}function qg(r){"requestIdleCallback"in window?window.requestIdleCallback(()=>{r.forEach(c=>c.preload())}):setTimeout(()=>{r.forEach(c=>c.preload())},1)}class Xg{async shouldRequestReview(c,m,d,u){return u||d&&(new Date().getTime()-new Date(d).getTime())/864e5<30?!1:!!(m.achievedWeightMilestone||m.foodLogStreak7Days||m.logged30Meals||m.completedFirstWeek)}async submitReviewResponse(c,m){}async createInternalTicket(c){}async sendPersonalFollowUp(c){}extractIssues(c){return c.toLowerCase().includes("bug")||c.toLowerCase().includes("crash")?["Technical Issue Reported"]:c.toLowerCase().includes("feature")||c.toLowerCase().includes("suggest")?["Feature Request"]:["General Feedback"]}categorizeReview(c){return c.toLowerCase().includes("bug")||c.toLowerCase().includes("crash")||c.toLowerCase().includes("error")?"technical_issue":c.toLowerCase().includes("feature")||c.toLowerCase().includes("suggest")||c.toLowerCase().includes("idea")?"feature_request":"general_negative"}async handleNegativeReview(c){const m=this.generateReviewResponse(c);await this.submitReviewResponse(c.reviewId,m),await this.createInternalTicket({type:"negative_review",review_content:c.content,user_rating:c.rating,suggested_improvements:this.extractIssues(c.content)}),c.userEmail&&await this.sendPersonalFollowUp(c.userEmail),pe("negative_review_handled_placeholder",{rating:c.rating})}generateReviewResponse(c){const m={technical_issue:"Thank you for your feedback! We're sorry you experienced technical issues. Our team is working on improvements, and we'd love to help resolve this personally. Please contact us at support@dietwise.app with details about the issue.",feature_request:"Thanks for the suggestion! We're always looking to improve DietWise based on user feedback. This feature request has been added to our development roadmap. Follow us for updates!",general_negative:"We appreciate your honest feedback and apologize that DietWise didn't meet your expectations. We'd love the opportunity to make this right - please reach out to our support team so we can help improve your experience."},d=this.categorizeReview(c.content);return m[d]||m.general_negative}}const Ds={DAILY_BARCODE_SCANS:5,DAILY_MEAL_SUGGESTIONS:3,CUSTOM_FOODS_LIMIT:20,CUSTOM_MEALS_LIMIT:10,EXPORT_LIMIT_PER_MONTH:2,MEAL_PLAN_GENERATIONS_PER_MONTH:3},xm="dietwise_usage_limits",Vg=r=>{const[c,m]=g.useState(()=>{const N=localStorage.getItem(xm);if(N){const Q=JSON.parse(N);return d(Q)}return u()});function d(N){const Q=new Date,V=new Date(N.lastResetDate),se=Q.toDateString()!==V.toDateString(),Z=Q.getMonth()!==V.getMonth()||Q.getFullYear()!==V.getFullYear();let re={...N};return se&&(re.dailyBarcodeScans=0,re.dailyMealSuggestions=0),Z&&(re.monthlyExports=0,re.monthlyMealPlans=0),(se||Z)&&(re.lastResetDate=Q.toISOString()),re}function u(){return{dailyBarcodeScans:0,dailyMealSuggestions:0,monthlyExports:0,monthlyMealPlans:0,customFoodsCount:0,customMealsCount:0,lastResetDate:new Date().toISOString()}}g.useEffect(()=>{localStorage.setItem(xm,JSON.stringify(c))},[c]);const x=()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.DAILY_BARCODE_SCANS-c.dailyBarcodeScans;return{allowed:N>0,remaining:N}},y=()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.DAILY_MEAL_SUGGESTIONS-c.dailyMealSuggestions;return{allowed:N>0,remaining:N}},w=()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.EXPORT_LIMIT_PER_MONTH-c.monthlyExports;return{allowed:N>0,remaining:N}};return{usage:c,limits:{canScanBarcode:x,canGetMealSuggestion:y,canExport:w,canExportData:()=>w().allowed,canGenerateMealPlan:()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.MEAL_PLAN_GENERATIONS_PER_MONTH-c.monthlyMealPlans;return{allowed:N>0,remaining:N}},canAddCustomFood:()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.CUSTOM_FOODS_LIMIT-c.customFoodsCount;return{allowed:N>0,remaining:N}},canAddCustomMeal:()=>{if(r)return{allowed:!0,remaining:1/0};const N=Ds.CUSTOM_MEALS_LIMIT-c.customMealsCount;return{allowed:N>0,remaining:N}}},increment:{barcodeScans:()=>{m(N=>({...d(N),dailyBarcodeScans:N.dailyBarcodeScans+1}))},mealSuggestions:()=>{m(N=>({...d(N),dailyMealSuggestions:N.dailyMealSuggestions+1}))},exports:()=>{m(N=>({...d(N),monthlyExports:N.monthlyExports+1}))},mealPlans:()=>{m(N=>({...d(N),monthlyMealPlans:N.monthlyMealPlans+1}))},customFoods:()=>{m(N=>({...N,customFoodsCount:N.customFoodsCount+1}))},customMeals:()=>{m(N=>({...N,customMealsCount:N.customMealsCount+1}))}},decrement:{customFoods:()=>{m(N=>({...N,customFoodsCount:Math.max(0,N.customFoodsCount-1)}))},customMeals:()=>{m(N=>({...N,customMealsCount:Math.max(0,N.customMealsCount-1)}))}}}},Fg="https://dietwise-backend.up.railway.app/api/v1";let kc=localStorage.getItem("authToken");const lr=r=>{kc=r,r?localStorage.setItem("authToken",r):localStorage.removeItem("authToken")};async function sr(r,c={}){const m=`${Fg}${r}`,d={"Content-Type":"application/json",...c.headers};kc&&(d.Authorization=`Bearer ${kc}`);try{const u=await fetch(m,{...c,headers:d}),x=u.headers.get("content-type");if(!x||!x.includes("application/json")){if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);return{}}const y=await u.json();if(!u.ok)throw new Error(y.error||`HTTP error! status: ${u.status}`);return y}catch(u){throw u}}const Ra={get:(r,c)=>sr(r,{...c,method:"GET"}),post:(r,c,m)=>sr(r,{...m,method:"POST",body:JSON.stringify(c)}),put:(r,c,m)=>sr(r,{...m,method:"PUT",body:JSON.stringify(c)}),delete:(r,c)=>sr(r,{...c,method:"DELETE"})},bm={async createCheckoutSession(r){var c,m,d;try{return await Ra.post("/stripe/create-checkout-session",r)}catch(u){throw((c=u.response)==null?void 0:c.status)===400?new Error("Invalid subscription request. Please try again."):((m=u.response)==null?void 0:m.status)===401?new Error("Please log in to subscribe to premium."):((d=u.response)==null?void 0:d.status)===500?new Error("Payment service temporarily unavailable. Please try again later."):navigator.onLine?new Error("Failed to start checkout process. Please try again."):new Error("No internet connection. Please check your connection and try again.")}},async createPortalSession(r){var c,m,d;try{return await Ra.post("/stripe/create-portal-session",{returnUrl:r||window.location.href})}catch(u){throw((c=u.response)==null?void 0:c.status)===401?new Error("Please log in to manage your subscription."):((m=u.response)==null?void 0:m.status)===404?new Error("No subscription found. Please subscribe first."):((d=u.response)==null?void 0:d.status)===500?new Error("Subscription management temporarily unavailable. Please try again later."):navigator.onLine?new Error("Failed to open subscription management. Please try again."):new Error("No internet connection. Please check your connection and try again.")}},async getSubscriptionStatus(){var r;try{return await Ra.get("/stripe/subscription-status")}catch(c){if(((r=c.response)==null?void 0:r.status)===401)return{subscription:{active:!1,plan:null,currentPeriodEnd:null,cancelAtPeriodEnd:!1,status:"unauthenticated"}};throw c}},async hasActiveSubscription(){try{const{subscription:r}=await this.getSubscriptionStatus();return r.active}catch(r){return!1}}},Qg=()=>{const[r,c]=g.useState({isPremium:!1,isLoading:!0,plan:null,currentPeriodEnd:null,cancelAtPeriodEnd:!1});g.useEffect(()=>{m()},[]);const m=async()=>{try{const u=await bm.getSubscriptionStatus(),{subscription:x}=u;c({isPremium:x.active,isLoading:!1,plan:x.plan,currentPeriodEnd:x.currentPeriodEnd?new Date(x.currentPeriodEnd):null,cancelAtPeriodEnd:x.cancelAtPeriodEnd}),localStorage.setItem("premiumStatus",JSON.stringify({isPremium:x.active,plan:x.plan,lastChecked:new Date().toISOString()}))}catch(u){const x=localStorage.getItem("premiumStatus");if(x){const y=JSON.parse(x);c({isPremium:y.isPremium||!1,isLoading:!1,plan:y.plan||null,currentPeriodEnd:null,cancelAtPeriodEnd:!1})}else c(y=>({...y,isLoading:!1}))}};return{...r,checkPremiumStatus:m,openCustomerPortal:async()=>{try{const{url:u}=await bm.createPortalSession();u&&(window.location.href=u)}catch(u){}}}},la={async login(r){try{const c=await Ra.post("/auth/login",r);return c.token&&(lr(c.token),localStorage.setItem("authUser",JSON.stringify(c.user))),c}catch(c){throw c}},async signup(r){try{const c=await Ra.post("/auth/signup",r);return c.token&&(lr(c.token),localStorage.setItem("authUser",JSON.stringify(c.user))),c}catch(c){throw c}},async logout(){try{await Ra.post("/auth/logout")}catch(r){}finally{localStorage.removeItem("authUser"),localStorage.removeItem("premiumStatus"),lr(null)}},async getCurrentUser(){try{return(await Ra.get("/auth/me")).user}catch(r){return null}},async requestPasswordReset(r){try{return await Ra.post("/auth/reset-password",r)}catch(c){throw c}},async updatePassword(r){try{return await Ra.put("/auth/update-password",r)}catch(c){throw c}},isAuthenticated(){return!!localStorage.getItem("authToken")},getStoredUser(){const r=localStorage.getItem("authUser");if(!r)return null;try{return JSON.parse(r)}catch(c){return null}},initializeAuth(){const r=localStorage.getItem("authToken");r&&lr(r)}},$g=()=>{const[r,c]=g.useState({user:null,isAuthenticated:!1,isLoading:!0});g.useEffect(()=>{m()},[]);const m=async()=>{try{if(la.getStoredUser()&&la.isAuthenticated()){la.initializeAuth();const j=await la.getCurrentUser();j?c({user:j,isAuthenticated:!0,isLoading:!1}):(await la.logout(),c({user:null,isAuthenticated:!1,isLoading:!1}))}else c({user:null,isAuthenticated:!1,isLoading:!1})}catch(w){c({user:null,isAuthenticated:!1,isLoading:!1})}},d=g.useCallback(async(w,j)=>{const R=await la.login({email:w,password:j});return c({user:R.user,isAuthenticated:!0,isLoading:!1}),R},[]),u=g.useCallback(async(w,j,R)=>{const h=await la.signup({email:w,password:j,name:R});return c({user:h.user,isAuthenticated:!0,isLoading:!1}),h},[]),x=g.useCallback(async()=>{await la.logout(),c({user:null,isAuthenticated:!1,isLoading:!1})},[]),y=g.useCallback(w=>{c(j=>({...j,user:w})),localStorage.setItem("authUser",JSON.stringify(w))},[]);return{...r,login:d,signup:u,logout:x,updateUser:y,refreshAuth:m}},Zg=(r,c,m,d={})=>{const u=new Qh;u.setFontSize(24),u.setTextColor(20,184,166),u.text("DietWise Nutrition Report",14,20),u.setFontSize(12),u.setTextColor(0,0,0),u.text(`Name: ${c.name||"N/A"}`,14,35),u.text(`Generated: ${Ze(new Date,"PPP")}`,14,42),d.dateRange&&u.text(`Period: ${Ze(d.dateRange.start,"PP")} - ${Ze(d.dateRange.end,"PP")}`,14,49);let x=60,y=r;d.dateRange&&(y=r.filter(h=>{const k=new Date(h.timestamp);return k>=d.dateRange.start&&k<=d.dateRange.end}));const w=y.reduce((h,k)=>{const E=Ze(new Date(k.timestamp),"yyyy-MM-dd");return h[E]||(h[E]=[]),h[E].push(k),h},{});u.setFontSize(16),u.setTextColor(20,184,166),u.text("Daily Summary",14,x),x+=10;const j=Object.entries(w).map(([h,k])=>{const E=k.reduce((q,F)=>q+(F.calories||0),0),H=k.reduce((q,F)=>q+(F.protein||0),0),O=k.reduce((q,F)=>q+(F.carbs||0),0),z=k.reduce((q,F)=>q+(F.fat||0),0);return[Ze(new Date(h),"PP"),E.toFixed(0),H.toFixed(1)+"g",O.toFixed(1)+"g",z.toFixed(1)+"g"]});if(Pi(u,{startY:x,head:[["Date","Calories","Protein","Carbs","Fat"]],body:j,theme:"grid",headStyles:{fillColor:[20,184,166]},margin:{left:14}}),x=u.lastAutoTable.finalY+20,x>200&&(u.addPage(),x=20),u.setFontSize(16),u.setTextColor(20,184,166),u.text("Detailed Food Log",14,x),x+=10,Object.entries(w).forEach(([h,k])=>{x>250&&(u.addPage(),x=20),u.setFontSize(12),u.setTextColor(0,0,0),u.text(Ze(new Date(h),"PPPP"),14,x),x+=8;const E=k.map(H=>[H.name||"Unknown","-",(H.calories||0).toFixed(0),(H.protein||0).toFixed(1)+"g",(H.carbs||0).toFixed(1)+"g",(H.fat||0).toFixed(1)+"g"]);Pi(u,{startY:x,head:[["Food","Brand","Cal","Protein","Carbs","Fat"]],body:E,theme:"striped",headStyles:{fillColor:[94,234,212]},margin:{left:14},columnStyles:{0:{cellWidth:50},1:{cellWidth:40},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:25}}}),x=u.lastAutoTable.finalY+15}),d.includeWeightHistory&&m&&m.length>0){x>200&&(u.addPage(),x=20),u.setFontSize(16),u.setTextColor(20,184,166),u.text("Weight History",14,x),x+=10;const h=m.filter(k=>{if(!d.dateRange)return!0;const E=new Date(k.date);return E>=d.dateRange.start&&E<=d.dateRange.end}).map(k=>[Ze(new Date(k.date),"PP"),k.weight.toFixed(1)+" lbs"]);Pi(u,{startY:x,head:[["Date","Weight"]],body:h,theme:"grid",headStyles:{fillColor:[20,184,166]},margin:{left:14}})}if(d.includeMacroBreakdown){const h=y.reduce((T,B)=>T+(B.calories||0),0),k=y.reduce((T,B)=>T+(B.protein||0),0),E=y.reduce((T,B)=>T+(B.carbs||0),0),H=y.reduce((T,B)=>T+(B.fat||0),0),O=k*4,z=E*4,q=H*9;u.lastAutoTable&&(x=u.lastAutoTable.finalY+20),x>200&&(u.addPage(),x=20),u.setFontSize(16),u.setTextColor(20,184,166),u.text("Macro Breakdown",14,x),x+=10;const F=[["Total Calories",h.toFixed(0)],["Protein",`${k.toFixed(1)}g (${(O/h*100).toFixed(1)}%)`],["Carbohydrates",`${E.toFixed(1)}g (${(z/h*100).toFixed(1)}%)`],["Fat",`${H.toFixed(1)}g (${(q/h*100).toFixed(1)}%)`]];Pi(u,{startY:x,body:F,theme:"plain",margin:{left:14}})}const R=u.getNumberOfPages();for(let h=1;h<=R;h++)u.setPage(h),u.setFontSize(10),u.setTextColor(128,128,128),u.text(`Page ${h} of ${R} - Generated by DietWise Premium`,u.internal.pageSize.getWidth()/2,u.internal.pageSize.getHeight()-10,{align:"center"});return u},Kg=({foodLog:r,userProfile:c,weightLog:m,isPremiumUser:d,onUpgradeClick:u,premiumLimits:x})=>{const[y,w]=g.useState(!1),[j,R]=g.useState(!1),[h,k]=g.useState({dateRange:"7days",includeWeightHistory:!0,includeMacroBreakdown:!0}),E=async()=>{if(!d){u();return}if(!x.canExportData()){u();return}w(!0);try{let H;const O=Wh(new Date);switch(h.dateRange){case"7days":H={start:Nt(nm(O,7)),end:O};break;case"30days":H={start:Nt(nm(O,30)),end:O};break;case"all":H=void 0;break}const z=Zg(r,c,m,{dateRange:H,includeWeightHistory:h.includeWeightHistory,includeMacroBreakdown:h.includeMacroBreakdown}),q=`dietwise-report-${new Date().toISOString().split("T")[0]}.pdf`;z.save(q),x.onExport(),pe("pdf_export_completed",{filename:q,...h}),R(!1)}catch(H){pe("pdf_export_failed",{error:H.message})}finally{w(!1)}};return d?s.jsxs("div",{className:"relative inline-block",children:[s.jsxs("button",{onClick:()=>R(!j),disabled:y,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 disabled:cursor-not-allowed",children:[s.jsx("i",{className:"fas fa-file-pdf mr-2"}),s.jsx("span",{children:y?"Exporting...":"Export PDF"})]}),j&&!y&&s.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50",children:s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-default mb-4",children:"PDF Export Options"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-2",children:"Date Range"}),s.jsxs("select",{value:h.dateRange,onChange:H=>k({...h,dateRange:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500",children:[s.jsx("option",{value:"7days",children:"Last 7 Days"}),s.jsx("option",{value:"30days",children:"Last 30 Days"}),s.jsx("option",{value:"all",children:"All Time"})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.includeWeightHistory,onChange:H=>k({...h,includeWeightHistory:H.target.checked}),className:"mr-2 h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-text-default",children:"Include Weight History"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.includeMacroBreakdown,onChange:H=>k({...h,includeMacroBreakdown:H.target.checked}),className:"mr-2 h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-text-default",children:"Include Macro Breakdown"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:E,className:"flex-1 bg-teal-500 hover:bg-teal-600 text-white font-medium py-2 px-4 rounded-lg shadow hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500",children:[s.jsx("i",{className:"fas fa-download mr-2"}),"Export Now"]}),s.jsx("button",{onClick:()=>R(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200 font-medium py-2 px-4 rounded-lg shadow hover:shadow-md transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400",children:"Cancel"})]})]})})]}):s.jsxs("button",{onClick:u,className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-medium rounded-lg shadow-md hover:shadow-lg transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:[s.jsx("i",{className:"fas fa-file-pdf mr-2"}),s.jsx("span",{children:"Export PDF"}),s.jsx("i",{className:"fas fa-crown ml-2 text-yellow-300"})]})},Wg=({currentTargets:r,onUpdateTargets:c,isPremiumUser:m,onUpgradeClick:d,targetCalories:u,isInitialSetup:x=!1,profileCreationDate:y,isPremiumLoading:w=!1})=>{const[j,R]=g.useState(!1),[h,k]=g.useState(r),[E,H]=g.useState({protein:30,carbs:40,fat:30});g.useEffect(()=>{k(r)},[r]),g.useEffect(()=>{if(u&&u>0){const N=h.protein*4,Q=h.carbs*4,V=h.fat*9,se=N+Q+V;se>0&&H({protein:Math.round(N/se*100),carbs:Math.round(Q/se*100),fat:Math.round(V/se*100)})}},[h,u]);const O=(N,Q)=>{if(!u)return;const V={...E,[N]:Q},se=V.protein+V.carbs+V.fat;if(se>100){const de=se-100,me=Object.keys(V).filter(le=>le!==N),W=de/me.length;me.forEach(le=>{V[le]=Math.max(0,V[le]-W)})}H(V);const Z=Math.round(u*(V.protein/100)/4),re=Math.round(u*(V.carbs/100)/4),ee=Math.round(u*(V.fat/100)/9);k({...h,protein:Z,carbs:re,fat:ee})},z=(N,Q)=>{k({...h,[N]:Q})},q=()=>{c(h),R(!1)},F=()=>{k(r),R(!1)},T=()=>{if(!m){d();return}R(!0)},B=()=>h.protein*4+h.carbs*4+h.fat*9;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-text-default",children:[s.jsx("i",{className:"fas fa-sliders-h mr-2 text-teal-500"}),"Macro Targets"]}),!j&&s.jsx("button",{onClick:T,className:`px-4 py-2 rounded-lg font-medium transition-all ${m?"bg-teal-500 hover:bg-teal-600 text-white":"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white"}`,children:m?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-edit mr-2"}),"Customize"]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-crown mr-2"}),"Upgrade to Customize"]})})]}),!m&&!j&&!x&&!w&&(()=>{if(!y||!localStorage.getItem("premiumStatus"))return!1;const Q=new Date(y).getTime(),V=Date.now(),se=24*60*60*1e3;return!(V-Q<se)})()&&s.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-4",children:[s.jsx("i",{className:"fas fa-lock text-4xl text-gray-400 mb-2"}),s.jsx("p",{className:"text-text-alt font-medium",children:"Premium Feature"})]})}),j?s.jsxs("div",{className:"space-y-6",children:[u&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("i",{className:"fas fa-info-circle mr-2"}),"Adjusting percentages will automatically calculate gram amounts based on your ",u," calorie target."]})}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-text-default",children:"Adjust by Percentage"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm text-text-alt mb-1",children:[s.jsx("span",{children:"Protein"}),s.jsxs("span",{children:[E.protein,"%"]})]}),s.jsx("input",{type:"range",min:"5",max:"50",value:E.protein,onChange:N=>O("protein",parseInt(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-red-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm text-text-alt mb-1",children:[s.jsx("span",{children:"Carbohydrates"}),s.jsxs("span",{children:[E.carbs,"%"]})]}),s.jsx("input",{type:"range",min:"5",max:"70",value:E.carbs,onChange:N=>O("carbs",parseInt(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm text-text-alt mb-1",children:[s.jsx("span",{children:"Fat"}),s.jsxs("span",{children:[E.fat,"%"]})]}),s.jsx("input",{type:"range",min:"5",max:"50",value:E.fat,onChange:N=>O("fat",parseInt(N.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-yellow-500"})]})]}),s.jsxs("div",{className:"text-center text-sm text-text-alt",children:["Total: ",E.protein+E.carbs+E.fat,"%"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-semibold text-text-default",children:"Or Set Exact Amounts"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Protein (g)"}),s.jsx("input",{type:"number",min:"0",max:"500",value:h.protein,onChange:N=>z("protein",parseInt(N.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Carbs (g)"}),s.jsx("input",{type:"number",min:"0",max:"500",value:h.carbs,onChange:N=>z("carbs",parseInt(N.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Fat (g)"}),s.jsx("input",{type:"number",min:"0",max:"200",value:h.fat,onChange:N=>z("fat",parseInt(N.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-text-alt mb-1",children:"Fiber (g)"}),s.jsx("input",{type:"number",min:"0",max:"100",value:h.fiber,onChange:N=>z("fiber",parseInt(N.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500"})]})]}),s.jsx("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-700 rounded-lg",children:s.jsxs("p",{className:"text-sm text-text-alt",children:["Total Calories from Macros: ",s.jsx("span",{className:"font-bold text-text-default",children:B()})]})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:q,className:"flex-1 bg-teal-500 hover:bg-teal-600 text-white font-medium py-2 px-4 rounded-lg shadow hover:shadow-md transition-all",children:[s.jsx("i",{className:"fas fa-save mr-2"}),"Save Targets"]}),s.jsx("button",{onClick:F,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-gray-200 font-medium py-2 px-4 rounded-lg shadow hover:shadow-md transition-all",children:"Cancel"})]})]}):s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:[r.protein,"g"]}),s.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:"Protein"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[r.carbs,"g"]}),s.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Carbs"})]}),s.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[r.fat,"g"]}),s.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Fat"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[r.fiber,"g"]}),s.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Fiber"})]})]})]})},nr=({feature:r,message:c,icon:m="fas fa-crown",onUpgradeClick:d,variant:u="inline",className:x=""})=>{const y=()=>{d()};return u==="overlay"?s.jsx("div",{className:`absolute inset-0 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg flex items-center justify-center z-10 ${x}`,children:s.jsxs("div",{className:"text-center p-6 max-w-sm",children:[s.jsx("i",{className:`${m} text-5xl text-yellow-500 mb-4`}),s.jsx("h3",{className:"text-xl font-bold text-text-default mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-text-alt mb-4",children:c}),s.jsxs("button",{onClick:y,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg transition-all",children:[s.jsx("i",{className:"fas fa-rocket mr-2"}),"Unlock Now"]})]})}):u==="banner"?s.jsx("div",{className:`bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-4 ${x}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:`${m} text-2xl text-yellow-600 dark:text-yellow-400 mr-3`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-default",children:r}),s.jsx("p",{className:"text-sm text-text-alt",children:c})]})]}),s.jsx("button",{onClick:y,className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-medium py-2 px-4 rounded-lg shadow hover:shadow-md transition-all whitespace-nowrap ml-4",children:"Upgrade"})]})}):s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-100 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg ${x}`,children:[s.jsx("i",{className:`${m} text-yellow-600 dark:text-yellow-400`}),s.jsx("span",{className:"text-sm font-medium text-text-default",children:c}),s.jsx("button",{onClick:y,className:"text-sm font-semibold text-yellow-700 dark:text-yellow-300 hover:text-yellow-800 dark:hover:text-yellow-200 underline",children:"Upgrade"})]})},Ig=({onSuccess:r,onSignupClick:c,onForgotPasswordClick:m})=>{const[d,u]=g.useState(""),[x,y]=g.useState(""),[w,j]=g.useState(!1),[R,h]=g.useState(null),[k,E]=g.useState(!1),H=async O=>{O.preventDefault(),h(null),j(!0);try{await la.login({email:d,password:x}),r()}catch(z){h(z.message||"Invalid email or password")}finally{j(!1)}};return s.jsxs("div",{className:"w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(or,{size:"medium",className:"mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-text-default mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-text-alt",children:"Sign in to your DietWise account"})]}),R&&s.jsx(ma,{type:"error",message:R,onClose:()=>h(null),className:"mb-6"}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:d,onChange:O=>u(O.target.value),required:!0,className:"w-full px-4 py-2 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com",disabled:w})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:k?"text":"password",id:"password",value:x,onChange:O=>y(O.target.value),required:!0,className:"w-full px-4 py-2 pr-10 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"",disabled:w}),s.jsx("button",{type:"button",onClick:()=>E(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-alt hover:text-text-default",tabIndex:-1,children:s.jsx("i",{className:`fas ${k?"fa-eye-slash":"fa-eye"}`})})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("button",{type:"button",onClick:m,className:"text-sm text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:"Forgot password?"})}),s.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:cursor-not-allowed",children:w?s.jsx(ur,{size:"sm",color:"text-white",label:"Signing in..."}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Sign In"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-text-alt",children:["Don't have an account?"," ",s.jsx("button",{onClick:c,className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:"Sign up"})]})})]})},Jg=({onSuccess:r,onLoginClick:c})=>{const[m,d]=g.useState(""),[u,x]=g.useState(""),[y,w]=g.useState(""),[j,R]=g.useState(""),[h,k]=g.useState(!1),[E,H]=g.useState(null),[O,z]=g.useState(!1),[q,F]=g.useState(!1),T=async B=>{if(B.preventDefault(),H(null),u!==y){H("Passwords do not match");return}if(u.length<6){H("Password must be at least 6 characters long");return}if(!q){H("Please accept the terms of service and privacy policy");return}k(!0);try{await la.signup({email:m,password:u,name:j||void 0}),r()}catch(N){H(N.message||"Failed to create account")}finally{k(!1)}};return s.jsxs("div",{className:"w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(or,{size:"medium",className:"mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-text-default mb-2",children:"Create Account"}),s.jsx("p",{className:"text-text-alt",children:"Join DietWise to start tracking your nutrition"})]}),E&&s.jsx(ma,{type:"error",message:E,onClose:()=>H(null),className:"mb-6"}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-text-default mb-1",children:"Name (optional)"}),s.jsx("input",{type:"text",id:"name",value:j,onChange:B=>R(B.target.value),className:"w-full px-4 py-2 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"John Doe",disabled:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:m,onChange:B=>d(B.target.value),required:!0,className:"w-full px-4 py-2 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com",disabled:h})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-text-default mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:O?"text":"password",id:"password",value:u,onChange:B=>x(B.target.value),required:!0,minLength:6,className:"w-full px-4 py-2 pr-10 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"",disabled:h}),s.jsx("button",{type:"button",onClick:()=>z(!O),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-alt hover:text-text-default",tabIndex:-1,children:s.jsx("i",{className:`fas ${O?"fa-eye-slash":"fa-eye"}`})})]}),s.jsx("p",{className:"text-xs text-text-alt mt-1",children:"Must be at least 6 characters long"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-text-default mb-1",children:"Confirm Password"}),s.jsx("input",{type:O?"text":"password",id:"confirmPassword",value:y,onChange:B=>w(B.target.value),required:!0,className:"w-full px-4 py-2 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"",disabled:h})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",id:"terms",checked:q,onChange:B=>F(B.target.checked),className:"mt-1 h-4 w-4 text-teal-600 focus:ring-teal-500 border-border-default rounded",disabled:h}),s.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-text-alt",children:["I agree to the"," ",s.jsx("a",{href:"/terms-of-service.html",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy-policy.html",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300",children:"Privacy Policy"})]})]}),s.jsx("button",{type:"submit",disabled:h||!q,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:cursor-not-allowed",children:h?s.jsx(ur,{size:"sm",color:"text-white",label:"Creating account..."}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-user-plus mr-2"}),"Create Account"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-text-alt",children:["Already have an account?"," ",s.jsx("button",{onClick:c,className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:"Sign in"})]})})]})},Pg=({onBackToLogin:r})=>{const[c,m]=g.useState(""),[d,u]=g.useState(!1),[x,y]=g.useState(null),[w,j]=g.useState(!1),R=async h=>{h.preventDefault(),y(null),u(!0);try{await la.requestPasswordReset({email:c}),j(!0)}catch(k){y(k.message||"Failed to send reset email")}finally{u(!1)}};return w?s.jsxs("div",{className:"w-full max-w-md mx-auto text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("i",{className:"fas fa-check-circle text-6xl text-green-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-default mb-4",children:"Check Your Email"}),s.jsxs("p",{className:"text-text-alt mb-6",children:["We've sent a password reset link to ",s.jsx("strong",{children:c}),". Please check your email and follow the instructions to reset your password."]}),s.jsxs("button",{onClick:r,className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:[s.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Login"]})]}):s.jsxs("div",{className:"w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-text-default mb-2",children:"Forgot Password?"}),s.jsx("p",{className:"text-text-alt",children:"Enter your email and we'll send you a reset link"})]}),x&&s.jsx(ma,{type:"error",message:x,onClose:()=>y(null),className:"mb-6"}),s.jsxs("form",{onSubmit:R,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-text-default mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:c,onChange:h=>m(h.target.value),required:!0,className:"w-full px-4 py-2 border border-border-default rounded-lg bg-bg-card text-text-default focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",placeholder:"you@example.com",disabled:d})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 disabled:from-gray-400 disabled:to-gray-500 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all duration-150 disabled:cursor-not-allowed",children:d?s.jsx(ur,{size:"sm",color:"text-white",label:"Sending..."}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-envelope mr-2"}),"Send Reset Link"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("button",{onClick:r,className:"text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium",children:[s.jsx("i",{className:"fas fa-arrow-left mr-2"}),"Back to Login"]})})]})},ex=({isOpen:r,onClose:c,onSuccess:m,initialMode:d="login"})=>{const[u,x]=g.useState(d);Tc.useEffect(()=>{r&&x(d)},[r,d]);const y=()=>{m(),c()},w=()=>{switch(u){case"login":return s.jsx(Ig,{onSuccess:y,onSignupClick:()=>x("signup"),onForgotPasswordClick:()=>x("forgot-password")});case"signup":return s.jsx(Jg,{onSuccess:y,onLoginClick:()=>x("login")});case"forgot-password":return s.jsx(Pg,{onBackToLogin:()=>x("login")})}};return s.jsx(ql,{isOpen:r,onClose:c,title:"Account",size:"lg",children:s.jsx("div",{className:"p-6",children:w()})})},tx={HISTORICAL_DATA_DAYS:7};function ym(r,c="timestamp",m=tx.HISTORICAL_DATA_DAYS){const d=new Date;return d.setDate(d.getDate()-m),r.filter(u=>new Date(u[c])>=d)}const ax=({isOnline:r,pendingItems:c={},lastSyncTime:m,onSync:d,onRetry:u,isSyncing:x=!1,syncProgress:y=0,className:w="",compact:j=!1})=>{_s();const[R,h]=g.useState("none"),[k,E]=g.useState(0),H=Object.values(c).reduce((T,B)=>T+(B||0),0);g.useEffect(()=>{if(r){(async()=>{try{const Q=performance.now();await fetch("/api/ping",{method:"HEAD",cache:"no-cache"}),performance.now()-Q<500?h("good"):h("poor")}catch(Q){h("none")}})();const N=Math.max(H*2,5);E(N)}else h("none")},[r,H]);const O=[{id:"food-logging",label:"Food Logging",icon:"fas fa-utensils",available:!0,description:"Log meals and track calories"},{id:"weight-tracking",label:"Weight Tracking",icon:"fas fa-weight",available:!0,description:"Record weight measurements"},{id:"analytics",label:"Analytics",icon:"fas fa-chart-line",available:!0,description:"View progress and trends"},{id:"food-library",label:"Food Library",icon:"fas fa-book",available:!0,description:"Access saved foods and meals"},{id:"barcode-scan",label:"Barcode Scanning",icon:"fas fa-barcode",available:!1,description:"Requires internet connection"},{id:"ai-features",label:"AI Suggestions",icon:"fas fa-robot",available:!1,description:"Requires internet connection"}],z=()=>r?R==="good"?"fa-wifi":R==="poor"?"fa-signal":"fa-wifi-weak":"fa-wifi-slash",q=()=>r?R==="good"?"text-green-500":R==="poor"?"text-yellow-500":"text-orange-500":"text-red-500",F=T=>{if(!T)return"Never";const B=new Date(T),Q=new Date().getTime()-B.getTime(),V=Math.floor(Q/6e4),se=Math.floor(V/60),Z=Math.floor(se/24);return V<1?"Just now":V<60?`${V}m ago`:se<24?`${se}h ago`:`${Z}d ago`};return j?s.jsxs("div",{className:`bg-bg-card border border-border-default rounded-lg p-3 ${w}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:`fas ${z()} ${q()}`}),s.jsx("span",{className:"text-sm font-medium text-text-default",children:r?"Connected":"Offline Mode"}),H>0&&s.jsxs("span",{className:"bg-orange-100 dark:bg-orange-900/30 text-orange-800 dark:text-orange-300 text-xs px-2 py-1 rounded-full",children:[H," pending"]})]}),r&&H>0&&d&&s.jsx("button",{onClick:d,disabled:x,className:"bg-teal-500 hover:bg-teal-600 disabled:opacity-50 text-white text-xs px-3 py-1 rounded-md transition-colors",children:x?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner animate-spin mr-1"}),"Syncing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-sync mr-1"}),"Sync"]})})]}),x&&y>0&&s.jsx("div",{className:"mt-2",children:s.jsx(Ec,{value:y,max:100,size:"sm",color:"primary",showPercentage:!0})})]}):s.jsx(Um,{title:"Connection Status",icon:z(),iconColor:q(),animation:"fade",className:w,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:`fas ${z()} ${q()} text-lg`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-text-default",children:r?"Connected":"Offline Mode"}),s.jsx("p",{className:"text-sm text-text-alt",children:r?R==="good"?"Strong connection":R==="poor"?"Weak connection":"Checking connection...":"No internet connection"})]})]}),m&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-text-alt",children:"Last sync"}),s.jsx("p",{className:"text-sm font-medium text-text-default",children:F(m)})]})]}),H>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium text-text-default flex items-center",children:[s.jsx("i",{className:"fas fa-clock text-orange-500 mr-2"}),"Pending Sync (",H," items)"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.foodLog&&s.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm font-medium text-orange-800 dark:text-orange-300",children:["Food Log: ",c.foodLog]})}),c.weight&&s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300",children:["Weight: ",c.weight]})}),c.goals&&s.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm font-medium text-purple-800 dark:text-purple-300",children:["Goals: ",c.goals]})}),c.other&&s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-2 rounded-md",children:s.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-300",children:["Other: ",c.other]})})]}),r&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-text-alt",children:["Estimated sync time: ",k,"s"]}),d&&s.jsx("button",{onClick:d,disabled:x,className:"bg-teal-500 hover:bg-teal-600 disabled:opacity-50 text-white px-4 py-2 rounded-md transition-colors",children:x?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner animate-spin mr-2"}),"Syncing..."]}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-sync mr-2"}),"Sync Now"]})})]})]}),x&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-text-default",children:"Syncing data..."}),s.jsxs("span",{className:"text-sm text-text-alt",children:[y,"%"]})]}),s.jsx(Ec,{value:y,max:100,color:"primary",animated:!0,striped:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium text-text-default flex items-center",children:[s.jsx("i",{className:"fas fa-cog text-gray-500 mr-2"}),"Available Features"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:O.map(T=>s.jsxs("div",{className:`
                  flex items-center justify-between p-2 rounded-md border transition-colors
                  ${T.available?"border-green-200 dark:border-green-700 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"}
                `,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("i",{className:`
                      ${T.icon} 
                      ${T.available?"text-green-600 dark:text-green-400":"text-gray-400 dark:text-gray-500"}
                    `}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${T.available?"text-green-800 dark:text-green-300":"text-gray-600 dark:text-gray-400"}`,children:T.label}),s.jsx("p",{className:`text-xs ${T.available?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-500"}`,children:T.description})]})]}),s.jsx("i",{className:`
                    fas 
                    ${T.available?"fa-check-circle text-green-500":"fa-times-circle text-gray-400"}
                  `})]},T.id))})]}),!r&&u&&s.jsxs("button",{onClick:u,className:"w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-md transition-colors",children:[s.jsx("i",{className:"fas fa-redo mr-2"}),"Retry Connection"]})]})})},lx=({theme:r,handleThemeToggle:c,notificationsEnabled:m,setNotificationsEnabled:d,appVersion:u,exportData:x,isPremiumUser:y,onUpgradeClick:w,pdfExportButton:j,isOnline:R=!0,pendingItems:h,lastSyncTime:k,onSync:E,onRetryConnection:H,isSyncing:O=!1,syncProgress:z=0,isAuthenticated:q=!1,user:F=null,onSignIn:T,onSignUp:B,onSignOut:N,onManageSubscription:Q})=>{const{isMobile:V,isTablet:se}=_s();return s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-user mr-2.5 text-blue-500 dark:text-blue-400"}),"Account"]}),q&&F?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsxs("p",{className:"text-text-default font-semibold",children:["Signed in as ",F.email]}),F.name&&s.jsxs("p",{className:"text-sm text-text-alt",children:["Name: ",F.name]}),s.jsx("p",{className:"text-sm text-text-alt",children:"Your data is synced across devices"})]}),y&&s.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-text-default font-semibold",children:[s.jsx("i",{className:"fas fa-crown text-yellow-500 mr-2"}),"Premium Member"]}),s.jsx("p",{className:"text-sm text-text-alt",children:"Access to all premium features"})]}),Q&&s.jsx("button",{onClick:Q,className:"text-sm bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded-lg transition-colors",children:"Manage"})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[!y&&s.jsxs("button",{onClick:w,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all",children:[s.jsx("i",{className:"fas fa-crown mr-2"}),"Upgrade to Premium"]}),s.jsxs("button",{onClick:N,className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all",children:[s.jsx("i",{className:"fas fa-sign-out-alt mr-2"}),"Sign Out"]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-text-alt",children:"Sign in to sync your data across devices and access premium features."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:T,className:"w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all",children:[s.jsx("i",{className:"fas fa-sign-in-alt mr-2"}),"Sign In"]}),s.jsxs("button",{onClick:B,className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold py-3 px-6 rounded-lg shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all",children:[s.jsx("i",{className:"fas fa-user-plus mr-2"}),"Create Account"]})]})]})]}),s.jsxs("div",{className:`bg-bg-card rounded-xl shadow-xl ${V?"p-4":se?"p-6":"p-8"}`,children:[s.jsxs("h2",{className:`${V?"text-lg":se?"text-xl":"text-2xl"} font-semibold text-text-default mb-6 border-b border-border-default pb-4`,children:[s.jsx("i",{className:"fas fa-palette mr-2.5 text-purple-600"}),"Appearance"]}),s.jsxs("div",{className:`flex items-center justify-between ${V?"py-3":"py-4"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:`fas ${r==="dark"?"fa-moon":"fa-sun"} mr-3 ${V?"text-base":"text-lg"} text-text-alt`}),s.jsx("span",{className:`${V?"text-sm":"text-base"} font-medium text-text-default`,children:"Theme"})]}),s.jsx("button",{onClick:c,className:`relative inline-flex items-center rounded-full bg-slate-200 dark:bg-slate-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-bg-default ${V?"h-8 w-14":"h-6 w-11"}`,role:"switch","aria-checked":r==="dark","aria-label":"Toggle dark mode",children:s.jsx("span",{className:`inline-block transform rounded-full bg-white transition-transform duration-200 ${V?`h-6 w-6 ${r==="dark"?"translate-x-7":"translate-x-1"}`:`h-4 w-4 ${r==="dark"?"translate-x-6":"translate-x-1"}`}`})})]})]}),s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-bell mr-2.5 text-orange-600"}),"Notifications"]}),s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("i",{className:"fas fa-bell mr-3 text-lg text-text-alt"}),s.jsx("span",{className:"text-base font-medium text-text-default",children:"Push Notifications"})]}),s.jsx("button",{onClick:()=>d(!m),className:"relative inline-flex h-6 w-11 items-center rounded-full bg-slate-200 dark:bg-slate-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 focus:ring-offset-bg-default",role:"switch","aria-checked":m,"aria-label":"Toggle notifications",children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 ${m?"translate-x-6":"translate-x-1"}`})})]}),s.jsx("p",{className:"text-sm text-text-alt mt-2",children:"Get reminders for meal logging and weigh-ins"})]}),s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-wifi mr-2.5 text-blue-600"}),"Connection & Sync"]}),s.jsx(ax,{isOnline:R,pendingItems:h,lastSyncTime:k,onSync:E,onRetry:H,isSyncing:O,syncProgress:z,compact:!1})]}),s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-download mr-2.5 text-green-600"}),"Export Data"]}),s.jsx("p",{className:"text-text-alt mb-6 text-base",children:"Download your complete diet tracking data as a PDF report"}),j?s.jsx("div",{"data-pdf-export":!0,children:j}):s.jsxs("button",{onClick:y?x:w,className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-150 flex items-center justify-center",children:[s.jsx("i",{className:"fas fa-file-pdf mr-2"}),"Export as PDF",!y&&s.jsx("span",{className:"ml-2 bg-yellow-400 text-yellow-900 text-xs px-2 py-0.5 rounded-full font-bold",children:"Premium"})]})]}),s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl",children:[s.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-6 border-b border-border-default pb-4",children:[s.jsx("i",{className:"fas fa-info-circle mr-2.5 text-sky-600"}),"Legal & About"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"/privacy-policy.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-3 border-b border-border-default hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors rounded px-2",children:[s.jsx("span",{className:"text-base text-text-default",children:"Privacy Policy"}),s.jsx("i",{className:"fas fa-external-link-alt text-text-alt"})]}),s.jsxs("a",{href:"/terms-of-service.html",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between py-3 border-b border-border-default hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors rounded px-2",children:[s.jsx("span",{className:"text-base text-text-default",children:"Terms of Service"}),s.jsx("i",{className:"fas fa-external-link-alt text-text-alt"})]}),s.jsx("div",{className:"pt-4",children:s.jsxs("p",{className:"text-sm text-text-alt",children:["DietWise Version ",u]})})]})]})]})},pm=["Every healthy choice is a step towards a better you","Your journey to wellness starts with a single bite","Small changes today, big results tomorrow","Fuel your body, feed your potential","Progress, not perfection","You are what you eat, so eat amazing","Today's healthy choices are tomorrow's strength","Nourish your body, nurture your soul","Every meal is a chance to love yourself","Your health is an investment, not an expense","Be stronger than your excuses","Good nutrition is self-respect","Healthy eating is a form of self-care","Your body deserves the best fuel","Make food your medicine","Wellness is a journey, not a destination","Choose foods that love you back","A healthy outside starts from the inside","You're one meal away from a good mood","Eat well, live well, be well"],sx=({onComplete:r,duration:c=4e3})=>{const[m,d]=g.useState(!0),[u,x]=g.useState(.5),[y,w]=g.useState(0),[j,R]=g.useState(0),[h]=g.useState(()=>pm[Math.floor(Math.random()*pm.length)]);return g.useEffect(()=>{const k=setTimeout(()=>{w(1),x(1)},100),E=setTimeout(()=>{R(1)},800),H=setTimeout(()=>{w(0)},c-500),O=setTimeout(()=>{d(!1),r()},c);return()=>{clearTimeout(k),clearTimeout(E),clearTimeout(H),clearTimeout(O)}},[r,c]),m?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-teal-600 via-cyan-600 to-blue-700",style:{opacity:y,transition:"opacity 0.5s ease-in-out"},children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-white rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto px-6 text-center",children:[s.jsx("div",{className:"mb-8 flex items-center justify-center",style:{transform:`scale(${u})`,transition:"transform 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:s.jsx("div",{className:"bg-white rounded-full p-6 shadow-2xl mb-4",children:s.jsx("img",{src:"/logo.svg",alt:"DietWise Logo",width:"80",height:"80",className:"w-20 h-20"})})}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4 tracking-wide",children:"DietWise"}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 font-light tracking-wide mb-8",children:"Your Personal Health Companion"}),s.jsx("div",{className:"max-w-md mx-auto px-6",style:{opacity:j,transition:"opacity 0.8s ease-in-out"},children:s.jsxs("p",{className:"text-lg md:text-xl text-white/95 font-medium italic",children:['"',h,'"']})}),s.jsx("div",{className:"mt-8 flex justify-center",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("p",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white/70 text-sm",children:"v1.0.0"}),s.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 hidden",children:s.jsx("div",{className:"w-16 h-1 bg-white/30 rounded-full"})})]}):null},nx=({onComplete:r,onStartFreeTrial:c})=>{const[m,d]=g.useState(0),u=[{title:"Welcome to DietWise",subtitle:"Your Personal Nutrition Companion",content:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-emerald-500/20 to-teal-500/20 backdrop-blur-sm rounded-xl p-6 border border-emerald-400/30",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Track Your Journey"}),s.jsx("p",{className:"text-white/90",children:"Log meals, monitor calories, and track your progress towards your health goals with our intuitive interface."})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 backdrop-blur-sm rounded-xl p-6 border border-blue-400/30",children:[s.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Smart Insights"}),s.jsx("p",{className:"text-white/90",children:"Get personalized recommendations based on your unique profile and dietary needs."})]})]}),icon:"fa-heartbeat"},{title:"Core Features",subtitle:"Everything You Need",content:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-sm rounded-lg p-4 border border-purple-400/30",children:[s.jsx("i",{className:"fas fa-book text-2xl mb-2 text-purple-300"}),s.jsx("h4",{className:"font-semibold",children:"Food Log"}),s.jsx("p",{className:"text-sm text-white/80",children:"Easy meal tracking"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 backdrop-blur-sm rounded-lg p-4 border border-green-400/30",children:[s.jsx("i",{className:"fas fa-chart-line text-2xl mb-2 text-green-300"}),s.jsx("h4",{className:"font-semibold",children:"Progress"}),s.jsx("p",{className:"text-sm text-white/80",children:"Visual weight tracking"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 backdrop-blur-sm rounded-lg p-4 border border-orange-400/30",children:[s.jsx("i",{className:"fas fa-database text-2xl mb-2 text-orange-300"}),s.jsx("h4",{className:"font-semibold",children:"Food Library"}),s.jsx("p",{className:"text-sm text-white/80",children:"Save custom foods"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/20 to-blue-500/20 backdrop-blur-sm rounded-lg p-4 border border-indigo-400/30",children:[s.jsx("i",{className:"fas fa-utensils text-2xl mb-2 text-indigo-300"}),s.jsx("h4",{className:"font-semibold",children:"Meal Ideas"}),s.jsx("p",{className:"text-sm text-white/80",children:"AI-powered suggestions"})]})]}),icon:"fa-rocket"},{title:"Premium Benefits",subtitle:"Unlock Your Full Potential",content:s.jsx("div",{className:"max-w-lg mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-green-400/30",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{className:"fas fa-barcode text-green-400 text-xl"}),s.jsx("h4",{className:"font-semibold text-lg",children:"Unlimited Barcode Scanning"})]}),s.jsx("p",{className:"text-white/90 text-sm ml-8",children:"Scan any product instantly for quick food logging"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-blue-400/30",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{className:"fas fa-brain text-blue-400 text-xl"}),s.jsx("h4",{className:"font-semibold text-lg",children:"Intelligent Meal Planning"})]}),s.jsx("p",{className:"text-white/90 text-sm ml-8",children:"AI-powered weekly meal suggestions tailored to your goals"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-purple-400/30",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{className:"fas fa-chart-pie text-purple-400 text-xl"}),s.jsx("h4",{className:"font-semibold text-lg",children:"Comprehensive Analytics"})]}),s.jsx("p",{className:"text-white/90 text-sm ml-8",children:"Detailed nutrition insights, trends, and progress tracking"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 border border-orange-400/30",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("i",{className:"fas fa-download text-orange-400 text-xl"}),s.jsx("h4",{className:"font-semibold text-lg",children:"PDF Export & Full History"})]}),s.jsx("p",{className:"text-white/90 text-sm ml-8",children:"Export reports and access unlimited data history"})]})]})}),icon:"fa-crown"},{title:"Ready to Transform Your Health?",subtitle:"Pick the perfect plan for your nutrition journey",content:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl p-6 border-2 border-gray-300 text-gray-800 shadow-lg",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Free Plan"}),s.jsx("p",{className:"text-gray-600",children:"Perfect for getting started"}),s.jsx("div",{className:"text-3xl font-bold text-gray-800 mt-3",children:"$0"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Forever free"})]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-check text-green-600 text-lg"}),s.jsx("span",{children:"Basic food logging"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-check text-green-600 text-lg"}),s.jsx("span",{children:"Weight tracking"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-check text-green-600 text-lg"}),s.jsx("span",{children:"15 custom foods/meals"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-check text-green-600 text-lg"}),s.jsx("span",{children:"30-day data history"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-400/90 to-orange-400/90 backdrop-blur-sm rounded-xl p-6 border-2 border-yellow-600 text-gray-900 shadow-xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-3 py-1 rounded-bl-lg text-xs font-semibold",children:"7-Day Free Trial"}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("h3",{className:"text-2xl font-bold flex items-center justify-center mb-2",children:[s.jsx("i",{className:"fas fa-star mr-2 text-yellow-600"}),"Premium Plan"]}),s.jsx("p",{className:"text-gray-800 mb-3",children:"Everything in Free, plus:"}),s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"$4.99"}),s.jsx("p",{className:"text-sm text-gray-700",children:"per month  $49.99/year"})]}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-star text-yellow-600 text-lg"}),s.jsx("span",{className:"font-medium",children:"Unlimited everything"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-star text-yellow-600 text-lg"}),s.jsx("span",{className:"font-medium",children:"Intelligent meal planning"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-star text-yellow-600 text-lg"}),s.jsx("span",{className:"font-medium",children:"Comprehensive analytics"})]}),s.jsxs("li",{className:"flex items-center space-x-3",children:[s.jsx("i",{className:"fas fa-star text-yellow-600 text-lg"}),s.jsx("span",{className:"font-medium",children:"PDF exports & full history"})]})]})]})]}),icon:"fa-gem"}],x=()=>{m<u.length-1?d(m+1):r()},y=()=>{r()},w=()=>{c()},j=u[m];return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-teal-600 via-cyan-600 to-blue-700",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-white rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-2xl mx-auto px-6",children:[s.jsxs("button",{onClick:y,className:"absolute top-8 right-8 text-white/70 hover:text-white transition-colors",children:["Skip ",s.jsx("i",{className:"fas fa-arrow-right ml-1"})]}),m!==u.length-1&&s.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white/70 text-sm",children:[s.jsx("i",{className:"fas fa-hand-pointer mr-2"}),"Tap anywhere to navigate"]}),s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"mb-6",children:s.jsx("i",{className:`fas ${j.icon} text-6xl`})}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3",children:j.title}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8",children:j.subtitle}),s.jsx("div",{className:"mb-12 max-h-[400px] overflow-y-auto custom-scrollbar px-2",children:j.content}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex space-x-2",children:u.map((R,h)=>s.jsx("button",{onClick:()=>d(h),className:`w-2 h-2 rounded-full transition-all ${h===m?"bg-white w-8":"bg-white/40 hover:bg-white/60"}`},h))}),s.jsx("div",{className:"flex space-x-4",children:m===u.length-1?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:r,className:"px-6 py-3 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg font-semibold transition-all",children:"Start Free"}),s.jsx("button",{onClick:w,className:"px-6 py-3 bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-gray-900 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:"Start Free Trial"})]}):s.jsxs("button",{onClick:x,className:"px-8 py-3 bg-white hover:bg-white/90 text-teal-600 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:["Next ",s.jsx("i",{className:"fas fa-arrow-right ml-2"})]})})]})]})]})]})},ix=({onComplete:r,onSkip:c})=>{var H,O,z;const[m,d]=g.useState(0),[u,x]=g.useState({name:null,age:null,sex:null,height:{ft:null,in:null},weight:null,activityLevel:null,targetWeight:null}),y=(q,F)=>{x(T=>({...T,[q]:F}))},w=[{id:"welcome",title:"Let's get to know you",subtitle:"Tell us your name to personalize your experience",isValid:()=>!!u.name&&u.name.trim().length>0,component:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("i",{className:"fas fa-user-circle text-6xl text-white/80 mb-4"})}),s.jsx("input",{type:"text",placeholder:"What's your name?",value:u.name||"",onChange:q=>y("name",q.target.value),className:"w-full px-6 py-4 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",autoFocus:!0}),s.jsx("p",{className:"text-sm text-white/70 text-center",children:"We'll use this to greet you in the app"})]})},{id:"basics",title:`Nice to meet you, ${(H=u.name)==null?void 0:H.split(" ")[0]}!`,subtitle:"Let's set up your basic info",isValid:()=>!!u.age&&!!u.sex,component:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 mb-2 text-center",children:"How old are you?"}),s.jsx("input",{type:"number",placeholder:"Age",value:u.age||"",onChange:q=>y("age",q.target.value?parseInt(q.target.value):null),className:"w-full px-6 py-3 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",min:"1",max:"120"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 mb-3 text-center",children:"Biological sex"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>y("sex",ct.MALE),className:`py-4 px-6 rounded-xl font-medium transition-all ${u.sex===ct.MALE?"bg-white text-teal-600 shadow-lg transform scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx("i",{className:"fas fa-mars mr-2"}),"Male"]}),s.jsxs("button",{onClick:()=>y("sex",ct.FEMALE),className:`py-4 px-6 rounded-xl font-medium transition-all ${u.sex===ct.FEMALE?"bg-white text-teal-600 shadow-lg transform scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx("i",{className:"fas fa-venus mr-2"}),"Female"]})]})]})]})},{id:"measurements",title:"Your current measurements",subtitle:"This helps us calculate your nutritional needs",isValid:()=>{var T,B;const q=((T=u.height)==null?void 0:T.ft)!==null&&((B=u.height)==null?void 0:B.ft)>0,F=u.weight!==null&&u.weight>0;return q&&F},component:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 mb-3 text-center",children:"Height"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",placeholder:"Feet",value:((O=u.height)==null?void 0:O.ft)||"",onChange:q=>y("height",{...u.height,ft:q.target.value?parseInt(q.target.value):null}),className:"w-full px-4 py-3 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",min:"1",max:"8"}),s.jsx("p",{className:"text-xs text-white/60 text-center mt-1",children:"feet"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",placeholder:"Inches",value:((z=u.height)==null?void 0:z.in)||"",onChange:q=>y("height",{...u.height,in:q.target.value?parseInt(q.target.value):null}),className:"w-full px-4 py-3 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",min:"0",max:"11"}),s.jsx("p",{className:"text-xs text-white/60 text-center mt-1",children:"inches"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 mb-3 text-center",children:"Current Weight"}),s.jsx("input",{type:"number",placeholder:"Weight in pounds",value:u.weight||"",onChange:q=>y("weight",q.target.value?parseFloat(q.target.value):null),className:"w-full px-6 py-3 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",min:"10",max:"1000",step:"0.1"}),s.jsx("p",{className:"text-xs text-white/60 text-center mt-1",children:"pounds"})]})]})},{id:"activity",title:"How active are you?",subtitle:"This helps us estimate your daily calorie needs",isValid:()=>!!u.activityLevel,component:s.jsx("div",{className:"space-y-3",children:[{value:Ie.SEDENTARY,label:"Sedentary",desc:"Little or no exercise"},{value:Ie.LIGHT,label:"Light",desc:"Exercise 1-3 days/week"},{value:Ie.MODERATE,label:"Moderate",desc:"Exercise 3-5 days/week"},{value:Ie.ACTIVE,label:"Active",desc:"Exercise 6-7 days/week"},{value:Ie.VERY_ACTIVE,label:"Very Active",desc:"Hard exercise & physical job"}].map(q=>s.jsxs("button",{onClick:()=>y("activityLevel",q.value),className:`w-full p-4 rounded-xl text-left transition-all ${u.activityLevel===q.value?"bg-white text-teal-600 shadow-lg transform scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[s.jsx("div",{className:"font-semibold",children:q.label}),s.jsx("div",{className:"text-sm opacity-80",children:q.desc})]},q.value))})},{id:"goal",title:"What's your goal?",subtitle:"Set a target weight to track your progress",isValid:()=>u.targetWeight!==null&&u.targetWeight>0,component:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-white mb-2",children:["Current: ",u.weight," lbs"]}),u.targetWeight&&u.weight&&s.jsxs("div",{className:"text-lg text-white/80",children:["Goal: ",u.targetWeight>u.weight?"Gain":"Lose"," ",Math.abs(u.targetWeight-u.weight).toFixed(1)," lbs"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/90 mb-3 text-center",children:"Target Weight"}),s.jsx("input",{type:"number",placeholder:"Target weight in pounds",value:u.targetWeight||"",onChange:q=>y("targetWeight",q.target.value?parseFloat(q.target.value):null),className:"w-full px-6 py-3 text-lg bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50 text-center",min:"10",max:"1000",step:"0.1"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 text-white/90 text-sm",children:[s.jsx("i",{className:"fas fa-info-circle mr-2"}),"Healthy weight change is typically 1-2 lbs per week"]})]})}],j=w[m],R=(m+1)/w.length*100,h=()=>{m<w.length-1?(d(m+1),pe("onboarding_step_completed",{step:j.id})):r({...u,profileCreationDate:new Date().toISOString(),startWeight:u.weight})},k=()=>{m>0&&d(m-1)},E=()=>{pe("onboarding_skipped",{step:j.id}),c()};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-teal-600 via-cyan-600 to-blue-700",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),s.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto px-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"h-2 bg-white/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-white transition-all duration-500 ease-out",style:{width:`${R}%`}})}),s.jsxs("p",{className:"text-white/70 text-sm text-center mt-2",children:["Step ",m+1," of ",w.length]})]}),s.jsxs("div",{className:"text-white",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-2",children:j.title}),s.jsx("p",{className:"text-lg text-white/90 text-center mb-8",children:j.subtitle}),s.jsx("div",{className:"mb-8",children:j.component}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("button",{onClick:m===0?E:k,className:"px-6 py-3 text-white/70 hover:text-white transition-colors",children:m===0?"Skip":"Back"}),s.jsxs("button",{onClick:h,disabled:!j.isValid(),className:`px-8 py-3 rounded-xl font-semibold transition-all ${j.isValid()?"bg-white text-teal-600 hover:bg-white/90 shadow-lg hover:shadow-xl":"bg-white/30 text-white/70 cursor-not-allowed"}`,children:[m===w.length-1?"Let's go!":"Next",s.jsx("i",{className:"fas fa-arrow-right ml-2"})]})]})]})]})]})},rx=({userProfile:r,foodLogCount:c,hasCustomFoods:m,onNavigate:d,onDismiss:u})=>{const[x,y]=g.useState(!1),[w,j]=g.useState(()=>localStorage.getItem("onboardingChecklistDismissed")==="true"),R=[{id:"complete-profile",label:"Complete your profile",description:"Add your details to get personalized recommendations",isComplete:O=>{var z;return!!(O.name&&O.age&&O.sex&&((z=O.height)!=null&&z.ft)&&O.weight&&O.activityLevel)},action:()=>d("Profile"),actionLabel:"Go to Profile"},{id:"set-goal",label:"Set your weight goal",description:"Define your target weight for personalized calorie targets",isComplete:O=>!!O.targetWeight,action:()=>d("Profile"),actionLabel:"Set Goal"},{id:"log-first-meal",label:"Log your first meal",description:"Start tracking your daily nutrition",isComplete:(O,z)=>z.foodLogCount>0,action:()=>d("Log Food"),actionLabel:"Log Food"},{id:"save-custom-food",label:"Save a custom food",description:"Build your personal food library",isComplete:(O,z)=>z.hasCustomFoods,action:()=>d("Food Library"),actionLabel:"Add Food"},{id:"explore-meal-ideas",label:"Get AI meal suggestions",description:"Discover meals that fit your calorie goals",isComplete:()=>localStorage.getItem("hasUsedMealIdeas")==="true",action:()=>d("Meal Ideas"),actionLabel:"Explore"}],h=R.filter(O=>O.isComplete(r,{foodLogCount:c,hasCustomFoods:m})).length,k=h/R.length*100,E=h===R.length;g.useEffect(()=>{E&&!w&&setTimeout(()=>{H()},3e3)},[E,w]);const H=()=>{j(!0),localStorage.setItem("onboardingChecklistDismissed","true"),u()};return w?null:x?s.jsx("div",{className:"fixed bottom-4 right-4 z-30",children:s.jsxs("button",{onClick:()=>y(!1),className:"bg-teal-500 text-white rounded-full p-3 shadow-lg hover:bg-teal-600 transition-all",children:[s.jsx("i",{className:"fas fa-tasks"}),h<R.length&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:R.length-h})]})}):s.jsxs("div",{className:"fixed bottom-4 right-4 z-30 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:E?" Setup Complete!":"Getting Started"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>y(!0),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("i",{className:"fas fa-minus"})}),s.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("i",{className:"fas fa-times"})})]})]}),s.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-teal-500 transition-all duration-500",style:{width:`${k}%`}})}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[h," of ",R.length," completed"]})]}),s.jsx("div",{className:"p-4 max-h-96 overflow-y-auto",children:s.jsx("ul",{className:"space-y-3",children:R.map(O=>{const z=O.isComplete(r,{foodLogCount:c,hasCustomFoods:m});return s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full border-2 mt-0.5 ${z?"bg-teal-500 border-teal-500":"border-gray-300 dark:border-gray-600"}`,children:z&&s.jsx("i",{className:"fas fa-check text-white text-xs flex items-center justify-center w-full h-full"})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${z?"text-gray-500 dark:text-gray-400 line-through":"text-gray-900 dark:text-white"}`,children:O.label}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:O.description}),!z&&O.action&&s.jsxs("button",{onClick:()=>{O.action(),pe("onboarding_checklist_action",{item:O.id})},className:"text-xs text-teal-600 hover:text-teal-700 dark:text-teal-400 dark:hover:text-teal-300 font-medium mt-1",children:[O.actionLabel," "]})]})]},O.id)})})}),E&&s.jsx("div",{className:"p-4 bg-teal-50 dark:bg-teal-900/20 border-t border-gray-200 dark:border-gray-700",children:s.jsx("p",{className:"text-sm text-teal-700 dark:text-teal-300",children:"Great job! You're all set up. This checklist will disappear automatically."})})]})},ox=({isOpen:r,onClose:c,onEmailSubmit:m,userName:d})=>{const[u,x]=g.useState(""),[y,w]=g.useState(!1),j=async h=>{if(h.preventDefault(),!(!u||y)){w(!0);try{await m(u),pe("email_capture_submitted",{source:"first_week_completion"}),c()}catch(k){}finally{w(!1)}}},R=()=>{c()};return s.jsx(ql,{isOpen:r,onClose:c,title:"",size:"md",children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/30 mb-6",children:s.jsx("i",{className:"fas fa-trophy text-2xl text-green-600 dark:text-green-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-text-default mb-3",children:d?`Amazing work, ${d}!`:"Amazing work!"}),s.jsx("p",{className:"text-lg text-text-alt mb-6",children:"You've completed your first week of food logging! "}),s.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 dark:from-teal-900/20 dark:to-cyan-900/20 rounded-xl p-6 mb-6 border border-teal-200 dark:border-teal-700",children:[s.jsxs("h3",{className:"text-lg font-semibold text-text-default mb-3",children:[s.jsx("i",{className:"fas fa-chart-line mr-2 text-teal-500"}),"Get Your Weekly Progress Summary"]}),s.jsx("p",{className:"text-text-alt text-sm mb-4",children:"Receive personalized insights delivered to your inbox every Sunday:"}),s.jsxs("ul",{className:"text-left text-sm text-text-alt space-y-2",children:[s.jsxs("li",{children:[s.jsx("i",{className:"fas fa-check text-green-500 mr-2"}),"Weekly calorie and nutrition trends"]}),s.jsxs("li",{children:[s.jsx("i",{className:"fas fa-check text-green-500 mr-2"}),"Progress toward your weight goal"]}),s.jsxs("li",{children:[s.jsx("i",{className:"fas fa-check text-green-500 mr-2"}),"Personalized tips and encouragement"]}),s.jsxs("li",{children:[s.jsx("i",{className:"fas fa-check text-green-500 mr-2"}),"Meal suggestions for the upcoming week"]})]})]}),s.jsx("form",{onSubmit:j,className:"mb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("input",{type:"email",value:u,onChange:h=>x(h.target.value),placeholder:"Enter your email address",className:"flex-1 px-4 py-3 border border-border-default rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-bg-card text-text-default",required:!0}),s.jsx("button",{type:"submit",disabled:!u||y,className:"px-6 py-3 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:y?s.jsx("i",{className:"fas fa-spinner fa-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Get Updates"]})})]})}),s.jsxs("p",{className:"text-xs text-text-alt mb-4",children:[s.jsx("i",{className:"fas fa-shield-alt mr-1 text-green-500"}),"We respect your privacy. Unsubscribe anytime. No spam, ever."]}),s.jsx("button",{onClick:R,className:"text-text-alt hover:text-text-default text-sm underline transition-colors",children:"Maybe later"})]})})},cx=({isVisible:r,isIOS:c,onDismiss:m,onInstall:d})=>{if(!r)return null;const u=()=>{d&&d()},x=()=>{localStorage.setItem("ios-install-dismissed","true"),m()};return s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gradient-to-r from-teal-600 to-cyan-600 text-white p-4 shadow-2xl animate-slide-up",children:[s.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx("i",{className:"fas fa-leaf text-teal-600 text-xl"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"Install DietWise"}),s.jsx("p",{className:"text-xs text-teal-100",children:c?"Tap Share  Add to Home Screen":"Add to home screen for easy access"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[!c&&d&&s.jsx("button",{onClick:u,className:"bg-white text-teal-600 px-3 py-1.5 rounded-md text-xs font-semibold hover:bg-gray-100 transition-colors",children:"Install"}),s.jsx("button",{onClick:x,className:"text-teal-200 hover:text-white p-1","aria-label":"Dismiss install prompt",children:s.jsx("i",{className:"fas fa-times"})})]})]}),c&&s.jsx("div",{className:"mt-3 pt-3 border-t border-teal-500 max-w-md mx-auto",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-teal-100",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("i",{className:"fas fa-share"}),s.jsx("span",{children:"Tap Share"})]}),s.jsx("div",{className:"w-2 h-0.5 bg-teal-400 rounded"}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("i",{className:"fas fa-plus-square"}),s.jsx("span",{children:"Add to Home Screen"})]})]})})]})},ux=({onRefresh:r,children:c,threshold:m=80,disabled:d=!1})=>{const[u,x]=g.useState(0),[y,w]=g.useState(!1),[j,R]=g.useState(!1),h=g.useRef(null),k=g.useRef(0),E=g.useRef(0);g.useEffect(()=>{const z=h.current;if(!z||d)return;const q=B=>{z.scrollTop===0&&(R(!0),k.current=B.touches[0].clientY)},F=B=>{if(!j||y)return;E.current=B.touches[0].clientY;const N=E.current-k.current;N>0&&z.scrollTop===0&&(B.preventDefault(),x(Math.min(N*.5,m+20)))},T=async()=>{if(!(!j||y)){if(u>m){w(!0);try{await r()}catch(B){}finally{w(!1)}}x(0),R(!1)}};return z.addEventListener("touchstart",q,{passive:!0}),z.addEventListener("touchmove",F,{passive:!1}),z.addEventListener("touchend",T),()=>{z.removeEventListener("touchstart",q),z.removeEventListener("touchmove",F),z.removeEventListener("touchend",T)}},[j,u,m,r,y,d]);const H=Math.min(u/m,1),O=u>10;return s.jsxs("div",{ref:h,className:"relative overflow-auto h-full",children:[O&&s.jsx("div",{className:"absolute top-0 left-0 right-0 flex items-center justify-center z-10 bg-gradient-to-b from-teal-50 to-transparent dark:from-teal-900/20 transition-all duration-200",style:{height:`${u}px`,transform:`translateY(-${Math.max(0,u-60)}px)`},children:s.jsx("div",{className:"flex flex-col items-center space-y-2 text-teal-600 dark:text-teal-400",children:y?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-spinner fa-spin text-xl"}),s.jsx("span",{className:"text-xs font-medium",children:"Refreshing..."})]}):u>m?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fas fa-arrow-up text-xl"}),s.jsx("span",{className:"text-xs font-medium",children:"Release to refresh"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-2 border-teal-200 dark:border-teal-700 rounded-full relative",children:s.jsx("div",{className:"absolute inset-0 border-2 border-teal-500 rounded-full transition-all duration-200",style:{clipPath:`polygon(0 ${100-H*100}%, 100% ${100-H*100}%, 100% 100%, 0% 100%)`}})}),s.jsx("span",{className:"text-xs font-medium",children:"Pull to refresh"})]})})}),s.jsx("div",{className:"transition-transform duration-200",style:{transform:`translateY(${y?"60px":O?`${Math.min(u,60)}px`:"0px"})`},children:c})]})},dx=(r={})=>{const{duration:c=4e3,skipOnDev:m=!1}=r,[d,u]=g.useState(!0),[x,y]=g.useState(!1);return g.useEffect(()=>{u(!0);const j=setTimeout(()=>{y(!0)},c);return()=>clearTimeout(j)},[m,c]),{showSplash:d&&!x,isAppReady:x,hideSplash:()=>{u(!1)}}},fx=(r,c,m=50)=>{const[d,u]=g.useState(!1),[x,y]=g.useState(!1),[w,j]=g.useState(!1),[R,h]=g.useState(!1),[k,E]=g.useState("portrait"),[H,O]=g.useState(!1),[z,q]=g.useState(null),F=g.useRef({startX:0,startY:0,currentX:0,currentY:0,threshold:m});g.useEffect(()=>{const Z=navigator.userAgent,re=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(Z),ee=/iPad|iPhone|iPod/.test(Z),de=/Android/.test(Z),me=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;u(re),y(ee),j(de),h(me),ee&&!me&&!localStorage.getItem("ios-install-dismissed")&&O(!0)},[]),g.useEffect(()=>{const Z=()=>{E(window.innerHeight>window.innerWidth?"portrait":"landscape")};return Z(),window.addEventListener("resize",Z),window.addEventListener("orientationchange",Z),()=>{window.removeEventListener("resize",Z),window.removeEventListener("orientationchange",Z)}},[]),g.useEffect(()=>{const Z=re=>{re.preventDefault(),q(re)};return window.addEventListener("beforeinstallprompt",Z),()=>window.removeEventListener("beforeinstallprompt",Z)},[]);const T=g.useCallback((Z=50)=>{"vibrate"in navigator&&navigator.vibrate(Z)},[]),B=g.useCallback(Z=>{const re=Z.touches[0];F.current.startX=re.clientX,F.current.startY=re.clientY},[]),N=g.useCallback(Z=>{if(Z.touches.length>1)return;const re=Z.touches[0];F.current.currentX=re.clientX,F.current.currentY=re.clientY},[]),Q=g.useCallback(()=>{const{startX:Z,startY:re,currentX:ee,currentY:de,threshold:me}=F.current,W=ee-Z,le=de-re,P=Math.abs(W),L=Math.abs(le);P>L&&P>me&&(T(25),W>0&&c?c():W<0&&r&&r())},[r,c,T]),V=g.useCallback(()=>{z&&(z.prompt(),z.userChoice.then(Z=>{Z.outcome,q(null)}))},[z]),se="vibrate"in navigator;return{isMobile:d,isIOS:x,isAndroid:w,isPWA:R,supportsHaptics:se,orientation:k,swipeHandlers:{onTouchStart:B,onTouchMove:N,onTouchEnd:Q},vibrate:T,showIOSInstallPrompt:H,deferredPrompt:z,showInstallPrompt:V}},mx=({isOnline:r,pendingCount:c=0,lastSyncTime:m,onSync:d,onDismiss:u,onRetryConnection:x,position:y="top",persistent:w=!1,showFeatureList:j=!1,autoHide:R=!1,autoHideDelay:h=1e4,className:k=""})=>{const{isMobile:E}=_s(),[H,O]=g.useState(!r),[z,q]=g.useState(!1),[F,T]=g.useState(!1),[B,N]=g.useState(!1);g.useEffect(()=>{if(r&&!H&&!B){if(T(!0),O(!0),R){const ee=setTimeout(()=>{O(!1),T(!1)},h);return()=>clearTimeout(ee)}}else r||(O(!0),T(!1),N(!1))},[r,R,h,H,B]);const Q=()=>{O(!1),r&&N(!0),u==null||u()},V=ee=>{if(!ee)return null;const de=new Date(ee),W=new Date().getTime()-de.getTime(),le=Math.floor(W/6e4);if(le<1)return"just now";if(le<60)return`${le}m ago`;const P=Math.floor(le/60);return P<24?`${P}h ago`:"over a day ago"},se=["Food logging","Weight tracking","View analytics","Manage food library","Access meal plans"],Z=["Barcode scanning","AI suggestions","Data synchronization","Premium features"];if(!H&&!w)return null;const re=s.jsx("div",{className:`
        w-full transition-all duration-500 ease-in-out transform
        ${H?"translate-y-0 opacity-100":y==="top"?"-translate-y-full opacity-0":"translate-y-full opacity-0"}
        ${y==="top"?"top-0":"bottom-0"}
        ${E?"px-4":"px-6"}
        z-40
        ${k}
      `,children:s.jsx("div",{className:`
          mx-auto max-w-7xl rounded-lg shadow-lg border-l-4 backdrop-blur-sm
          ${r?F?"bg-green-50/95 dark:bg-green-900/95 border-green-400 dark:border-green-600":"bg-blue-50/95 dark:bg-blue-900/95 border-blue-400 dark:border-blue-600":"bg-orange-50/95 dark:bg-orange-900/95 border-orange-400 dark:border-orange-600"}
        `,children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("i",{className:`
                    fas text-lg
                    ${r?F?"fa-check-circle text-green-500 animate-bounce":"fa-wifi text-blue-500":"fa-wifi-slash text-orange-500 animate-pulse"}
                  `})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:`font-semibold ${r?"text-green-800 dark:text-green-200":"text-orange-800 dark:text-orange-200"}`,children:r?F?"Connection Restored!":"You're Online":"You're Offline"}),c>0&&s.jsxs("span",{className:"bg-orange-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:[c," pending"]})]}),s.jsx("p",{className:`text-sm mt-1 ${r?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"}`,children:r?F?c>0?`${c} items are ready to sync to the cloud`:"All features are now available and data is synced":m?`Last synced ${V(m)}`:"All features available":"Limited features available. Your data is being saved locally."}),j&&!r&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("button",{onClick:()=>q(!z),className:"text-xs text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-200 flex items-center",children:[s.jsx("span",{className:"mr-1",children:"What works offline?"}),s.jsx("i",{className:`fas fa-chevron-${z?"up":"down"} text-xs`})]}),z&&s.jsxs("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-700 dark:text-green-400 mb-1",children:" Available:"}),s.jsx("ul",{className:"text-green-600 dark:text-green-400 space-y-0.5",children:se.map((ee,de)=>s.jsxs("li",{children:[" ",ee]},de))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-400 mb-1",children:" Limited:"}),s.jsx("ul",{className:"text-gray-600 dark:text-gray-400 space-y-0.5",children:Z.map((ee,de)=>s.jsxs("li",{children:[" ",ee]},de))})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!r&&x&&s.jsxs("button",{onClick:x,className:"bg-orange-500 hover:bg-orange-600 text-white text-sm px-3 py-1 rounded-md transition-colors whitespace-nowrap",children:[s.jsx("i",{className:"fas fa-redo mr-1"}),"Retry"]}),r&&c>0&&d&&s.jsxs("button",{onClick:d,className:"bg-green-500 hover:bg-green-600 text-white text-sm px-3 py-1 rounded-md transition-colors whitespace-nowrap",children:[s.jsx("i",{className:"fas fa-sync mr-1"}),"Sync Now"]}),!w&&s.jsx("button",{onClick:Q,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 p-1","aria-label":"Dismiss",children:s.jsx("i",{className:"fas fa-times"})})]})]})})})});return y==="top"||y==="bottom"?s.jsx("div",{className:`fixed left-0 right-0 ${y==="top"?"top-0":"bottom-0"} z-40 p-4`,children:re}):re},ir={isDemo:window.location.hostname==="jevenson76.github.io",demoUser:{name:"Demo User",age:30,gender:"male",height:{ft:5,in:10},weight:180,activityLevel:"moderately_active",dietGoal:"lose_weight",targetWeight:170,profileCreationDate:"2024-01-01",customMacroTargets:null,isPremium:!1},demoFoodLog:[{id:"1",name:"Banana",calories:105,protein:1.3,carbs:27,fat:.4,fiber:3.1,sugar:14.4,servingSize:"1 medium",timestamp:17193888e5,mealType:"breakfast"},{id:"2",name:"Chicken Breast",calories:165,protein:31,carbs:0,fat:3.6,fiber:0,sugar:0,servingSize:"100g",timestamp:1719405e6,mealType:"lunch"},{id:"3",name:"Brown Rice",calories:216,protein:5,carbs:45,fat:1.8,fiber:3.5,sugar:.7,servingSize:"1 cup cooked",timestamp:17194248e5,mealType:"dinner"}],demoWeightLog:[{id:"1",weight:185,date:"2024-06-01",notes:"Starting weight"},{id:"2",weight:183,date:"2024-06-08",notes:"Week 1 progress"},{id:"3",weight:181,date:"2024-06-15",notes:"Steady progress"},{id:"4",weight:180,date:"2024-06-22",notes:"Current weight"},{id:"5",weight:179,date:"2024-06-26",notes:"Recent weigh-in"}]},Ac=()=>ir.isDemo,vm=()=>({userProfile:ir.demoUser,foodLog:ir.demoFoodLog,weightLog:ir.demoWeightLog}),hx=()=>{const[r,c]=g.useState(!0);return!Ac()||!r?null:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-3 relative",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-1",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:" DietWise Demo Mode"}),s.jsx("p",{className:"text-xs opacity-90",children:"This is a demonstration with sample data. Experience the full nutrition tracking features!"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("a",{href:"https://github.com/jevenson76/dietwise",target:"_blank",rel:"noopener noreferrer",className:"bg-white bg-opacity-20 hover:bg-opacity-30 px-3 py-1 rounded text-xs font-medium transition-colors",children:"View Source"}),s.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-gray-200 transition-colors","aria-label":"Close demo banner",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})})};Mm.register(...Jh);const Nm=bl(()=>xl(()=>import("./MealPlannerComponent-DCx8mzP5-1751136307083.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),jm=bl(()=>xl(()=>import("./ProgressTabComponent-nVekEItK-1751136307083.js"),__vite__mapDeps([8,1,2,9,7,6,10,3,4,5])).then(r=>({default:r.ProgressTabComponent}))),wm=bl(()=>xl(()=>import("./UserStatusDashboard-l-wtnN4T-1751136307083.js"),__vite__mapDeps([11,6,1,2,3,4,5,7]))),Sm=bl(()=>xl(()=>import("./MyLibraryComponent-BBbZNt4i-1751136307083.js"),__vite__mapDeps([12,1,2,3,4,5,6,7])));bl(()=>xl(()=>import("./ReviewPromptModal-BG_IOkw0-1751136307083.js"),__vite__mapDeps([13,1,2,3,4,5,6,7])));const Em=bl(()=>xl(()=>import("./StripeCheckout-CqgRI8Jb-1751136307083.js"),__vite__mapDeps([14,1,2,3,4,5,6,7]))),km=bl(()=>xl(()=>import("./AdvancedAnalytics-DrKneCUo-1751136307083.js"),__vite__mapDeps([15,1,2,7,6,10,3,4,5]))),Am=bl(()=>xl(()=>import("./WeighInTab-BrnSUuQZ-1751136307083.js"),__vite__mapDeps([16,1,2,9,7,6,10,3,4,5])));Mm.defaults.locale="en-US";const wc=()=>crypto.randomUUID(),Yl=({message:r="Loading..."})=>s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-500 mb-3"}),s.jsx("p",{className:"text-text-alt text-sm",children:r})]}),Tm="offlineFoodLogQueue",gx=()=>{const[r,c]=g.useState(()=>{if(Ac())return{...jc,...vm().userProfile};const p=localStorage.getItem("userProfile");try{if(p){const D=JSON.parse(p);if(typeof D=="object"&&D!==null&&("age"in D||"name"in D||"height"in D))return(typeof D.height=="number"||D.height===null||D.height&&(typeof D.height.ft!="number"||typeof D.height.in!="number"))&&(D.height=null),{...jc,...D}}}catch(D){}return jc}),[m,d]=g.useState({bmi:null,bmr:null,tdee:null,targetCalories:null}),[u,x]=g.useState(()=>{if(Ac())return vm().foodLog;const p=localStorage.getItem("foodLog");if(p)try{const D=JSON.parse(p);if(Array.isArray(D))return D}catch(D){}return[]}),[y,w]=g.useState(()=>{const p=localStorage.getItem(Tm);return p?JSON.parse(p):[]}),[j,R]=g.useState(navigator.onLine);g.useEffect(()=>{const p=()=>R(!0),D=()=>R(!1);return window.addEventListener("online",p),window.addEventListener("offline",D),()=>{window.removeEventListener("online",p),window.removeEventListener("offline",D)}},[]);const[h,k]=g.useState(()=>{const p=localStorage.getItem("actualWeightLog");if(p)try{const D=JSON.parse(p);if(Array.isArray(D))return D.sort((U,K)=>pt(U.date).getTime()-pt(K.date).getTime())}catch(D){}return[]}),[E,H]=g.useState(()=>{const p=localStorage.getItem("reminderSettings");if(p)try{return{...fm,...JSON.parse(p)}}catch(D){}return fm}),[O,z]=g.useState(()=>{const p=localStorage.getItem("myFoods");return p?JSON.parse(p):[]}),[q,F]=g.useState(()=>{const p=localStorage.getItem("myMeals");return p?JSON.parse(p):[]}),[T,B]=g.useState(()=>{const p=localStorage.getItem("streakData");return p?JSON.parse(p):og}),[N,Q]=g.useState(()=>{const p=localStorage.getItem("milestones");return p?JSON.parse(p):[]}),[V,se]=g.useState(()=>localStorage.getItem("appTheme")||"light"),[Z,re]=g.useState(!r.profileCreationDate),[ee]=g.useState(()=>{const p=localStorage.getItem("hasSeenOnboarding")==="true",D=localStorage.getItem("onboardingCompletedAt");return p&&D?Date.now()-parseInt(D)<30*60*1e3:!1}),[de,me]=g.useState("Profile"),[W,le]=g.useState("checking"),[P,L]=g.useState(!0),{showSplash:$,hideSplash:ne}=dx(),[Ne,je]=g.useState(null),[Ve,Re]=g.useState(()=>localStorage.getItem("hasShownSetupCompleteMessage")==="true"),[ge,He]=g.useState(()=>localStorage.getItem("lastSyncTime")||""),[ht,Tt]=g.useState(!1),[za,jt]=g.useState(!1),{user:Mt,isAuthenticated:Ua,logout:ha}=$g(),{isPremium:Ae,isLoading:Ha,checkPremiumStatus:Yt,openCustomerPortal:yl}=Qg(),[pl,Se]=g.useState(!1),[Os,Ba]=g.useState(!1),[Ya,sa]=g.useState("login"),[I,fe]=g.useState(!1),[bt,gt]=g.useState(!1),[Ct,lt]=g.useState(!1),[Dt,Le]=g.useState(!1),[Ga,vl]=g.useState(!1),[dr,Nl]=g.useState(()=>!localStorage.getItem("hasSeenOnboarding")&&!r.profileCreationDate),[Xl,Gt]=g.useState(!1),[Vl,jl]=g.useState(()=>Z&&localStorage.getItem("onboardingChecklistDismissed")!=="true"),[Rs,Ls]=g.useState(!1),ut=fx(()=>{const p=Jt.indexOf(de);p<Jt.length-1&&me(Jt[p+1])},()=>{const p=Jt.indexOf(de);p>0&&me(Jt[p-1])}),ga=Vg(Ae);g.useEffect(()=>{localStorage.getItem("refreshPremiumStatus")==="true"&&(localStorage.removeItem("refreshPremiumStatus"),Yt())},[Yt]);const xa=g.useMemo(()=>Ae?u:ym(u),[u,Ae]),Hn=g.useMemo(()=>Ae?h:ym(h),[h,Ae]),Bn=g.useRef(new Xg);g.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(V),localStorage.setItem("appTheme",V)},[V]),g.useEffect(()=>{const p="AIzaSyCik_tWF0_-8SHEnoTJ9dWoxMe1bV93Irk";p.length>10&&p!=="MISSING_API_KEY_RUNTIME_CONSTRUCTOR_DietWise"&&p!=="MISSING_API_KEY_RUNTIME"?le("ok"):le("missing"),qg([Nm,jm,wm,Sm,km,Am,Em])},[]),g.useEffect(()=>{localStorage.setItem("userProfile",JSON.stringify(r));const p=pg(r);d(p),r.profileCreationDate&&Z&&(re(!1),N.find(D=>D.type===Ge.PROFILE_COMPLETE)||_t(Ge.PROFILE_COMPLETE,"Profile Setup Complete!"))},[r,Z,N]),g.useEffect(()=>{localStorage.setItem("foodLog",JSON.stringify(u))},[u]),g.useEffect(()=>{localStorage.setItem(Tm,JSON.stringify(y))},[y]),g.useEffect(()=>{localStorage.setItem("actualWeightLog",JSON.stringify(h))},[h]),g.useEffect(()=>{localStorage.setItem("reminderSettings",JSON.stringify(E))},[E]),g.useEffect(()=>{localStorage.setItem("hasShownSetupCompleteMessage",String(Ve))},[Ve]),g.useEffect(()=>{localStorage.setItem("myFoods",JSON.stringify(O))},[O]),g.useEffect(()=>{localStorage.setItem("myMeals",JSON.stringify(q))},[q]),g.useEffect(()=>{localStorage.setItem("streakData",JSON.stringify(T))},[T]),g.useEffect(()=>{localStorage.setItem("milestones",JSON.stringify(N))},[N]);const Te=g.useCallback(p=>{je(typeof p=="string"?{message:p}:p),setTimeout(()=>{je(null)},5e3)},[]),_t=g.useCallback((p,D,U)=>{Q(K=>{const te=new Date().toISOString().split("T")[0],ie=K.find(ze=>ze.type===p&&ze.value===U&&ze.dateAchieved.startsWith(te)),ve=K.find(ze=>ze.type===p&&U===void 0);if(ie&&(p===Ge.LOGGED_FOOD_X_DAYS_STREAK||p===Ge.WEIGHT_LOSS_X_LBS||p===Ge.LOGGED_X_MEALS)||ve&&(p===Ge.PROFILE_COMPLETE||p===Ge.FIRST_WEEK_COMPLETED||p===Ge.REACHED_TARGET_WEIGHT))return K;const Be={id:`${p}_${U!==void 0?String(U)+"_":""}${new Date().toISOString()}`,type:p,description:D,dateAchieved:new Date().toISOString(),value:U};return Te(` Milestone Unlocked: ${D} `),[...K,Be].sort((ze,nt)=>pt(nt.dateAchieved).getTime()-pt(ze.dateAchieved).getTime())})},[Te]),zs=g.useMemo(()=>xa.filter(p=>_n(new Date,new Date(p.timestamp))===0),[xa]),Yn=g.useMemo(()=>{const p=Ze(Nt(new Date),"yyyy-MM-dd");return u.filter(D=>Ze(Nt(new Date(D.timestamp)),"yyyy-MM-dd")===p)},[u]);g.useEffect(()=>{const p=Ze(Nt(new Date),"yyyy-MM-dd");if(Yn.length>0&&T.lastFoodLogDate!==p){let U=1;if(T.lastFoodLogDate){const K=Nt(pt(T.lastFoodLogDate)),te=Nt(Ih(new Date,-1));Ze(K,"yyyy-MM-dd")===Ze(te,"yyyy-MM-dd")&&(U=T.foodLogStreak+1)}B({foodLogStreak:U,lastFoodLogDate:p}),cg.includes(U)&&_t(Ge.LOGGED_FOOD_X_DAYS_STREAK,`${U}-Day Food Logging Streak!`,U)}if(r.profileCreationDate&&!N.some(U=>U.type===Ge.FIRST_WEEK_COMPLETED)){const U=pt(r.profileCreationDate);_n(new Date,U)>=7&&_t(Ge.FIRST_WEEK_COMPLETED,"First Week with DietWise!")}const D=u.length;ug.forEach(U=>{D>=U&&!N.some(K=>K.type===Ge.LOGGED_X_MEALS&&K.value===U)&&_t(Ge.LOGGED_X_MEALS,`Logged ${U} Meals!`,U)})},[u,T,r.profileCreationDate,_t,N]),g.useEffect(()=>{},[pl,de,Ae]);const Fl=g.useCallback((p,D,U=!1)=>{if(x(K=>[...K,p].sort((te,ie)=>ie.timestamp-te.timestamp)),!U){const K=`I just logged ${p.name} (${p.calories} kcal) with DietWise! Keeping track of my nutrition. #DietWise #HealthyEating`;Te({message:`${p.name} logged successfully!`,shareData:{title:"My DietWise Log!",text:K,url:window.location.href}})}pe("food_added",{name:p.name,calories:p.calories})},[Te]),qt=g.useCallback((p,D)=>{j?Fl(p,D):(w(U=>[...U,{...p,id:wc()}]),Te(`${p.name} added to offline queue. Will sync when online.`),pe("food_added_offline",{name:p.name,calories:p.calories})),D==="scan"&&Ga&&vl(!1)},[j,Fl,Te,Ga]),Fe=g.useCallback(async()=>{if(!j||y.length===0)return;pe("offline_sync_started",{queueSize:y.length});const p=[...y];w([]);let D=0;try{for(const K of p)Fl(K,"manual",!0),D++,await new Promise(te=>setTimeout(te,50));Te(`${D} item(s) synced successfully from offline queue!`);const U=new Date().toISOString();He(U),localStorage.setItem("lastSyncTime",U),pe("offline_sync_success",{syncedCount:D})}catch(U){w(K=>[...p.slice(D),...K]),Te({message:`Error syncing offline items. ${p.length-D} items remain queued.`}),pe("offline_sync_failed",{error:U.message,remainingInQueue:p.length-D})}},[j,y,Fl,Te]);g.useEffect(()=>{j&&y.length>0&&Fe()},[j,y.length,Fe]);const st=g.useCallback(async()=>{jt(!0);try{(await fetch("/api/health",{method:"HEAD",cache:"no-cache"})).ok&&(R(!0),pe("connection_retry_success"))}catch(p){}finally{jt(!1)}},[]);g.useEffect(()=>{j||Tt(!0)},[j]);const ba=g.useCallback(p=>{c(D=>{const U={...p};return!D.profileCreationDate&&(U.name||U.age||U.weight||U.height&&(U.height.ft||U.height.in)||U.sex||U.activityLevel)?(U.profileCreationDate=new Date().toISOString(),U.weight&&!U.startWeight&&(U.startWeight=U.weight)):U.weight&&!U.startWeight&&D.profileCreationDate&&(U.startWeight=U.weight),pe("profile_updated",{fields_changed:Object.keys(p).filter(K=>D[K]!==p[K])}),U})},[]),Us=g.useCallback(p=>{c(D=>{const U={...D,targetWeight:p};return D.weight&&!D.startWeight&&p!==null&&(U.startWeight=D.weight),U})},[]),fr=g.useCallback(p=>{c(D=>({...D,targetDate:p}))},[]),mr=g.useCallback(p=>{c(D=>({...D,customMacroTargets:p}))},[]),Gn=g.useCallback((p,D=!1)=>{D?w(U=>{const K=U.find(te=>te.id===p);return K&&pe("offline_food_removed",{name:K.name}),U.filter(te=>te.id!==p)}):x(U=>{const K=U.find(te=>te.id===p);return K&&pe("food_removed",{name:K.name,calories:K.calories}),U.filter(te=>te.id!==p)})},[]),qa=g.useCallback(p=>{k(U=>{const K=U.findIndex(ie=>ie.date===p.date);let te;if(K>-1){const ie=[...U];ie[K]=p,te=ie}else te=[...U,p];return te.sort((ie,ve)=>pt(ie.date).getTime()-pt(ve.date).getTime())});const D=`Logged my weight on DietWise: ${p.weight} lbs on ${p.date}. Making progress on my health journey! #DietWise #WeightTracking #FitnessJourney`;if(Te({message:`Weigh-in for ${Ze(pt(p.date),"MMM d, yyyy")} saved!`,shareData:{title:"My DietWise Weigh-in!",text:D,url:window.location.href}}),pe("weight_entry_added",{date:p.date,weight:p.weight}),r.targetWeight!==null&&r.startWeight!==null){const U=r.startWeight,K=r.targetWeight,te=p.weight;if(U&&te<=K&&U>K)N.find(ie=>ie.type===Ge.REACHED_TARGET_WEIGHT)||_t(Ge.REACHED_TARGET_WEIGHT,`Reached Target Weight of ${K} lbs!`);else if(U&&te>=K&&U<K)N.find(ie=>ie.type===Ge.REACHED_TARGET_WEIGHT)||_t(Ge.REACHED_TARGET_WEIGHT,`Reached Target Weight of ${K} lbs!`);else{const ie=U?U-te:0;if(U>K&&ie>0){const ve=N.filter(ze=>ze.type===Ge.WEIGHT_LOSS_X_LBS&&typeof ze.value=="number").reduce((ze,nt)=>Math.max(ze,nt.value),0),Be=Math.floor(ie/mm)*mm;Be>ve&&Be>0&&_t(Ge.WEIGHT_LOSS_X_LBS,`Lost ${Be} lbs!`,Be)}}}},[Te,r.targetWeight,r.startWeight,_t,N]),na=g.useCallback((p,D)=>{!("Notification"in window)||Notification.permission!=="granted"||!("serviceWorker"in navigator)||!navigator.serviceWorker.ready||navigator.serviceWorker.ready.then(U=>{U.showNotification(p,D)})},[]),ia=g.useCallback(p=>{H(D=>{const U={...D,...p};if(p.mealReminders){const K={...D.mealReminders};for(const te of Object.keys(p.mealReminders)){const ie=p.mealReminders[te];ie&&(K[te]={...D.mealReminders[te],...ie})}U.mealReminders=K}return Notification.permission==="granted"&&Object.entries(U.mealReminders).forEach(([K,te])=>{if(te.enabled){const[ie,ve]=te.time.split(":").map(Number),Be=new Date,ze=new Date(Nt(Be));ze.setHours(ie,ve,0,0),er(ze)&&Cs(new Date,ze)>=-15&&Cs(new Date,ze)<=5&&na(`Time for ${K}!`,{body:`It's ${te.time}, time for your ${K}.`,icon:"/icons/icon-192x192.png",tag:`dietwise-meal-${K}-${Ze(new Date,"yyyy-MM-dd")}`,data:{url:"/#Log",type:"meal_reminder"}})}}),U})},[na,Ze,Nt,er,Cs]),It=g.useCallback(()=>{const p=new Date;Object.entries(E.mealReminders).forEach(([D,U])=>{if(U.enabled){const[K,te]=U.time.split(":").map(Number),ie=new Date(Nt(p));ie.setHours(K,te,0,0),er(ie)&&Cs(p,ie)>=-15&&Cs(p,ie)<=5&&na(`Time for ${D}!`,{body:`It's ${U.time}, time for your ${D}. Enjoy!`,icon:"/icons/icon-192x192.png",tag:`dietwise-meal-${D}-${Ze(p,"yyyy-MM-dd")}`,data:{url:"/#Log",type:"meal_reminder"}})}})},[E.mealReminders,na,Ze,Nt,er,Cs]),ra=g.useCallback(()=>{const p=Nt(new Date);let D=null;if(E.lastWeighInReminderDismissedDate)try{D=Nt(pt(E.lastWeighInReminderDismissedDate))}catch(te){}if(D&&Ze(D,"yyyy-MM-dd")===Ze(p,"yyyy-MM-dd"))return;let U=null;if(h.length>0)try{U=Nt(pt(h[h.length-1].date))}catch(te){}(U?_n(p,U)>=E.weighInFrequencyDays:!!(r.targetWeight&&(r.weight||r.profileCreationDate)&&(_n(p,r.profileCreationDate?pt(r.profileCreationDate):new Date(0))>=1||r.weight)))&&na("DietWise Weigh-in Reminder",{body:`Time for your weigh-in, ${r.name||"User"}! Keep up the great work.`,icon:"/icons/icon-192x192.png",tag:"dietwise-weigh-in-reminder",data:{url:"/#Progress",type:"weigh_in"}})},[E,h,r,na,Ze,Nt,pt,_n]),Xa=p=>z(D=>[...D,{...p,id:wc()}]),Je=p=>z(D=>D.map(U=>U.id===p.id?p:U)),qn=p=>z(D=>D.filter(U=>U.id!==p)),Xn=p=>{const D={...p,id:wc()};let U=0,K=0,te=0,ie=0;D.ingredients.forEach(ve=>{const Be=O.find(ze=>ze.id===ve.foodId);Be&&(U+=(Be.calories||0)*ve.servings,K+=(Be.protein||0)*ve.servings,te+=(Be.carbs||0)*ve.servings,ie+=(Be.fat||0)*ve.servings)}),D.totalCalories=U,D.totalProtein=K,D.totalCarbs=te,D.totalFat=ie,F(ve=>[...ve,D])},ya=p=>{let D=0,U=0,K=0,te=0;p.ingredients.forEach(ie=>{const ve=O.find(Be=>Be.id===ie.foodId);ve&&(D+=(ve.calories||0)*ie.servings,U+=(ve.protein||0)*ie.servings,K+=(ve.carbs||0)*ie.servings,te+=(ve.fat||0)*ie.servings)}),p.totalCalories=D,p.totalProtein=U,p.totalCarbs=K,p.totalFat=te,F(ie=>ie.map(ve=>ve.id===p.id?p:ve))},Va=p=>F(D=>D.filter(U=>U.id!==p)),Vn=p=>{const D=q.find(U=>U.id===p);if(D){const U={id:`mymeal-${D.id}-${Date.now()}`,name:D.name,calories:D.totalCalories||0,protein:D.totalProtein,carbs:D.totalCarbs,fat:D.totalFat,servingSize:D.description||"1 custom meal",timestamp:Date.now()};qt(U,"my_meal"),Le(!1)}},Fa=g.useMemo(()=>r.age!==null&&r.sex!==null&&r.height!==null&&(r.height.ft!==null||r.height.in!==null)&&r.weight!==null&&r.activityLevel!==null&&r.targetWeight!==null,[r]),Fn=g.useMemo(()=>r.name!==null&&r.weight!==null&&r.targetWeight!==null,[r]);g.useEffect(()=>{Fa&&!Ve&&de!=="Profile"&&(Te(`Welcome, ${r.name||"User"}! Your profile is set up. Explore DietWise features!`),Re(!0),pe("initial_setup_complete_message_shown",{userName:r.name}))},[Fa,Ve,de,r.name,Te]),g.useEffect(()=>{if(Z||Ct||E.hasGivenFeedback)return;const p={completedFirstWeek:N.some(D=>D.type===Ge.FIRST_WEEK_COMPLETED),achievedWeightMilestone:N.some(D=>D.type===Ge.WEIGHT_LOSS_X_LBS||D.type===Ge.REACHED_TARGET_WEIGHT),logged30Meals:N.some(D=>D.type===Ge.LOGGED_X_MEALS&&D.value>=30),foodLogStreak7Days:N.some(D=>D.type===Ge.LOGGED_FOOD_X_DAYS_STREAK&&D.value>=7)};Bn.current.shouldRequestReview(r.email||"anonymous",p,E.lastReviewPromptDate,E.hasGivenFeedback).then(D=>{D&&(lt(!0),ia({lastReviewPromptDate:new Date().toISOString()}))})},[N,Z,Ct,E.lastReviewPromptDate,E.hasGivenFeedback,r.email,ia]),g.useEffect(()=>{const p=N.some(K=>K.type===Ge.FIRST_WEEK_COMPLETED),D=localStorage.getItem("hasEmailCaptured"),U=localStorage.getItem("hasSkippedEmailCapture");p&&!D&&!U&&!r.email&&!Rs&&setTimeout(()=>{Ls(!0)},2e3)},[N,r.email,Rs]),g.useEffect(()=>{Notification.permission==="granted"&&(It(),ra())},[E.mealReminders,It,ra,h]);const hr=async()=>{if(!("Notification"in window)){Te({message:"This browser does not support desktop notification."});return}if(Notification.permission==="granted")Te({message:"Notification permission already granted."}),It(),ra();else if(Notification.permission!=="denied")try{await Notification.requestPermission()==="granted"?(Te({message:"Notification permission granted!"}),It(),ra(),pe("notification_permission_granted")):(Te({message:"Notification permission denied."}),pe("notification_permission_denied"))}catch(p){Te({message:"Could not request notification permission."})}else Te({message:"Notification permission was previously denied. Please enable it in browser settings."})},Jt=["Log Food","Food Library","Meal Ideas","7-Day Plan","Weigh In","Progress","Profile","Settings"],pa=dg(Ae),Pt=()=>{se(p=>p==="light"?"dark":"light")},Ql=(p,D)=>{if(p.length===0){Te({message:"No data to export."});return}try{const U=Object.keys(p[0]),te=[U.join(","),...p.map(Be=>U.map(ze=>{let nt=Be[ze]===null||Be[ze]===void 0?"":String(Be[ze]);return nt=nt.includes(",")||nt.includes('"')||nt.includes(`
`)?`"${nt.replace(/"/g,'""')}"`:nt,nt}).join(","))].join(`
`),ie=new Blob([te],{type:"text/csv;charset=utf-8;"}),ve=document.createElement("a");if(ve.download!==void 0){const Be=URL.createObjectURL(ie);ve.setAttribute("href",Be),ve.setAttribute("download",D),ve.style.visibility="hidden",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(Be),pe("data_exported",{filename:D}),Te({message:`${D} exported successfully.`})}}catch(U){Te({message:"Data export failed."}),pe("data_export_failed",{error:U.message})}},Qn=async p=>{try{c(D=>({...D,email:p})),localStorage.setItem("hasEmailCaptured","true"),Te("Thanks! You'll receive weekly progress summaries every Sunday."),pe("email_captured",{source:"first_week_modal"})}catch(D){throw D}},Qa=async()=>{try{ut!=null&&ut.vibrate&&ut.vibrate(50),await new Promise(p=>setTimeout(p,1e3)),Te("Data refreshed!"),pe("pull_to_refresh_used")}catch(p){}},$l=()=>r.name?r.name.split(" ")[0]:"",Zl=()=>{const p=$l();switch(de){case"Profile":const D=p?`, ${p}`:"";return s.jsxs(s.Fragment,{children:[W==="missing"&&!1,Z&&s.jsx(ma,{type:"info",message:`Welcome to DietWise${D}! Please complete your details below to get started and unlock all features.`,className:"mb-6"}),s.jsx(Ng,{profile:r,metrics:m,onEditProfile:()=>gt(!0)}),s.jsx("div",{className:"mt-6",children:s.jsx(Wg,{currentTargets:r.customMacroTargets||yg(m.targetCalories),onUpdateTargets:mr,isPremiumUser:Ae,isPremiumLoading:Ha,onUpgradeClick:()=>Se(!0),targetCalories:m.targetCalories,isInitialSetup:Z||ee,profileCreationDate:r.profileCreationDate})}),Z&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-text-default mb-4",children:"Complete Your Profile Details"}),s.jsx(vg,{profile:r,onProfileChange:ba})]})]});case"Settings":return s.jsx(lx,{theme:V,handleThemeToggle:Pt,notificationsEnabled:localStorage.getItem("notificationsEnabled")!=="false"&&Notification.permission==="granted",setNotificationsEnabled:U=>{localStorage.setItem("notificationsEnabled",U.toString()),U&&Notification.permission!=="granted"&&hr(),je({message:U?"Notifications enabled":"Notifications disabled"})},appVersion:"1.0.0",exportData:()=>{const U=u.map(te=>({name:te.name,calories:te.calories,protein:te.protein||0,carbs:te.carbs||0,fat:te.fat||0,servingSize:te.servingSize,timestamp:new Date(te.timestamp).toISOString(),date:new Date(te.timestamp).toLocaleDateString()})),K=h.map(te=>({date:te.date,weight:te.weight}));Ql(U,`dietwise-food-log-${new Date().toISOString().split("T")[0]}.csv`),K.length>0&&Ql(K,`dietwise-weight-log-${new Date().toISOString().split("T")[0]}.csv`)},isPremiumUser:Ae,onUpgradeClick:()=>Se(!0),pdfExportButton:s.jsx(Kg,{userProfile:r,foodLog:u,weightEntries:h,calculatedMetrics:m,isPremiumUser:Ae,onUpgradeClick:()=>Se(!0),appVersion:"1.0.0"}),isOnline:j,pendingItems:{foodLog:y.length,weight:0,goals:0,other:0},lastSyncTime:ge,onSync:Fe,onRetryConnection:st,isSyncing:za,syncProgress:0,isAuthenticated:Ua,user:Mt,onSignIn:()=>{sa("login"),Ba(!0)},onSignUp:()=>{sa("signup"),Ba(!0)},onSignOut:ha,onManageSubscription:yl});case"Log Food":return s.jsxs(s.Fragment,{children:[s.jsx(Gg,{loggedItems:zs,offlineQueue:y,onAddFood:(U,K)=>qt(U,K),onRemoveFood:Gn,targetCalories:m.targetCalories,userName:p||r.name,onOpenLogFromMyMeals:()=>Le(!0),isOnline:j,onSyncOfflineItems:Fe,onOpenUPCScanner:()=>vl(!0),apiKeyMissing:W==="missing",canScanBarcode:ga.limits.canScanBarcode(),isPremiumUser:Ae,lastSyncTime:ge,showOfflineBanner:ht,onRetryConnection:st}),pa&&s.jsx(tr,{adClient:Wt.CLIENT_ID,adSlot:Wt.AD_SLOTS.FOOD_LOG_BANNER,...ar.FOOD_LOG,testMode:Wt.TEST_MODE})]});case"Food Library":return s.jsxs(s.Fragment,{children:[!Ae&&O.length+q.length>=15&&s.jsx("div",{className:"mb-4",children:s.jsx(nr,{feature:"Expand Your Food Library",message:"Remove limits and save unlimited custom foods and meals. Never lose your favorite recipes!",icon:"fas fa-book",variant:"banner",onUpgradeClick:()=>Se(!0)})}),s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Food Library..."}),children:s.jsx(Sm,{myFoods:O,myMeals:q,onAddFood:Xa,onUpdateFood:Je,onDeleteFood:qn,onAddMeal:Xn,onUpdateMeal:ya,onDeleteMeal:Va,onLogMeal:U=>Vn(U),apiKeyMissing:W==="missing",userName:p||r.name,targetCalories:m.targetCalories})}),pa&&s.jsx(tr,{adClient:Wt.CLIENT_ID,adSlot:Wt.AD_SLOTS.FOOD_LIBRARY_BANNER,...ar.FOOD_LIBRARY,testMode:Wt.TEST_MODE})]});case"Meal Ideas":return s.jsxs(s.Fragment,{children:[s.jsx(Mg,{calorieTarget:m.targetCalories,isProfileComplete:Fa,userName:r.name,apiKeyMissing:W==="missing",canGetMealSuggestion:ga.limits.canGetMealSuggestion(),onMealSuggestion:ga.increment.mealSuggestions,onUpgradeClick:()=>Se(!0),isPremiumUser:Ae}),pa&&s.jsx(tr,{adClient:Wt.CLIENT_ID,adSlot:Wt.AD_SLOTS.MEAL_IDEAS_RECTANGLE,...ar.MEAL_IDEAS,testMode:Wt.TEST_MODE})]});case"7-Day Plan":return Ae?s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading 7-Day Planner..."}),children:s.jsx(Nm,{calorieTarget:m.targetCalories,isProfileComplete:Fa,apiKeyStatus:W,apiKeyMissing:W==="missing",onPlanGenerated:U=>{const K=`Just generated my 7-day meal plan "${U||"Awesome Plan"}" with DietWise! Ready for a healthy week. #DietWise #MealPlanning #HealthyLifestyle`;Te({message:"7-Day Meal Plan generated successfully!",shareData:{title:"My DietWise Meal Plan!",text:K,url:window.location.href}})}})}):(pl||Se(!0),s.jsxs("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-xl mt-6 sm:mt-8 text-center",children:[s.jsx("i",{className:"fas fa-lock text-4xl text-slate-400 dark:text-slate-500 mb-4"}),s.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-text-default mb-2",children:"Unlock Your 7-Day Meal Plan"}),s.jsx("p",{className:"text-text-alt mb-6",children:"This exclusive feature is part of DietWise Premium. Upgrade to get personalized weekly plans!"}),s.jsxs("button",{onClick:()=>{Se(!0)},className:"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 transition-all",children:[s.jsx("i",{className:"fas fa-crown mr-2"}),"Upgrade to Premium"]})]}));case"Weigh In":return s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Weight Tracker..."}),children:s.jsx(Am,{userProfile:r,weightLog:Hn,onWeightLog:U=>{const K={date:new Date().toISOString().split("T")[0],weight:U};qa(K)},onTargetWeightChange:Us,onTargetDateChange:fr,targetCalories:m.targetCalories,isPremiumUser:Ae,onUpgradeClick:()=>Se(!0)})});case"Progress":return s.jsxs(s.Fragment,{children:[!Ae&&h.length>=5&&s.jsx("div",{className:"mb-4",children:s.jsx(nr,{feature:"Track Your Full Journey",message:"Get advanced progress analytics, unlimited historical data, and detailed insights to reach your goals faster.",icon:"fas fa-trophy",variant:"banner",onUpgradeClick:()=>Se(!0)})}),s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Progress..."}),children:(()=>{try{return s.jsx(jm,{userProfile:r,actualWeightLog:Hn,onAddWeightEntry:qa,reminderSettings:E,onUpdateReminderSettings:ia,isProfileComplete:Fa,currentTheme:V})}catch(U){return s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("p",{className:"text-red-500",children:"Error loading Progress tab"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:U==null?void 0:U.toString()})]})}})()})]});case"Analytics":return s.jsxs(s.Fragment,{children:[s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Analytics..."}),children:s.jsx(km,{foodLog:xa,isPremiumUser:Ae,onUpgradeClick:()=>Se(!0)})}),Ae&&pa&&s.jsx(tr,{adClient:Wt.CLIENT_ID,adSlot:Wt.AD_SLOTS.ANALYTICS_BANNER,...ar.ANALYTICS,testMode:Wt.TEST_MODE})]});default:return null}},gr=p=>{switch(p){case"Profile":return"fas fa-user-cog";case"Settings":return"fas fa-cog";case"Log Food":return"fas fa-apple-alt";case"Food Library":return"fas fa-book-bookmark";case"Meal Ideas":return"fas fa-lightbulb";case"7-Day Plan":return"fas fa-calendar-alt";case"Weigh In":return"fas fa-weight";case"Progress":return"fas fa-chart-line";case"Analytics":return"fas fa-chart-pie";default:return""}},Kl=p=>{const D=!r.name||!r.age||!r.sex||!r.weight||!r.height||!r.height.ft||!r.height.in;if(p!=="Profile"&&D){Te({message:"Please complete your profile first to access other features."});return}(p==="7-Day Plan"||p==="Analytics")&&!Ae?Se(!0):me(p)},wt=()=>{L(!P)},Hs=Fn&&!Z;return $?s.jsx(sx,{onComplete:ne}):dr?s.jsx(nx,{onComplete:()=>{Nl(!1),Gt(!0)},onStartFreeTrial:()=>{Nl(!1),Gt(!0),setTimeout(()=>{I||Se(!0)},100)}}):Xl?s.jsx(ix,{onComplete:p=>{const D={...r,...p};c(D),Gt(!1),localStorage.setItem("hasSeenOnboarding","true"),localStorage.setItem("onboardingCompletedAt",Date.now().toString())},onSkip:()=>{Gt(!1),localStorage.setItem("hasSeenOnboarding","true")}}):s.jsxs("div",{className:`min-h-screen bg-gradient-to-br from-teal-50/70 via-cyan-50/70 to-blue-50/70 dark:from-teal-950/70 dark:via-cyan-950/70 dark:to-blue-950/70 text-text-default flex flex-col theme-${V}`,onTouchStart:ut.swipeHandlers.onTouchStart,onTouchMove:ut.swipeHandlers.onTouchMove,onTouchEnd:ut.swipeHandlers.onTouchEnd,children:[s.jsx(hx,{}),s.jsx("header",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200/50 shadow-lg",children:s.jsxs("div",{className:"container mx-auto max-w-7xl px-4 py-5 flex items-center justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(or,{size:"small",className:"mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight text-gray-800",children:"DietWise"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mt-0.5",children:[r.name?`Welcome back, ${$l()}!`:"Your Personal Nutrition Companion",m.targetCalories&&`  ${m.targetCalories} cal/day`]})]})]})}),Hs&&s.jsx("button",{onClick:wt,className:"p-1.5 rounded-full hover:bg-white/20 focus:outline-none focus:ring-1 focus:ring-white/50 transition-colors ml-4","aria-label":P?"Hide status dashboard":"Show status dashboard",title:P?"Hide status dashboard":"Show status dashboard",children:s.jsx("i",{className:`fas ${P?"fa-eye-slash":"fa-eye"} text-lg sm:text-xl fa-fw`})})]})}),s.jsx("nav",{className:"bg-bg-card shadow-md border-b border-border-default",children:s.jsx("div",{className:"container mx-auto max-w-7xl px-2 sm:px-4 flex justify-center sm:justify-start space-x-0.5 sm:space-x-1 overflow-x-auto custom-scrollbar",children:Jt.map(p=>s.jsxs("button",{onClick:()=>Kl(p),className:`py-3 sm:py-3.5 px-3 sm:px-4 text-xs sm:text-sm font-medium border-b-[3px] transition-all duration-200 ease-in-out focus:outline-none focus:ring-1 focus:ring-teal-400 focus:ring-opacity-50 whitespace-nowrap flex items-center group
                ${de===p?"border-teal-500 dark:border-teal-400 text-teal-600 dark:text-teal-400 bg-teal-50 dark:bg-teal-900/30":"border-transparent text-slate-500 dark:text-slate-400 hover:text-teal-500 dark:hover:text-teal-400 hover:border-teal-300 dark:hover:border-teal-500 hover:bg-teal-50/50 dark:hover:bg-teal-800/20"}`,"aria-current":de===p?"page":void 0,children:[s.jsx("i",{className:`${gr(p)} fa-fw mr-1.5 sm:mr-2 text-base ${de===p?"text-teal-500 dark:text-teal-400":"text-slate-400 dark:text-slate-500 group-hover:text-teal-500 dark:group-hover:text-teal-400"}`}),p,(p==="7-Day Plan"||p==="Analytics")&&!Ae&&s.jsx("i",{className:"fas fa-star text-yellow-400 text-sm ml-1.5 -mr-0.5 transform group-hover:scale-110 transition-transform duration-150",title:"Premium Feature"})]},p))})}),ht&&s.jsx(mx,{isOnline:j,pendingCount:y.length,lastSyncTime:ge,onSync:Fe,onDismiss:()=>Tt(!1),onRetryConnection:st,position:"top",showFeatureList:!0,autoHide:j,autoHideDelay:8e3}),s.jsx("main",{className:"container mx-auto max-w-5xl p-4 md:p-6 flex-grow w-full",children:ut!=null&&ut.isMobile?s.jsxs(ux,{onRefresh:Qa,children:[!Ae&&u.length>=10&&de==="Log Food"&&s.jsx("div",{className:"mb-4",children:s.jsx(nr,{feature:"You're doing great!",message:"Unlock unlimited barcode scans, advanced analytics, and more premium features to supercharge your diet tracking.",icon:"fas fa-chart-line",variant:"banner",onUpgradeClick:()=>Se(!0)})}),Ne&&s.jsx(ma,{type:"success",message:Ne.message,shareData:Ne.shareData,onClose:()=>je(null),className:"mb-4"}),W==="checking"&&de!=="Profile"&&s.jsx(ma,{type:"info",message:"Verifying AI integration status...",className:"mb-4"}),Hs&&P&&s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Dashboard..."}),children:s.jsx(wm,{userProfile:r,actualWeightLog:h,reminderSettings:E,streakData:T,onNavigateToMealIdeas:()=>Kl("Meal Ideas")})}),N.length>0&&de==="Progress"&&s.jsxs("div",{className:"mt-8 bg-bg-card p-6 rounded-xl shadow-xl",children:[s.jsxs("h3",{className:"text-xl font-semibold text-text-default mb-4 pb-3 border-b border-border-default",children:[s.jsx("i",{className:"fas fa-trophy mr-2.5 text-yellow-500 dark:text-yellow-400"}),"Achievements"]}),s.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar",children:N.slice().reverse().map(p=>s.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-md shadow-sm text-sm",children:[s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[Ze(pt(p.dateAchieved),"MMM d, yyyy"),":"]})," ",p.description]},p.id))})]}),Zl()]}):s.jsxs(s.Fragment,{children:[!Ae&&u.length>=10&&de==="Log Food"&&s.jsx("div",{className:"mb-4",children:s.jsx(nr,{feature:"You're doing great!",message:"Unlock unlimited barcode scans, advanced analytics, and more premium features to supercharge your diet tracking.",icon:"fas fa-chart-line",variant:"banner",onUpgradeClick:()=>Se(!0)})}),Ne&&s.jsx(ma,{type:"success",message:Ne.message,shareData:Ne.shareData,onClose:()=>je(null)}),N.length>0&&de==="Progress"&&s.jsxs("div",{className:"mt-8 bg-bg-card p-6 rounded-xl shadow-xl",children:[s.jsxs("h3",{className:"text-xl font-semibold text-text-default mb-4 pb-3 border-b border-border-default",children:[s.jsx("i",{className:"fas fa-trophy mr-2.5 text-yellow-500 dark:text-yellow-400"}),"Achievements"]}),s.jsx("ul",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar",children:N.slice().reverse().map(p=>s.jsxs("li",{className:"p-3 bg-slate-100 dark:bg-slate-700 rounded-md shadow-sm text-sm",children:[s.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[Ze(pt(p.dateAchieved),"MMM d, yyyy"),":"]})," ",p.description]},p.id))})]}),Zl()]})}),Vl&&s.jsx(rx,{userProfile:r,foodLogCount:u.length,hasCustomFoods:O.length>0,onNavigate:p=>{const D={Profile:"Profile","Log Food":"Log Food","Food Library":"Food Library","Meal Ideas":"Meal Ideas"};D[p]&&Kl(D[p])},onDismiss:()=>jl(!1)}),Ga&&s.jsx(Lg,{onFoodScanned:p=>{qt(p,"scan"),vl(!1)},apiKeyMissing:W==="missing",isOpen:Ga,onClose:()=>vl(!1),canScanBarcode:ga.limits.canScanBarcode(),onBarcodeScan:ga.increment.barcodeScans,onUpgradeClick:()=>{vl(!1),Se(!0)}}),s.jsx(ql,{isOpen:Dt,onClose:()=>Le(!1),title:"Log from My Meals",size:"lg",children:q.length===0?s.jsx("p",{className:"text-text-alt text-center py-4",children:"You haven't created any meals yet. Go to the 'Food Library' tab to add some!"}):s.jsx("ul",{className:"space-y-3 max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:q.map(p=>{var D;return s.jsxs("li",{className:"p-4 border border-border-default rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-text-default",children:p.name}),s.jsxs("p",{className:"text-xs text-text-alt",children:[((D=p.totalCalories)==null?void 0:D.toFixed(0))||0," kcal"]})]}),s.jsx("button",{onClick:()=>Vn(p.id),className:"bg-teal-500 hover:bg-teal-600 text-white font-medium py-1.5 px-3 rounded-md text-sm shadow",children:"Log Meal"})]},p.id)})})}),s.jsx(ql,{isOpen:pl&&!Ae,onClose:()=>{Se(!1)},title:"",size:"md",children:s.jsx(g.Suspense,{fallback:s.jsx(Yl,{message:"Loading Checkout..."}),children:s.jsx(Em,{onClose:()=>{Se(!1)},customerEmail:(Mt==null?void 0:Mt.email)||r.email||void 0,selectedPlan:"yearly"})})}),s.jsx(ex,{isOpen:Os,onClose:()=>Ba(!1),onSuccess:()=>{Ya==="signup"&&(fe(!0),me("Log Food"),setTimeout(()=>fe(!1),5e3)),Ya==="login"?Yt():setTimeout(()=>Yt(),2e3)},initialMode:Ya}),s.jsx(jg,{isOpen:bt,onClose:()=>gt(!1),profile:r,onSave:ba}),s.jsx(ox,{isOpen:Rs,onClose:()=>{Ls(!1),localStorage.setItem("hasSkippedEmailCapture","true")},onEmailSubmit:Qn,userName:r.name}),s.jsx(cx,{isVisible:ut.showIOSInstallPrompt||!!ut.deferredPrompt,isIOS:ut.isIOS,onDismiss:()=>{},onInstall:ut.showInstallPrompt}),s.jsxs("footer",{className:"bg-slate-800 dark:bg-slate-900 text-slate-300 dark:text-slate-400 text-center p-8 mt-16 border-t border-slate-700 dark:border-slate-600",children:[s.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Wizard Tech, LLC."]}),s.jsx("p",{className:"text-xs mt-2 opacity-80",children:"This tool is for informational purposes only. Always consult with a healthcare professional before making significant changes to your diet or exercise routine."})]})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("ServiceWorker registration successful")}).catch(r=>{console.error("ServiceWorker registration failed: ",r)})});const xx=ig.createRoot(document.getElementById("root"));xx.render(s.jsx(Tc.StrictMode,{children:s.jsx(gx,{})}));export{La as A,or as D,Cg as E,Yg as F,ur as L,ql as M,Bg as S,ma as a,zm as b,_g as c,hm as d,_s as e,kg as f,kx as g,Og as h,Um as i,s as j,Ex as k,bm as s,pe as t,Ax as u,_m as v};
