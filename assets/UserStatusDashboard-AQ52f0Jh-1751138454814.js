import{u as k,j as e,e as S,d as D}from"./index-CocNiPHx-1751138454814.js";import{L as p,l as N,D as F,u as y,I as C}from"./date-vendor-B5WjnTJ1-1751138454814.js";import"./stripe-vendor-yG7JauXe-1751138454814.js";import"./react-vendor-DV_4xMyD-1751138454814.js";import"./pdf-vendor-CpLYJK3k-1751138454814.js";import"./ai-vendor-D-53sdHu-1751138454814.js";import"./scanner-vendor-UkOZGUfT-1751138454814.js";import"./chart-vendor-QA3Wtuko-1751138454814.js";const M=({children:s,cols:r={xs:1,sm:2,md:3,lg:4},gap:i=4,className:d=""})=>{const t=`repeat(${k(r)||1}, minmax(0, 1fr))`,g=typeof i=="number"?`${i*.25}rem`:i;return e.jsx("div",{className:`grid ${d}`,style:{gridTemplateColumns:t,gap:g},children:s})},q=({userProfile:s,actualWeightLog:r,reminderSettings:i,streakData:d,onNavigateToMealIdeas:b})=>{const{isMobile:t,isTablet:g}=S();if(!s.name||s.weight===null||s.targetWeight===null)return e.jsx("div",{className:"bg-bg-card p-6 sm:p-8 rounded-xl shadow-lg mb-6 sm:mb-8 border border-border-default",children:e.jsx(D,{icon:"fas fa-user-circle",iconColor:"text-teal-500 dark:text-teal-400",title:"Complete Your Profile",description:"Add your name, current weight, and target weight to see your personalized dashboard.",actionLabel:"Go to Settings",onAction:()=>window.dispatchEvent(new CustomEvent("navigate-to-settings")),tips:["See your progress at a glance","Track your weight loss journey","Get personalized meal suggestions"]})});const n=typeof s.weight=="number"?r.length>0?r[r.length-1].weight:s.weight:0,o=typeof s.targetWeight=="number"?s.targetWeight:n,l=typeof s.startWeight=="number"?s.startWeight:r.length>0?r[0].weight:n,u=s.startWeight&&r.length>0&&p(r[0].date)<p(s.profileCreationDate||new Date().toISOString())?r[0].date:s.profileCreationDate,w=o-n,f=n-l;let a=0;if(l&&l!==o){const m=l-o,c=l-n;m!==0?l<o?a=Math.max(0,Math.min(100,(n-l)/(o-l)*100)):a=Math.max(0,Math.min(100,c/m*100)):n===o&&(a=100),(isNaN(a)||!isFinite(a))&&(a=0)}else n===o&&l===o&&(a=100);let x="";const j=N(new Date);let h=null;if(r.length>0)try{h=N(p(r[r.length-1].date))}catch(m){}if(h){const m=F(h,i.weighInFrequencyDays),c=y(m,j);c<=0?x=y(j,h)>=i.weighInFrequencyDays?"Overdue!":"Today!":x=`${c} day${c>1?"s":""}`}else x="Log first weigh-in";const v=()=>a>=80?"bg-green-500":a>=50?"bg-yellow-500":a>0?"bg-sky-500":"bg-slate-400 dark:bg-slate-500",$=()=>f===0&&n===l?"At Starting Weight":`${Math.abs(f).toFixed(1)} lbs ${f<0?"Lost":"Gained"} So Far`;return e.jsxs("div",{className:`bg-bg-card rounded-xl shadow-lg border border-border-default mb-6 ${t?"p-4":g?"p-6":"p-8"}`,children:[e.jsxs("div",{className:`flex ${t?"flex-col":"flex-col sm:flex-row"} justify-between items-start sm:items-center mb-4`,children:[e.jsxs("h2",{className:`${t?"text-lg":g?"text-xl":"text-2xl"} font-semibold text-text-default mb-2 sm:mb-0`,children:["Hello, ",e.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-teal-600 to-cyan-500 dark:from-teal-500 dark:to-cyan-400",children:[s.name,"!"]})]}),e.jsxs("button",{onClick:b,className:`bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all whitespace-nowrap mt-2 sm:mt-0 ${t?"w-full py-3 px-4 text-base":"py-2 px-4 text-sm"}`,children:[e.jsx("i",{className:"fas fa-utensils fa-fw mr-1.5"}),"Next Meal Idea"]})]}),e.jsxs(M,{cols:{xs:2,sm:2,md:4},gap:4,className:"mb-4 text-center",children:[e.jsxs("div",{className:`${t?"p-2":"p-3"} bg-slate-50 dark:bg-slate-700/50 rounded-lg shadow-sm`,children:[e.jsx("p",{className:"text-xs text-text-alt uppercase tracking-wider",children:"Current Weight"}),e.jsxs("p",{className:`${t?"text-lg":"text-2xl"} font-bold text-text-default`,children:[n.toFixed(1)," ",e.jsx("span",{className:"text-sm font-normal",children:"lbs"})]})]}),e.jsxs("div",{className:`${t?"p-2":"p-3"} bg-slate-50 dark:bg-slate-700/50 rounded-lg shadow-sm`,children:[e.jsx("p",{className:"text-xs text-text-alt uppercase tracking-wider",children:"Target Weight"}),e.jsxs("p",{className:`${t?"text-lg":"text-2xl"} font-bold text-text-default`,children:[o.toFixed(1)," ",e.jsx("span",{className:"text-sm font-normal",children:"lbs"})]})]}),e.jsxs("div",{className:`${t?"p-2":"p-3"} bg-slate-50 dark:bg-slate-700/50 rounded-lg shadow-sm`,children:[e.jsx("p",{className:"text-xs text-text-alt uppercase tracking-wider",children:"Next Weigh-In"}),e.jsx("p",{className:`${t?"text-lg":"text-2xl"} font-bold ${x==="Overdue!"||x==="Today!"?"text-orange-500 dark:text-orange-400":"text-text-default"}`,children:x})]}),e.jsxs("div",{className:`${t?"p-2":"p-3"} bg-slate-50 dark:bg-slate-700/50 rounded-lg shadow-sm`,children:[e.jsx("p",{className:"text-xs text-text-alt uppercase tracking-wider",children:"Logging Streak"}),e.jsx("p",{className:`${t?"text-lg":"text-2xl"} font-bold ${d.foodLogStreak>0?"text-teal-600 dark:text-teal-400":"text-text-default"}`,children:d.foodLogStreak>0?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-fire mr-1 text-red-500"}),d.foodLogStreak," Day",d.foodLogStreak>1?"s":""]}):"-"})]})]}),l&&l!==o&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"font-medium text-text-alt",children:$()}),e.jsx("span",{className:"font-medium text-teal-600 dark:text-teal-400",children:w!==0?`${Math.abs(w).toFixed(1)} lbs To Go`:"Goal Reached!"})]}),e.jsxs("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-3.5 shadow-inner overflow-hidden relative",children:[e.jsx("div",{className:`${v()} h-3.5 rounded-full transition-all duration-500 ease-out flex items-center justify-center text-xs text-white font-bold`,style:{width:`${a.toFixed(2)}%`},role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress towards weight goal: ${a.toFixed(0)}%`}),u&&e.jsxs("div",{className:"absolute left-0 top-full mt-0.5 text-xxs text-text-alt leading-none",children:[e.jsx("span",{className:"font-semibold",children:"Starting Weight"}),e.jsx("br",{}),"(",C(p(u),"MMM d, yy"),")"]})]}),e.jsxs("p",{className:"text-xs text-text-alt text-right mt-1",children:[a.toFixed(0),"% Of Goal"]})]})]})};export{q as default};
